{
   "version" : "https://jsonfeed.org/version/1",
   "title" : "memalign.github.io",
   "home_page_url" : "https://memalign.github.io/index.html",
   "feed_url" : "https://memalign.github.io/feed.json",
   "author" : {
      "url" : "https://twitter.com/memalign",
      "name" : "memalign"
   },
   "icon" : "https://memalign.github.io/apple-touch-icon.png",
   "favicon" : "https://memalign.github.io/favicon.ico",
   "items" : [
    {
         "title" : "Fall Asleep",
         "date_published" : "2021-11-13T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/zen-sleep.html",
         "url" : "https://memalign.github.io/p/zen-sleep.html",
         "image" : "https://memalign.github.io/m/japan-men-bridge.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/zen-sleep.html'>Fall Asleep</a>\n</h2>\n</div>\n<img src=\"/m/japan-men-bridge.jpg\">\n<div id='postdate'>Posted on 11/13/2021<br />\nTags: <a href='/tags.html'>Brain Hacking</a></div>\nI've always had a hard time <a href=\"/p/emoji-conway.html\">falling asleep</a>. Closing my eyes invites a whirlwind of thoughts. I can't stop thinking so I can't fall asleep.<br />\n<br />\nThen I found a way to clear my head and fall asleep quickly. It's been working for months now!<br />\n<br />\nHere's what I do:<br />\n<br />\nAs I shower and brush my teeth before bed, I spend that ~30 minutes clearing my head. When I notice a thought, I think \"ah\" and let the thought go, let it dissipate and fade. This isn't the time for thinking and problem solving, it's the time to empty my mind so I can fall asleep.<br />\n<br />\nI repeat this for every thought that creeps in. I've found it also helps to focus on my immediate senses to keep my head emptier: the sound of the toothbrush, the soap/water/friction on my hands. I'm grounded in the present. I'm not thinking about these sounds and feelings; I'm just experiencing them without commentary.<br />\n<br />\nSometimes this helps me notice a feeling of muscle tightness. Maybe I'm furrowing my brow or frowning. Maybe I have tightness in my shoulders. I release the tension and phsyically relax.<br />\n<br />\nI continue this meditation as I slide into bed until I fall asleep. And I continue it if I wake up in the middle of the night.<br />\n<br />\n<br />\n<img src=\"/m/horizontalseparator.png\"><br />\n<br />\nI don't know if this technique is real \"meditation\" in the Zen Buddhism sense but I was inspired to try it after, months ago, stumbling upon <a href=\"https://nkanaev.com/zen101/en/\">101 Zen Stories</a> (<a href=\"https://en.wikipedia.org/wiki/101_Zen_Stories\">Wikipedia</a>). (Warning: these are old and may contain antiquated or even racist terms)<br />\n<br />\nI don't understand them even though they are simple. I tried to search for answers about one of the more famous stories: <a href=\"https://nkanaev.com/zen101/en/021/\">The Sound of One Hand</a> (<a href=\"/m/sound-of-one-hand.html\">mirror</a>).<br />\n<br />\nI found a <a href=\"https://www.quora.com/What-is-the-meaning-behind-What-is-the-sound-of-one-hand-clapping\">Quora thread</a> with some discussion. No answer was perfectly satisfying but two similar posts stood out:<br />\n<br />\nKhi√™m B·∫£o Thi·ªán: <br />\n<blockquote>However, when one asks you about one hand clapping - which is extraordinary, uncommon, unseen, not understandable - your mind starts to set on a quest for answer, which raises a lot of noises, like you throw a big rock into a tranquil lake. ... So, using this koan and similar, for certain situations, helps the learner realize his/her mind's activities.</blockquote>\nChris Peters:<br />\n<blockquote>The idea behind this phrase is not literal, but is meant to \"blend\" your mind Matrix-style and hopefully trick you into observing your mind as it kinda freaks out.</blockquote>\nIs the key to enlightenment learning to notice your thoughts and then clear your head? Who knows. I certainly feel lighter when my head is clear, my muscles are relaxed, and I float off to sleep."
    },
    {
         "title" : "Shape Your Destiny",
         "date_published" : "2021-10-03T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/shape-your-destiny.html",
         "url" : "https://memalign.github.io/p/shape-your-destiny.html",
         "image" : "https://memalign.github.io/m/brain.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/shape-your-destiny.html'>Shape Your Destiny</a>\n</h2>\n</div>\n<img src=\"/m/brain.jpg\">\n<div id='postdate'>Posted on 10/3/2021<br />\nTags: <a href='/tags.html'>Writing</a>, <a href='/tags.html'>Brain Hacking</a></div>\nA friend of ours shared the eulogy he gave for his dad. In it, he quoted a lesson his father taught him as a kid:<br />\n<blockquote>Watch your thoughts, they become words;<br />\nwatch your words, they become actions;<br />\nwatch your actions, they become habits;<br />\nwatch your habits, they become character;<br />\nwatch your character, for it becomes your destiny.</blockquote>\n(This quote and ones with a similar sentiment are often attributed to many different sources. Ultimately, the original is by Frank Outlaw based on <a href=\"https://quoteinvestigator.com/2013/01/10/watch-your-thoughts/\">Quote Investigator</a>'s research.)<br />\n<br />\nI don't think I was taught to watch my thoughts as a kid. At least not in a way that was effective for me.<br />\n<br />\nI was taught that particular actions are bad and why they are bad.<br />\n<br />\nI was taught that jealousy, intolerance, hate, etc are bad.<br />\n<br />\nBut I didn't realize that the way I choose to think about things can have a big impact on long-term happiness and fulfillment in life. On friendships and relationships too.<br />\n<br />\nI realized in adulthood that being happy is a choice much of the time. A choice made every day. Focusing on the positive (and even helping to amplify it) can do a lot to diminish the negative: disappointment, annoyance, frustration, misfortune.<br />\n<br />\nOf course, really bad things happen sometimes and you can't just ignore them. It wouldn't be healthy to try to force yourself to be happy when you're truly hurting. But for all the small bad things, with practice it's possible to decide how much energy to spend thinking about them -- and whether to think about them at all. Sometimes negativity can be self-fulfilling: expecting to have a bad time can lead to having a bad time.<br />\n<br />\nThis is similar to what I'm trying to say in <a href=\"/p/day-and-night.html\">Day and Night</a>. Thinking envious thoughts leads to envious actions. Comparing yourself to others leads to unempathetic behaviors. And envious actions, unempathetic behaviors lead to a lonely life.<br />\n<br />\nOn the other hand, looking for the good and trying to be truly empathetic can lead to happiness, more positivity, and supportive friendships."
    },
    {
         "title" : "Tim's Vermeer",
         "date_published" : "2021-09-25T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/tims-vermeer.html",
         "url" : "https://memalign.github.io/p/tims-vermeer.html",
         "image" : "https://memalign.github.io/m/tim-final-painting-closeup.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/tims-vermeer.html'>Tim's Vermeer</a>\n</h2>\n</div>\n<img src=\"/m/tim-final-painting-closeup.jpg\">\n<div id='postdate'>Posted on 9/25/2021<br />\nTags: <a href='/tags.html'>Art</a>, <a href='/tags.html'>Leisure</a></div>\nI recently saw <a href=\"https://arstechnica.com/science/2021/09/restored-vermeer-painting-finally-reveals-hidden-cupid-in-background/\">news</a> that a painting from the 1650s had been restored to unhide a painting-within-a-painting in the background.<br />\n<br />\nHere's what the \"after\" and \"before\" look like:<br />\n<br />\n<img src=\"/m/vermeer-after-and-before.jpg\"><br />\n<br />\nIt's fascinating that modern technology can both find the hidden painted-over image and confirm that it was painted over by someone other than the artist.<br />\n<br />\nI showed my wife who asked \"Is that a Vermeer?\" which then sent me down another <a href=\"/p/rabbit-hole.html\">rabbit hole</a>.<br />\n<br />\nI asked \"Whoah how could you tell?\" and she said that all Vermeer paintings look exactly like this due to similar composition and photo-realistic lighting.<br />\n<br />\nI found that I was already familiar with one of Vermeer's paintings, <a href=\"https://en.wikipedia.org/wiki/Girl_with_a_Pearl_Earring\">Girl with a Pearl Earring</a>, possibly due to its use as an example image in computer vision.<br />\n<br />\n<img src=\"/m/912px-1665_Girl_with_a_Pearl_Earring.jpg\"><br />\n<br />\nThen I stumbled upon <a href=\"https://en.wikipedia.org/wiki/Tim%27s_Vermeer\">Tim's Vermeer</a>, a documentary made by Penn and Teller about an inventor (and successful company founder) named Tim Jenison who had a side-project (bordering on obsession) to understand how Vermeer captured such realistic lighting in paintings and then do so himself.<br />\n<br />\nHe ultimately figured out a combination of two mirrors that enable you to color match what's painted exactly to the real scene. It turns the process of painting a brilliant masterpiece into something mechanical, essentially a manual photograph machine with a person holding a paintbrush in the middle.<br />\n<br />\nHe starts out copying an old black-and-white photograph this way:<br />\n<br />\n<img src=\"/m/tim-photograph.jpg\"><br />\n<br />\nThe results are phenomenal! Tim says this was the first painting he's ever made and it was a wholly mechanical process of copying the color he saw in the mirror.<br />\n<br />\nAfter that successful proof of concept, Tim sets out to completely recreate one of Vermeer's most detailed paintings.<br />\n<br />\nCheck out the full documentary (it's only 80 minutes long and you can <a href=\"/p/speed-up-av.html\">watch it faster than 1x</a>) to see how he first replicates the physical space and then reproduces the painting. The painting itself takes 130 days.<br />\n<br />\nHere are some snapshots of the mirror setup and the final painting:<br />\n<br />\n<img src=\"/m/tim-mirror-setup.jpg\"><br />\n<img src=\"/m/tim-final-painting-closeup.jpg\"><br />\n<img src=\"/m/tim-with-painting.jpg\"><br />\n<br />\nBy the end of the documentary, I'm convinced that Vermeer used a setup like Tim's. Here's why:<br />\n<br />\n- At one point, Tim realizes that the mirrors cause slight visual distortion in the form of curving of straight lines. He looks at the original Vermeer and discovers the same distortion!<br />\n- The lighting in Vermeer paintings goes beyond what the human visual system can detect across the size of the rooms in the paintings<br />\n- The fine detail in the rug in the painting is not perceivable from the artist's distance without the magnifying help of the mirrors<br />\n- And several more visual quirks of Vermeer's paintings shown in the documentary<br />\n<br />\nBut don't take my word for it - check it out yourself!"
    },
    {
         "title" : "Day and Night",
         "date_published" : "2021-09-18T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/day-and-night.html",
         "url" : "https://memalign.github.io/p/day-and-night.html",
         "image" : "https://memalign.github.io/m/FullMoon2010.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/day-and-night.html'>Day and Night</a>\n</h2>\n</div>\n<img src=\"/m/FullMoon2010.jpg\">\n<div id='postdate'>Posted on 9/18/2021<br />\nTags: <a href='/tags.html'>Writing</a>, <a href='/tags.html'>Poetry</a></div>\nSaul made a friend or two<br />\nA friend was successful, Saul celebrated<br />\nA friend had misfortune, Saul felt their pain and supported them with kindness<br />\nSaul had success, the friends celebrated<br />\nSaul had misfortune, they came to the rescue<br />\nSometimes they didn't see each other but could always pick up where they left off<br />\nFriendships were sometimes superficial and sometimes deep<br />\nThey looked past the worst in each other and focused on the best<br />\nConsciously managing impulses, starving envy, amplifying empathy<br />\nTheir warmth welcomed others and their circle grew<br />\n<br />\nLuna had some friends<br />\nA friend had professional success, but Luna could have done that job better<br />\nA friend had a relationship, but their partner wasn't very intelligent or funny or interesting or attractive or...<br />\nA friend tried to stay in touch, but it was just superficial. Why are they even bothering?<br />\nA friend was happy to catch up and chat, but they were never the one to initiate. Forget them.<br />\nLuna and a friend had an argument. Luna was still upset later and said some hurtful things, as hurtful as possible. Later, with regret, Luna asked, \"Why can't we pick back up where we left off? Can't you see I need you? Can't you see I need compassion?\"<br />\nBut no one was left to respond"
    },
    {
         "title" : "Lights Off",
         "date_published" : "2021-08-14T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/lights-off.html",
         "url" : "https://memalign.github.io/p/lights-off.html",
         "image" : "https://memalign.github.io/m/lightsoff.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/lights-off.html'>Lights Off</a>\n</h2>\n</div>\n<img src=\"/m/lightsoff.jpg\">\n<div id='postdate'>Posted on 8/14/2021<br />\nTags: <a href='/tags.html'>Games</a>, <a href='/tags.html'>Programming</a></div>\nTap or click and take a trip down memory lane with the historic Lights Off. Exactly fourteen years ago today Wired got the scoop: <a href=\"https://www.wired.com/2007/08/lights-off-first-iphone-native-game-arrives/\">Lights Off: First iPhone Native Game Arrives</a>.<br />\n<br />\nAnd today I'm sharing a new implementation that everyone can play in their web browser:<br />\n<br />\n<a href=\"/m/lightsoff/index.html\">Play here!</a><br />\n<br />\n<br />\nLights Off's story begins with Tiger Electronics who launched their game <a href=\"https://en.wikipedia.org/wiki/Lights_Out_(game)\">Lights Out</a> in 1995. Then in 2007 Lucas Newman and Adam Betts cloned the game for the iPhone's touch screen. Notably, they built the game before there was an official iPhone SDK or App Store. It was only available to jailbreakers!<br />\n<br />\nA year later, <a href=\"https://twitter.com/chockenberry\">Craig Hockenberry</a> wrote a <a href=\"https://furbo.org/2008/09/19/lights-off/\">post</a> to commemorate the milestone and share the <a href=\"https://github.com/chockenberry/LightsOffTouch/\">source code</a> (<a href=\"/m/lightsoff-orig.zip\">my backup</a>).<br />\n<br />\nSince then the app was rebuilt and modernized by <a href=\"https://twitter.com/stroughtonsmith\">Steve Troughton-Smith</a> as possibly the <a href=\"https://twitter.com/bennettk/status/880175781057445888?s=20\">oldest</a> <a href=\"https://twitter.com/gruber/status/880462796286291968?s=20\">still-actively-maintained app</a> on the App Store. You can find his version <a href=\"https://apps.apple.com/us/app/lights-off/id292025150\">here</a>.<br />\n<br />\nFor more history on the App Store and its first killer apps, check out <a href=\"https://techcrunch.com/2018/03/06/the-day-that-changed-your-phone-forever/\">this article</a> (also written by Craig Hockenberry - <a href=\"https://blog.iconfactory.com/2018/03/a-lot-can-happen-in-a-decade/\">mirror</a> on the iconfactory website).<br />\n<br />\n<br />\nIn the process of building the web version, I wrote <a href=\"/m/lightsoff/unitTests.html\">tests</a> (<a href=\"/m/lightsoff/UnitTests.js\">source code</a>) to ensure every level is solvable. To my surprise almost half of the original levels <a href=\"https://github.com/chockenberry/LightsOffTouch/issues/1\">cannot be solved</a>! How cruel! This was probably a mistake in how the levels were generated - maybe by flipping certain lights on without checking that the overall puzzle was valid.<br />\n<br />\nTo replace the bad levels, I generated my own levels of increasing difficulty by ramping up the minimum number of taps required to solve each puzzle. My algorithm can be found in the unit tests code in the \"test_generateLevels\" method. This could even be hooked into the game itself for an \"endless\" mode.<br />\n<br />\nIf ever you can't figure out how to solve a level in the fewest taps, there's a guaranteed method to win called \"light chasing\" or \"chase the lights\":<br />\n- Start on the top row<br />\n- For every lit button in the row, turn it off by tapping the button in the row right below it<br />\n- Repeat until you get to the bottom row<br />\n- At this point, the bottom row will have one of seven patterns. Based on the pattern, tap the specific circled cells on the top row and repeat these steps. By the time you reach the bottom row again, every light will be off!<br />\n<div id='code'>‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚≠ïÔ∏è‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ  =&gt;  ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\nüü°üü°üü°‚¨õ‚¨õ      üü°üü°üü°‚¨õ‚¨õ<br />\n<br />\n<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚≠ïÔ∏è‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ  =&gt;  ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õüü°üü°üü°      ‚¨õ‚¨õüü°üü°üü°<br />\n<br />\n<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚≠ïÔ∏è‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ  =&gt;  ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\nüü°üü°‚¨õüü°üü°      üü°üü°‚¨õüü°üü°<br />\n<br />\n<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚≠ïÔ∏è<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ  =&gt;  ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\nüü°‚¨õüü°üü°‚¨õ      üü°‚¨õüü°üü°‚¨õ<br />\n<br />\n<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚≠ïÔ∏è‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ  =&gt;  ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õüü°üü°‚¨õüü°      ‚¨õüü°üü°‚¨õüü°<br />\n<br />\n<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚≠ïÔ∏è‚≠ïÔ∏è‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ  =&gt;  ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\nüü°‚¨õ‚¨õ‚¨õüü°      üü°‚¨õ‚¨õ‚¨õüü°<br />\n<br />\n<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚≠ïÔ∏è‚¨õ‚¨õ‚≠ïÔ∏è‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ  =&gt;  ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ      ‚¨õ‚¨õ‚¨õ‚¨õ‚¨õ<br />\n‚¨õüü°‚¨õüü°‚¨õ      ‚¨õüü°‚¨õüü°‚¨õ</div>\nWhile every level can be beaten mechanically like this, it's still more fun (and often faster) to find the fewest taps needed! That's the real challenge.<br />\n<br />\nHave fun! :)<br />\n"
    },
    {
         "title" : "Batman Curve",
         "date_published" : "2021-08-07T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/batman-curve.html",
         "url" : "https://memalign.github.io/p/batman-curve.html",
         "image" : "https://memalign.github.io/m/batman-curve.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/batman-curve.html'>Batman Curve</a>\n</h2>\n</div>\n<img src=\"/m/batman-curve.jpg\">\n<div id='postdate'>Posted on 8/7/2021<br />\nTags: <a href='/tags.html'>Math</a></div>\nWith <a href=\"/m/formulagraph/index.html\">FormulaGraph</a> now available, it's easier than ever to explore more <a href=\"/p/shape-catalog.html\">math shapes</a>.<br />\n<br />\nAn interesting one is the \"Batman Curve\".<br />\n<br />\nA professor named J. Matthew Register created this formula to make math fun. Here's what he says about the history in a <a href=\"https://www.quora.com/Who-wrote-the-Batman-equation\">post on Quora</a>:<br />\n\"I wrote it many, many years ago. I was teaching at a few art schools throughout the greater Sacramento area, and I used it to engage my students in the topic of graphing. One of my coolest students (Mr. Wilkinson aka i_luv_ur_mom) <a href=\"https://www.reddit.com/r/pics/comments/j2qjc/do_you_like_batman_do_you_like_math_my_math/\">posted it to Reddit</a> back in 2011 and it went viral. I'm a full time professor over at American River College, doing every thing I can to make math as enjoyable as possible.\"<br />\n<br />\nThere's a nice breakdown of how the formula's separate pieces come together to make the full shape on <a href=\"https://math.stackexchange.com/questions/54506/is-this-batman-equation-for-real\">Math StackExchange</a>.<br />\n<br />\nWhile the 6-formula version graphs ok (<a href=\"/m/formulagraph/index.html?f1(x,t)=(abs(x/2)-((3*sqrt(33)-7)/112)*(x%5E2)-3+sqrt(1-(abs(abs(x)-2)-1)%5E2)-y)=0&v1=true&f2(x,t)=(9*sqrt(abs((abs(x)-1)*(abs(x)-0.75))/((1-abs(x))*(abs(x)-0.75)))-8*abs(x)-y)=0&v2=true&f3(x,t)=(3*abs(x)+0.75*sqrt(abs((abs(x)-0.75)*(abs(x)-0.5))/((0.75-abs(x))*(abs(x)-0.5)))-y)=0&v3=true&f4(x,t)=%20%20(2.25*sqrt(abs((x-0.5)*(x+0.5))/((0.5-x)*(0.5+x)))-y)=0&v4=true&f5(x,t)=%20%20(6*sqrt(10)/7+(1.5-0.5*abs(x))*sqrt(abs(abs(x)-1)/(abs(x)-1))-6*sqrt(10)/14*sqrt(4-(abs(x)-1)%5E2)-y)=0&v5=true&f6(x,t)=(((x/7)%5E2)*sqrt((abs(abs(x)-3))/(abs(x)-3))+((y/3)%5E2)*sqrt((abs(y+3*sqrt(33)/7))/(y+3*sqrt(33)/7))-1)=0&v6=true&grid=true&coords=0,0,12&paused=true\">see here</a> or <a href=\"https://www.desmos.com/calculator/dnzfajfpym\">on Desmos</a>), I noticed that the original single formula version does not work in FormulaGraph or Desmos (it forms a <a href=\"/m/formulagraph/index.html?f1(x,t)=(abs(x/2)-((3*sqrt(33)-7)/112)*(x%5E2)-3+sqrt(1-(abs(abs(x)-2)-1)%5E2)-y)*%20(9*sqrt(abs((abs(x)-1)*(abs(x)-0.75))/((1-abs(x))*(abs(x)-0.75)))-8*abs(x)-y)*%20(3*abs(x)+0.75*sqrt(abs((abs(x)-0.75)*(abs(x)-0.5))/((0.75-abs(x))*(abs(x)-0.5)))-y)*%20(2.25*sqrt(abs((x-0.5)*(x+0.5))/((0.5-x)*(0.5+x)))-y)*%20(6*sqrt(10)/7+(1.5-0.5*abs(x))*sqrt(abs(abs(x)-1)/(abs(x)-1))-6*sqrt(10)/14*sqrt(4-(abs(x)-1)%5E2)-y)*%20(((x/7)%5E2)*sqrt((abs(abs(x)-3))/(abs(x)-3))+((y/3)%5E2)*sqrt((abs(y+3*sqrt(33)/7))/(y+3*sqrt(33)/7))-1)=0&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">blank graph</a> showing no solutions). User copper.hat on Math StackExchange notes why: there are several terms which introduce an imaginary number (by taking sqrt of a negative number). For this reason, the combined formula does not have the solutions required for the necessary range of x and y values. (Wolfram also has a <a href=\"https://mathworld.wolfram.com/BatmanCurve.html\">writeup</a> that notes that the Batman Curve is defined piecewise.)<br />\n<br />\nThe original formula uses the trick of undefined/imaginary values to truncate shapes to a specific range of x values. Since this trick breaks the formula, I wondered if it's possible to find a different gadget that could constrain x values without introducing undefined/imaginary values.<br />\n<br />\nHere's what I came up with:<br />\n<div id='code'>For a formula F, constrain its x values to the interval [L, U] with:<br />\n<br />\n((F)^2 + min(1, ceil(abs(min(0, U-x)))) + min(1, ceil(abs(max(0, L-x))))) = 0</div>\nTo fix the Batman Curve, I went segment-by-segment applying the gadget. First, I needed to resolve any undefined/imaginary results. Second, I needed to apply my gadget for the relevant x (and sometimes y) ranges.<br />\n<br />\nHere's the crazy formula I ended up with:<br />\n<div id='code'>(((2.25-y)^2+min(1, ceil(abs(min(0, 0.5-x))))+min(1, ceil(abs(max(0, -0.5-x))))) * ((abs(x/2)-((3*sqrt(33)-7)/112)*(x^2)-3+sqrt(abs(1-(abs(abs(x)-2)-1)^2))-y)^2 + min(1, ceil(abs(min(0, 4-x))))+min(1, ceil(abs(max(0, -4-x)))))) * (((min(1, ceil(abs(max(0, 3-x))))+min(1, ceil(abs(min(0, 7-x))))) + min(1, ceil(abs(max(0, 0-y))))+ (((x/7)^2)+((y/3)^2)-1)) * ((min(1, ceil(abs(max(0, 4-x))))+min(1, ceil(abs(min(0, 7-x))))) + min(1, ceil(abs(min(0, 0-y))))+ (((x/7)^2)+((y/3)^2)-1)) * ((min(1, ceil(abs(max(0, 3-(-x)))))+min(1, ceil(abs(min(0, 7-(-x)))))) + min(1, ceil(abs(max(0, 0-y))))+ (((-x/7)^2)+((y/3)^2)-1)) * ((min(1, ceil(abs(max(0, 4-(-x)))))+min(1, ceil(abs(min(0, 7-(-x)))))) + min(1, ceil(abs(min(0, 0-y))))+ (((-x/7)^2)+((y/3)^2)-1))  +  min(1, ceil(abs(max(0, 1-abs(x)))))) * ((min(1, ceil(abs(min(0, 3-x))))+min(1, ceil(abs(max(0, 1-x))))) +  ((6*sqrt(10)/7+(1.5-0.5*abs(x))  -6*sqrt(10)/14*sqrt(abs(4-(abs(x)-1)^2))-y))^2) * ((min(1, ceil(abs(min(0, 3+x))))+min(1, ceil(abs(max(0, 1+x))))) +  ((6*sqrt(10)/7+(1.5-0.5*abs(-x))  -6*sqrt(10)/14*sqrt(abs(4-(abs(-x)-1)^2))-y))^2) * ((min(1, ceil(abs(max(0, 1-y))))+min(1, ceil(abs(min(0, 3-y))))) + (9-8*abs(x)-y)^2) * ((min(1, ceil(abs(max(0, 2.25-y))))+min(1, ceil(abs(min(0, 3-y))))) +  (3*abs(x)+0.75-y)^2) = 0</div>\n<a href=\"/m/formulagraph/index.html?f1(x,t)=(((2.25-y)%5E2+min(1,%20ceil(abs(min(0,%200.5-x))))+min(1,%20ceil(abs(max(0,%20-0.5-x)))))%20*%20((abs(x/2)-((3*sqrt(33)-7)/112)*(x%5E2)-3+sqrt(abs(1-(abs(abs(x)-2)-1)%5E2))-y)%5E2%20+%20min(1,%20ceil(abs(min(0,%204-x))))+min(1,%20ceil(abs(max(0,%20-4-x))))))%20*%20(((min(1,%20ceil(abs(max(0,%203-x))))+min(1,%20ceil(abs(min(0,%207-x)))))%20+%20min(1,%20ceil(abs(max(0,%200-y))))+%20(((x/7)%5E2)+((y/3)%5E2)-1))%20*%20((min(1,%20ceil(abs(max(0,%204-x))))+min(1,%20ceil(abs(min(0,%207-x)))))%20+%20min(1,%20ceil(abs(min(0,%200-y))))+%20(((x/7)%5E2)+((y/3)%5E2)-1))%20*%20((min(1,%20ceil(abs(max(0,%203-(-x)))))+min(1,%20ceil(abs(min(0,%207-(-x))))))%20+%20min(1,%20ceil(abs(max(0,%200-y))))+%20(((-x/7)%5E2)+((y/3)%5E2)-1))%20*%20((min(1,%20ceil(abs(max(0,%204-(-x)))))+min(1,%20ceil(abs(min(0,%207-(-x))))))%20+%20min(1,%20ceil(abs(min(0,%200-y))))+%20(((-x/7)%5E2)+((y/3)%5E2)-1))%20%20+%20%20min(1,%20ceil(abs(max(0,%201-abs(x)))))%20%20%20)%20*%20((min(1,%20ceil(abs(min(0,%203-x))))+min(1,%20ceil(abs(max(0,%201-x)))))%20+%20%20((6*sqrt(10)/7+(1.5-0.5*abs(x))%20%20-6*sqrt(10)/14*sqrt(abs(4-(abs(x)-1)%5E2))-y))%5E2)%20*%20((min(1,%20ceil(abs(min(0,%203+x))))+min(1,%20ceil(abs(max(0,%201+x)))))%20+%20%20((6*sqrt(10)/7+(1.5-0.5*abs(-x))%20%20-6*sqrt(10)/14*sqrt(abs(4-(abs(-x)-1)%5E2))-y))%5E2)%20*%20((min(1,%20ceil(abs(max(0,%201-y))))+min(1,%20ceil(abs(min(0,%203-y)))))%20+%20(9-8*abs(x)-y)%5E2)%20*%20((min(1,%20ceil(abs(max(0,%202.25-y))))+min(1,%20ceil(abs(min(0,%203-y)))))%20+%20%20(3*abs(x)+0.75-y)%5E2)%20=%200&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">FormulaGraph link</a><br />\n<br />\nThis curve is pictured at the top of this post!<br />\n<br />\n(See my raw <a href=\"/m/batman-notes.html\">stream of consciousness notes</a> as I went step-by-step)<br />\n<br />\n<br />\nThere are a few more Batman Curves that I found on the pages linked above:<br />\n<br />\nHere's a different and simpler formula (though I don't think it looks as good) from copper.hat's post on Math StackExchange:<br />\n<div id='code'>0=-1+(1/6)*x^2+(1/3)*y^2+max(0,2-(1.5*(x+3)^2+(y+2.7)^2))+max(0,2-(1.5*(x-3)^2+(y+2.7)^2))+max(0,2-(1.9*((5*(x+1)+(y+3.5))/sqrt(26))^2+1/1.7*((-(x+1)+5*(y+3.5))/sqrt(26))^2))+max(0,2-(1.9*((5*(x-1)-(y+3.5))/sqrt(26))^2+1/1.7*(((x-1)+5*(y+3.5))/sqrt(26))^2))+max(0,2-((1.1*(x-2))^4-(y-2.1)))+max(0,2-((1.1*(x+2))^4-(y-2.1)))+max(0,2-((1.5*x)^8-(y-3.5)))</div>\n<a href=\"/m/formulagraph/index.html?f1(x,t)=0=-1+(1/6)*x%5E2+(1/3)*y%5E2+max(0,2-(1.5*(x+3)%5E2+(y+2.7)%5E2))+max(0,2-(1.5*(x-3)%5E2+(y+2.7)%5E2))+max(0,2-(1.9*((5*(x+1)+(y+3.5))/sqrt(26))%5E2+1/1.7*((-(x+1)+5*(y+3.5))/sqrt(26))%5E2))+max(0,2-(1.9*((5*(x-1)-(y+3.5))/sqrt(26))%5E2+1/1.7*(((x-1)+5*(y+3.5))/sqrt(26))%5E2))+max(0,2-((1.1*(x-2))%5E4-(y-2.1)))+max(0,2-((1.1*(x+2))%5E4-(y-2.1)))+max(0,2-((1.5*x)%5E8-(y-3.5)))&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">FormulaGraph link</a><br />\n<br />\nJ. Matthew Register shared a newer formula on his Quora post:<br />\n<div id='code'>(3*sqrt(4-(abs(x)-2)^2)+abs(x)-20-4*y)<br />\n*<br />\n(3*sqrt(4-(abs(x)-6)^2)+abs(x)-20-4*y)<br />\n*<br />\n(x^2+4*(y^2)-100*sqrt(abs((7-abs(2*y-1)))/(7-abs(2*y-1))))<br />\n*<br />\n(2*((abs(x)-3)^2)-9*y+18*sqrt(abs((2-abs((abs(x)-4))))/(2-abs((abs(x)-4)))))<br />\n*<br />\n(-68*abs((abs(x)-3/2))-9*y+54*sqrt(abs((43-abs((136*abs(x)-229))))/(43-abs((136*abs(x)-229)))))<br />\n*<br />\n(y-5*sqrt(abs((1-abs(x)))/(1-abs(x)))) = 0</div>\n<a href=\"/m/formulagraph/index.html?f1(x,t)=(3*sqrt(4-(abs(x)-2)%5E2)+abs(x)-20-4*y)=0&v1=true&f2(x,t)=(3*sqrt(4-(abs(x)-6)%5E2)+abs(x)-20-4*y)=0&v2=true&f3(x,t)=(x%5E2+4*(y%5E2)-100*sqrt(abs((7-abs(2*y-1)))/(7-abs(2*y-1))))=0&v3=true&f4(x,t)=(2*((abs(x)-3)%5E2)-9*y+18*sqrt(abs((2-abs((abs(x)-4))))/(2-abs((abs(x)-4)))))=0&v4=true&f5(x,t)=(-68*abs((abs(x)-3/2))-9*y+54*sqrt(abs((43-abs((136*abs(x)-229))))/(43-abs((136*abs(x)-229)))))=0&v5=true&f6(x,t)=(y-5*sqrt(abs((1.4-abs(x)))/(1.4-abs(x))))=0&v6=true&grid=true&coords=0,0,12&paused=true<br />\n\">FormulaGraph link</a><br />\n<br />\n(I made one substantive change as I re-transcribed the formula so the top of head line would be long enough to touch the ears)<br />\n<br />\nCompare his original and new Batman Curves <a href=\"/m/formulagraph/index.html?f1(x,t)=(3*sqrt(4-(abs(x)-2)%5E2)+abs(x)-20-4*y)=0&v1=true&f2(x,t)=(3*sqrt(4-(abs(x)-6)%5E2)+abs(x)-20-4*y)=0&v2=true&f3(x,t)=(x%5E2+4*(y%5E2)-100*sqrt(abs((7-abs(2*y-1)))/(7-abs(2*y-1))))=0&v3=true&f4(x,t)=(2*((abs(x)-3)%5E2)-9*y+18*sqrt(abs((2-abs((abs(x)-4))))/(2-abs((abs(x)-4)))))=0&v4=true&f5(x,t)=(-68*abs((abs(x)-3/2))-9*y+54*sqrt(abs((43-abs((136*abs(x)-229))))/(43-abs((136*abs(x)-229)))))=0&v5=true&f6(x,t)=(((2.25-y)%5E2+min(1,%20ceil(abs(min(0,%200.5-x))))+min(1,%20ceil(abs(max(0,%20-0.5-x)))))%20*%20((abs(x/2)-((3*sqrt(33)-7)/112)*(x%5E2)-3+sqrt(abs(1-(abs(abs(x)-2)-1)%5E2))-y)%5E2%20+%20min(1,%20ceil(abs(min(0,%204-x))))+min(1,%20ceil(abs(max(0,%20-4-x))))))%20*%20(((min(1,%20ceil(abs(max(0,%203-x))))+min(1,%20ceil(abs(min(0,%207-x)))))%20+%20min(1,%20ceil(abs(max(0,%200-y))))+%20(((x/7)%5E2)+((y/3)%5E2)-1))%20*%20((min(1,%20ceil(abs(max(0,%204-x))))+min(1,%20ceil(abs(min(0,%207-x)))))%20+%20min(1,%20ceil(abs(min(0,%200-y))))+%20(((x/7)%5E2)+((y/3)%5E2)-1))%20*%20((min(1,%20ceil(abs(max(0,%203-(-x)))))+min(1,%20ceil(abs(min(0,%207-(-x))))))%20+%20min(1,%20ceil(abs(max(0,%200-y))))+%20(((-x/7)%5E2)+((y/3)%5E2)-1))%20*%20((min(1,%20ceil(abs(max(0,%204-(-x)))))+min(1,%20ceil(abs(min(0,%207-(-x))))))%20+%20min(1,%20ceil(abs(min(0,%200-y))))+%20(((-x/7)%5E2)+((y/3)%5E2)-1))%20%20+%20%20min(1,%20ceil(abs(max(0,%201-abs(x))))))%20*%20((min(1,%20ceil(abs(min(0,%203-x))))+min(1,%20ceil(abs(max(0,%201-x)))))%20+%20%20((6*sqrt(10)/7+(1.5-0.5*abs(x))%20%20-6*sqrt(10)/14*sqrt(abs(4-(abs(x)-1)%5E2))-y))%5E2)%20*%20((min(1,%20ceil(abs(min(0,%203+x))))+min(1,%20ceil(abs(max(0,%201+x)))))%20+%20%20((6*sqrt(10)/7+(1.5-0.5*abs(-x))%20%20-6*sqrt(10)/14*sqrt(abs(4-(abs(-x)-1)%5E2))-y))%5E2)%20*%20((min(1,%20ceil(abs(max(0,%201-y))))+min(1,%20ceil(abs(min(0,%203-y)))))%20+%20(9-8*abs(x)-y)%5E2)%20*%20((min(1,%20ceil(abs(max(0,%202.25-y))))+min(1,%20ceil(abs(min(0,%203-y)))))%20+%20%20(3*abs(x)+0.75-y)%5E2)%20=%200&v6=true&grid=true&coords=0,0,12&paused=true\">here</a>."
    },
    {
         "title" : "FormulaGraph",
         "date_published" : "2021-08-04T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/formulagraph.html",
         "url" : "https://memalign.github.io/p/formulagraph.html",
         "image" : "https://memalign.github.io/m/formulagraph.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/formulagraph.html'>FormulaGraph</a>\n</h2>\n</div>\n<img src=\"/m/formulagraph.jpg\">\n<div id='postdate'>Posted on 8/4/2021<br />\nTags: <a href='/tags.html'>Programming</a>, <a href='/tags.html'>Math</a></div>\nI'm excited to introduce <a href=\"/m/formulagraph/index.html\">FormulaGraph</a>, a graphing calculator for general formulas (not just functions of x)!<br />\n<br />\nWhereas many graphing calculators require an equation like <a href=\"/m/formulagraph/index.html?f1(x,t)=y%20=%20sqrt(1-x%5E2)&v1=true&f2(x,t)=y%20=%20-sqrt(1-x%5E2)&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">y = sqrt(1 - x^2)</a>, FormulaGraph can handle formulas like <a href=\"/m/formulagraph/index.html?f1(x,t)=y%5E2%20+%20x%5E2%20=%201&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">y^2 + x^2 = 1</a>. You don't have to solve for y to use FormulaGraph.<br />\n<br />\nHere's what else it can do:<br />\n<br />\n- Polar formulas in terms of r and theta, such as <a href=\"/m/formulagraph/index.html?f1(x,t)=r%20=%202*sin(2*theta)&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">r = 2*sin(2*theta)</a><br />\n- Animate based on time t: <a href=\"/m/formulagraph/index.html?f1(x,t)=y=%20x%5E(t%254)&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=false\">y = x^(t % 4)</a><br />\n- Inequalities: <a href=\"/m/formulagraph/index.html?f1(x,t)=x%5E100%20+%20y%5E100%20%3C=%202&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">x^100 + y^100 <= 2</a><br />\n- Handle panning and zooming using mouse and touch/pinch<br />\n- Share links<br />\n<br />\n<br />\nWhile FormulaGraph lacks features other graphing calculators have (such as precisely calculating y- and x-intercepts), it has some unique benefits:<br />\n(I introduced this list of calculators <a href=\"/p/draw-shapes.html\">previously</a>)<br />\n<br />\n- TI-83 Plus<br />\n&nbsp;&nbsp;- Features only in FormulaGraph: interactive graphs, animate with time, available in any web browser, graph formulas (not just functions)<br />\n<br />\n- WolframAlpha<br />\n&nbsp;&nbsp;- Features only in FormulaGraph: interactive graphs, animate with time<br />\n&nbsp;&nbsp;- WolframAlpha won't graph some formulas, e.g. <a href=\"/m/formulagraph/index.html?f1(x,t)=y%5E2+x%5Ex=1&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">y^2+x^x=1</a> and <a href=\"/m/formulagraph/index.html?f1(x,t)=x%5Ey=x%5Ex%5Ex%5Ex%5Ex%5Ex&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">x^y=x^x^x^x^x^x</a><br />\n<br />\n- Meta-Calculator<br />\n&nbsp;&nbsp;- Features only in FormulaGraph: interactive graphs, animate with time, graph formulas (not just functions), modulo operator<br />\n<br />\n- FooPlot<br />\n&nbsp;&nbsp;- Features only in FormulaGraph: animate with time, graph formulas (not just functions), graph inequalities<br />\n<br />\n- GeoGebra Graphing Calculator<br />\n&nbsp;&nbsp;- Features only in FormulaGraph: available in any web browser, graph polar formulas, modulo operator<br />\n&nbsp;&nbsp;- GeoGebra Graphing Calculator won't graph some formulas, e.g. <a href=\"/m/formulagraph/index.html?f1(x,t)=x*y*(x-y)*(x+y)%20%3C%201&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">x*y*(x-y)*(x+y) < 1</a><br />\n<br />\n- Desmos<br />\n&nbsp;&nbsp;- Desmos is really great. It's the best graphing calculator in this list. It can handle formulas, animations, polar formulas, and more!<br />\n&nbsp;&nbsp;- One thing FormulaGraph handles better: Desmos doesn't support polar equations which aren't linear in r. Example: <a href=\"/m/formulagraph/index.html?f1(x,t)=r%5E2=cos(theta)&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">r^2 = cos(theta)</a><br />\n&nbsp;&nbsp;- Desmos has another quirky inconvenience: it's not possible to copy/paste formulas or easily edit their text. FormulaGraph's formula input boxes are super convenient in comparison. This feature is a must-have to make complex shapes like the <a href=\"/p/batman-curve.html\">Batman Curve</a>.<br />\n<br />\n- NumWorks Graphing Calculator<br />\n&nbsp;&nbsp;- Features only in FormulaGraph: interactive graphs, convenient UI, animate with time, available in any web browser, graph formulas (not just functions), graph polar formulas, graph inequalities<br />\n<br />\n- Relplot<br />\n&nbsp;&nbsp;- Features only in FormulaGraph: interactive graphs, animate with time<br />\n&nbsp;&nbsp;- Relplot has some graphing correctness bugs. Examples: <a href=\"/m/formulagraph/index.html?f1(x,t)=y=x%252&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">y = x mod 2</a>, <a href=\"/m/formulagraph/index.html?f1(x,t)=y=x%5Ex&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">y = x^x</a>, <a href=\"/m/formulagraph/index.html?f1(x,t)=y%5Ey=x%5Ex&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">y^y = x^x</a>, <a href=\"/m/formulagraph/index.html?f1(x,t)=r=2*sin(4*theta)&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">r = 2*sin(4*theta)</a>, <a href=\"/m/formulagraph/index.html?f1(x,t)=r=theta&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">r = theta</a> covers a small range of theta values<br />\n&nbsp;&nbsp;- I'm reporting these bugs and I hope they get fixed!<br />\n<br />\n- Graphtoy<br />\n&nbsp;&nbsp;- Features only in FormulaGraph: graph formulas (not just functions), graph polar formulas, graph inequalities<br />\n&nbsp;&nbsp;- Graphtoy has visual glitches (missing segments) when drawing circles and other similar shapes (e.g. <a href=\"/m/formulagraph/index.html?f1(x,t)=y=sqrt(1-x%5E2)&v1=true&f2(x,t)=y=-sqrt(1-x%5E2)&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">y = sqrt(1-x^2) and y = -sqrt(1-x^2)</a>)<br />\n<br />\n- Bonus: FormulaGraph has tons of test coverage, including checks that graphs render accurately. You can run the tests <a href=\"/m/formulagraph/unitTests.html\">here</a>. Beware: they take ~1 minute to run!<br />\n<br />\n<br />\nFormulaGraph's origins:<br />\n<br />\nThis is a hobby project I made by combining code and ideas from other peoples' cool projects.<br />\n<br />\nIt all started with <a href=\"https://www.cs.cornell.edu/w8/~andru/relplot/\">Relplot</a>, a project by Cornell's <a href=\"https://www.cs.cornell.edu/andru/\">Andrew Myers</a>. In Professor Myers' functional programming class, we implemented formula plotters using interval arithmetic.<br />\n<br />\nOver a decade later, I stumbled upon <a href=\"https://www.iquilezles.org\">Inigo Quilez</a>'s <a href=\"https://graphtoy.com/\">Graphtoy</a>. I had fun <a href=\"/p/shape-catalog.html\">making shapes</a> and I thought it'd be even more fun to bring Relplot's general formula capabilities to Graphtoy's interactive UI.<br />\n<br />\nSo that's what I did: I ported Relplot's implementation of interval arithmetic from SML to JavaScript and spliced it into Graphtoy. I really appreciate all the work Professor Myers and Inigo did, especially publishing the source code for these projects.<br />\n<br />\nThere was one remaining difficulty: While Graphtoy uses JavaScript's built-in parser for inputted expressions, I needed to completely replace the implementations of operators like +, -, *, /, %. JavaScript doesn't have operator overloading so I needed my own expression parser.<br />\n<br />\nThat's where <a href=\"https://www.teamten.com/\">Lawrence Kesteloot</a>'s awesome web implementation of <a href=\"https://github.com/lkesteloot/turbopascal\">Turbo Pascal</a> (<a href=\"/m/turbopascal.zip\">my backup</a>) comes in (see his interesting <a href=\"https://www.teamten.com/lawrence/projects/turbo_pascal_compiler/\">writeup</a> about the project). I simply copied and reused his expression parser. Thank you Lawrence for building and sharing that passion project! I particularly like that this project has very few dependencies. And I was able to remove the few 3rd party dependencies it had in the portion of code I reused.<br />\n<br />\nKey integration points where these projects are glued together:<br />\n- <a href=\"/m/formulagraph/relplot.js\">relplot.js</a> - look for \"MAIntervalMath\" for a reimplementation of Relplot's interval arithmetic<br />\n- <a href=\"/m/formulagraph/graphtoy.js\">graphtoy.js</a> - look for \"Draw Relplot graphs\" to see where Relplot was added to Graphtoy<br />\n- <a href=\"/m/formulagraph/utilities.js\">utilities.js</a> - look for \"_convertFormulaToFnSyntax\" to see where the parser comes into play<br />\n<br />\n<br />\nHere are some miscellaneous things I've learned during this project:<br />\n<br />\n- Some equations have solutions that are not clearly visible on most graphing calculators. For example, <a href=\"/m/formulagraph/index.html?f1(x,t)=y=x%5Ex&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">y = x^x</a> has valid solutions for negative values of x which are single points (e.g. (-1, -1)).<br />\n<br />\n- New shapes:<br />\n&nbsp;&nbsp;- <a href=\"/m/formulagraph/index.html?f1(x,t)=y%5E100%20+%20x%5E100%20%3C%201&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">Square</a><br />\n&nbsp;&nbsp;- <a href=\"/m/formulagraph/index.html?f1(x,t)=x%5E2+(y-(x%5E2)%5E(1/3))%5E2%20%3C%201&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">Heart</a><br />\n&nbsp;&nbsp;- <a href=\"/m/formulagraph/index.html?f1(x,t)=((x*y*(x-y)*(x+y)*(x%5E2+y%5E2-4))%5E2-1)%3C1&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">Crazy lotus</a><br />\n<br />\n- Modulo<br />\n&nbsp;&nbsp;- Create <a href=\"/m/formulagraph/index.html?f1(x,t)=(x%5E2+y%5E2)%2540=1&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">concentric shapes</a> using modulo<br />\n&nbsp;&nbsp;- Create <a href=\"/m/formulagraph/index.html?f1(x,t)=y%20=%20x%5E(t%20%25%203)&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=false\">repeating animations</a> using modulo<br />\n&nbsp;&nbsp;- There are different definitions of <a href=\"https://en.wikipedia.org/wiki/Modulo_operation\">modulo</a> for negative numbers<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Many programming languages implement modulo as \"truncated division\"<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Desmos, Relplot, and Graphtoy use \"floored division\" so I use that in FormulaPlot too<br />\n<br />\n- How to convert Cartesian coordinates to polar<br />\n&nbsp;&nbsp;- Based on Relplot's implementation, I thought I just had to replace \"r\" with \"sqrt(x^2+y^2)\" and \"theta\" with \"atan2(y, x)\".<br />\n&nbsp;&nbsp;- This turned out to be much harder than I expected in part because Relplot's polar coodinate support is incomplete (noted above in my comparison of FormulaGraph and Relplot).<br />\n&nbsp;&nbsp;- After what I thought would be a 20 minute feature consumed several weekends, I'm reminded of the tongue-in-cheek <a href=\"https://twitter.com/Pinboard/status/761656824202276864\">Programmers' Credo</a>: \"We do these things not because they are easy, but because we thought they were going to be easy\"<br />\n&nbsp;&nbsp;- I solved this with 3 techniques: graph positive r and negative r (with theta shifted by pi), translate atan2's result range to [0, 2pi] (instead of [-pi, pi]), and iteratively render with theta += 2pi.<br />\n<br />\n- Debugging an incorrect graph is similar to general debugging. Try to find the simplest case that reproduces the issue. I was relieved when a glitch in <a href=\"/m/formulagraph/index.html?f1(x,t)=y%20=%20(mod(floor(x),2))*(x-floor(x))+(1-mod(floor(x),2))*(-x-floor(-x))+(1-mod(floor(x),2))*(1-ceil(x-floor(x)))&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">y = (mod(floor(x),2))*(x-floor(x))+(1-mod(floor(x),2))*(-x-floor(-x))+(1-mod(floor(x),2))*(1-ceil(x-floor(x)))</a> reproduced in the far simpler <a href=\"/m/formulagraph/index.html?f1(x,t)=y=ceil(x-floor(x))&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">y = ceil(x-floor(x))</a>.<br />\n<br />\n- When using interval arithmetic to graph formulas, it's ok to return wide intervals when the input is wide as long as the result intervals converge as the inputs get smaller. I use this technique to avoid the incorrect vertical line segments some graphing calculators (including Relplot and Graphtoy) show for <a href=\"/m/formulagraph/index.html?f1(x,t)=y=floor(x)&v1=true&f2(x,t)=&v2=true&f3(x,t)=&v3=true&f4(x,t)=&v4=true&f5(x,t)=&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=true\">y = floor(x)</a>.<br />\n<br />\n<br />\nTo conclude, here's an improved version of the <a href=\"/m/formulagraph/index.html?f1(x,t)=&v1=true&f2(x,t)=-(x-0.7)+sqrt(.1)+abs(sin(PI*-(x-0.7)))&v2=false&f3(x,t)=&v3=true&f4(x,t)=y%3C-floor(x)&v4=true&f5(x,t)=(y-(-((t%2519-8)-0.7)+sqrt(.1)+abs(sin(PI*-((t%2519-8)-0.7)))))%5E2+(x-(t%2519-8))%5E2%3C=0.1&v5=true&f6(x,t)=&v6=true&grid=true&coords=0,0,12&paused=false\">bouncing ball animation</a> (original <a href=\"/p/bouncing-ball.html\">here</a>).<br />\n<br />\nHappy graphing :)<br />\n"
    },
    {
         "title" : "Bouncing Ball",
         "date_published" : "2021-03-28T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/bouncing-ball.html",
         "url" : "https://memalign.github.io/p/bouncing-ball.html",
         "image" : "https://memalign.github.io/m/bouncing-ball.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/bouncing-ball.html'>Bouncing Ball</a>\n</h2>\n</div>\n<img src=\"/m/bouncing-ball.jpg\">\n<div id='postdate'>Posted on 3/28/2021<br />\nTags: <a href='/tags.html'>Math</a></div>\nI mentioned <a href=\"/p/draw-shapes.html\">here</a> that TI calculators can make some simple animations:<br />\n\"An upperclassman graphed some functions together which made it look like this circle was a ball bouncing down stairs.\"<br />\n<br />\nI also mentioned something special about <a href=\"https://graphtoy.com/\">Graphtoy</a>:<br />\n\"Graphtoy has a variable for elapsed time (t) which can be used to create animations\"<br />\n<br />\nIn this post, I'll recreate the bouncing ball animation using mathematical formulas in Graphtoy.<br />\n<br />\nBrowsing our <a href=\"/p/shape-catalog.html\">shape catalog</a> gives us a few useful components:<br />\n<br />\nSteps: y = floor(x)<br />\n<br />\nDiagonal sine wave: y = x + 3 + sin(3*x)<br />\n&nbsp;&nbsp;- This looks similar to the path of a ball as it bounces down steps<br />\n<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=floor(x)&v1=true&f2(x,t)=x+3+sin(3*x)&v2=true&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nHere's what those look like together:<br />\n<br />\n<img src=\"/m/mathshapes/steps-sine-wave.jpg\"><br />\n<br />\nOne aesthetic tweak: have the stairs go down to the right.<br />\nAdjust the sine wave to match the direction and slope of the stairs.<br />\n<br />\nSteps: y = -floor(x)+5<br />\nBall's path: y = -x + 5 + sin(3*-x)<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=-floor(x)+5&v1=true&f2(x,t)=-x+5+sin(3*-x)&v2=true&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nWith a normal (non-diagonal) sine wave, every other hump is negative and below the x-axis. In our diagonal sine wave, every other hump is going under a step instead of bouncing off it.<br />\n<br />\nLet's figure out how to have a normal sine wave bounce off the x-axis and then bring that same modification to our more complex diagonal sine wave.<br />\n<br />\nTo simply make all negative values positive, we can take the absolute value with the abs() function:<br />\n<br />\ny = abs(sin(x))<br />\n<br />\nHere's what that looks like:<br />\n<br />\n<img src=\"/m/mathshapes/sine-abs.jpg\"><br />\n<br />\nLooks promising! Let's try using abs on the diagonal sine wave:<br />\n<br />\ny = -x + 5 + abs(sin(3*-x))<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=-floor(x)+5&v1=true&f2(x,t)=-x+5+abs(sin(3*-x))&v2=true&f3(x,t)=abs(sin(x))&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nHere's what that looks like:<br />\n<br />\n<img src=\"/m/mathshapes/sine-abs-bounce.jpg\"><br />\n<br />\nThere are a few problems still:<br />\n<br />\n- The bounce should happen in the middle of the step (not in the corner)<br />\n- It looks like the width of each period of the sine wave is not the same as the length of each step so there's visible drift<br />\n<br />\nWe can fix both of these using techniques noted in the <a href=\"/p/shape-catalog.html\">shape catalog</a>.<br />\n<br />\nShift the bounce to happen farther right:<br />\n<br />\ny = -(x-0.5) + 5 + abs(sin(3*-(x-0.5)))<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=-floor(x)+5&v1=true&f2(x,t)=-(x-0.5)+5+abs(sin(3*-(x-0.5)))&v2=true&f3(x,t)=abs(sin(x))&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nFix the sine wave's period:<br />\n<br />\ny = -(x-0.5) + 5 + abs(sin(PI*-(x-0.5)))<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=-floor(x)+5&v1=true&f2(x,t)=-(x-0.5)+5+abs(sin(PI*-(x-0.5)))&v2=true&f3(x,t)=abs(sin(x))&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nHere's what that looks like:<br />\n<br />\n<img src=\"/m/mathshapes/fixed-period.jpg\"><br />\n<br />\nNow let's add our bouncing ball. We want to draw a circle that's centered on the diagonal bouncing sine wave.<br />\n<br />\nFrom the shape catalog, here is the equation for a circle centered at (-3, 2):<br />\n<br />\ny = sqrt(1 - (x+3)^2) + 2<br />\ny = -sqrt(1 - (x+3)^2) + 2<br />\n<br />\nTo have the ball move to the right with time, we'll replace the -3 with t. t is the special parameter Graphtoy provides; its value is the number of seconds that have passed since the webpage refreshed.<br />\n<br />\ny = sqrt(1 - (x-t)^2) + 2<br />\ny = -sqrt(1 - (x-t)^2) + 2<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=-floor(x)+5&v1=true&f2(x,t)=-(x-0.5)+5+abs(sin(PI*-(x-0.5)))&v2=true&f3(x,t)=sqrt(1-(x-t)%5E2)+2&v3=true&f4(x,t)=-sqrt(1-(x-t)%5E2)+2&v4=true&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nThe y-value at time t is the value of our bouncing sine wave when x=t.<br />\n<br />\nBouncing sine wave: y = -(x-0.5) + 5 + abs(sin(PI*-(x-0.5)))<br />\n<br />\nValue when x=t:<br />\ny = -(t-0.5) + 5 + abs(sin(PI*-(t-0.5)))<br />\n<br />\nNow, we'll replace the 2 in our circle equations with this y expression:<br />\n<br />\ny = sqrt(1 - (x-t)^2) + (-(t-0.5) + 5 + abs(sin(PI*-(t-0.5))))<br />\ny = -sqrt(1 - (x-t)^2) + (-(t-0.5) + 5 + abs(sin(PI*-(t-0.5))))<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=-floor(x)+5&v1=true&f2(x,t)=-(x-0.5)+5+abs(sin(PI*-(x-0.5)))&v2=true&f3(x,t)=sqrt(1%20-%20(x-t)%5E2)%20+%20(-(t-0.5)%20+%205%20+%20abs(sin(PI*-(t-0.5))))&v3=true&f4(x,t)=-sqrt(1%20-%20(x-t)%5E2)%20+%20(-(t-0.5)%20+%205%20+%20abs(sin(PI*-(t-0.5))))&v4=true&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nWow! This is getting really close!<br />\n<br />\nThe ball is way too big. Let's shrink its radius:<br />\n<br />\ny = sqrt(0.1 - (x-t)^2) + (-(t-0.5) + 5 + abs(sin(PI*-(t-0.5))))<br />\ny = -sqrt(0.1 - (x-t)^2) + (-(t-0.5) + 5 + abs(sin(PI*-(t-0.5))))<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=-floor(x)+5&v1=true&f2(x,t)=-(x-0.5)+5+abs(sin(PI*-(x-0.5)))&v2=true&f3(x,t)=sqrt(0.1-(x-t)%5E2)+(-(t-0.5)+5+abs(sin(PI*-(t-0.5))))&v3=true&f4(x,t)=-sqrt(0.1-(x-t)%5E2)+(-(t-0.5)+5+abs(sin(PI*-(t-0.5))))&v4=true&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\n(Note: once the circle moves off-screen, don't forget to reset t (or refresh the page) to make it reappear)<br />\n<br />\nMore tweaks needed:<br />\n<br />\n- The ball bounces through the step. Need to shift the bouncing curve up by the ball's radius.<br />\n- The ball is too close to the edge of the step. Need to shift the bouncing curve farther to the right.<br />\n<br />\nShifting up and to the right:<br />\n<br />\nSine wave:<br />\ny = -(x-0.7) + 5 + sqrt(.1) + abs(sin(PI*-(x-0.7)))<br />\n<br />\nCircle:<br />\ny = sqrt(0.1 - (x-t)^2) + (-(t-0.7) + 5 + sqrt(.1) + abs(sin(PI*-(t-0.7))))<br />\ny = -sqrt(0.1 - (x-t)^2) + (-(t-0.7) + 5 + sqrt(.1) + abs(sin(PI*-(t-0.7))))<br />\n<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=-floor(x)+5&v1=true&f2(x,t)=-(x-0.7)+5%20+%20sqrt(.1)+abs(sin(PI*-(x-0.7)))&v2=true&f3(x,t)=sqrt(0.1-(x-t)%5E2)+(-(t-0.7)+5+sqrt(.1)+abs(sin(PI*-(t-0.7))))&v3=true&f4(x,t)=-sqrt(0.1-(x-t)%5E2)+(-(t-0.7)+5+sqrt(.1)+abs(sin(PI*-(t-0.7))))&v4=true&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nLooks perfect!<br />\n<br />\n<img src=\"/m/mathshapes/bouncing-ball-with-line.jpg\"><br />\n<br />\nBonus just for fun, here's the ball bouncing off a square wave, losing height with every bounce:<br />\n<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=sign(sin(x*2*PI))/4+0.25&v1=true&f2(x,t)=((-x/5+4)%5E2/8)*(abs(sin(PI/2*-(x*2-0.5))))+0.5+sqrt(.1)&v2=true&f3(x,t)=sqrt(0.1-(x-(t-12))%5E2)%20+%20((-(t-12)/5+4)%5E2/8)*(abs(sin(PI/2*-((t-12)*2-0.5))))+0.5+sqrt(.1)&v3=true&f4(x,t)=-sqrt(0.1-(x-(t-12))%5E2)%20+%20((-(t-12)/5+4)%5E2/8)*(abs(sin(PI/2*-((t-12)*2-0.5))))+0.5+sqrt(.1)&v4=true&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\n"
    },
    {
         "title" : "Catalog of Math Shapes",
         "date_published" : "2021-03-27T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/shape-catalog.html",
         "url" : "https://memalign.github.io/p/shape-catalog.html",
         "image" : "https://memalign.github.io/m/graphtoy-smile.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/shape-catalog.html'>Catalog of Math Shapes</a>\n</h2>\n</div>\n<img src=\"/m/graphtoy-smile.jpg\">\n<div id='postdate'>Posted on 3/27/2021<br />\nTags: <a href='/tags.html'>Math</a></div>\nI enjoy <a href=\"/p/draw-shapes.html\">drawing shapes using math</a>. Much of the fun is exploring what formulas look like and figuring out how to warp them to look different.<br />\n<br />\nTo be able to build more complex shapes and animations, in this post I'll explore some formulas and create a catalog of shapes.<br />\n<br />\n<br />\nCircles:<br />\n<br />\nx^2 + y^2 = 1<br />\n<br />\nGraphtoy requires that we solve for y to create a function of x: f(x)<br />\n<br />\ny^2 = 1 - x^2<br />\ny = ¬± sqrt(1 - x^2)<br />\nf(x) = y = ¬± sqrt(1 - x^2)<br />\n<br />\n<br />\nGraphtoy doesn't understand ¬± so we need to write two separate formulas:<br />\ny = sqrt(1 - x^2)<br />\ny = -sqrt(1 - x^2)<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=sqrt(1%20-%20x%5E2)&v1=true&f2(x,t)=-sqrt(1%20-%20x%5E2)&v2=true&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nHere's what that looks like:<br />\n<br />\n<img src=\"/m/mathshapes/circle.jpg\"><br />\n<br />\nIn general, we can shift formulas up/down by adding/subtracting to/from the function. Here, we shift the circle up the y-axis by 2:<br />\ny = sqrt(1 - x^2) + 2<br />\ny = -sqrt(1 - x^2) + 2<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=sqrt(1-x%5E2)+2&v1=true&f2(x,t)=-sqrt(1-x%5E2)+2&v2=true&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nAnd we can shift left/right similarly by adding/subtracting from every instance of \"x\". Here, we shift the circle left on the x-axis by 3:<br />\n<br />\ny = sqrt(1 - (x+3)^2)<br />\ny = -sqrt(1 - (x+3)^2)<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=sqrt(1-(x+3)%5E2)&v1=true&f2(x,t)=-sqrt(1-(x+3)%5E2)&v2=true&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nWe can combine these two techniques to shift left and up at the same time:<br />\n<br />\ny = sqrt(1 - (x+3)^2) + 2<br />\ny = -sqrt(1 - (x+3)^2) + 2<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=sqrt(1-(x+3)%5E2)+2&v1=true&f2(x,t)=-sqrt(1-(x+3)%5E2)+2&v2=true&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\n<br />\nLines:<br />\n<br />\ny = mx + b<br />\nm is the slope (change in y divided by change in x)<br />\nb is the y-intercept (notice that adding b is the same technique we used to shift the circle up)<br />\n<br />\nHere's a steep line that goes up 3 in the y direction for every increase of 1 in the x direction. I shifted it to intersect with the y-axis at y=1<br />\n<br />\ny = 3*x + 1<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=3*x%20+%201&v1=true&f2(x,t)=&v2=false&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nHere's what that looks like:<br />\n<br />\n<img src=\"/m/mathshapes/line.jpg\"><br />\n<br />\nIn general, we can flip the shape over the x-axis by making it negative (notice this is similar to the way we draw the bottom half of a circle, by flipping the formula to the top half):<br />\n<br />\ny = - (3*x + 1)<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=-(3*x+1)&v1=true&f2(x,t)=&v2=false&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nSimilarly, we can flip a shape over the y-axis by replacing every instance of \"x\" with \"-x\":<br />\n<br />\ny = 3*(-x) + 1<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=(3*(-x)+1)&v1=true&f2(x,t)=&v2=false&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\n<br />\nSine wave:<br />\n<br />\ny = sin(x)<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=sin(x)&v1=true&f2(x,t)=&v2=false&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nHere's what that looks like:<br />\n<br />\n<img src=\"/m/mathshapes/sin.jpg\"><br />\n<br />\nSomething special about the shape of sin(x): it's periodic, repeating infinitely.<br />\n<br />\n<br />\nParabola:<br />\n<br />\ny = x^2<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=x%5E2&v1=true&f2(x,t)=&v2=false&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nHere's what that looks like:<br />\n<br />\n<img src=\"/m/mathshapes/parabola.jpg\"><br />\n<br />\nIf we want to turn a shape sideways (by swapping the axes), we can swap x and y.<br />\n<br />\nSideways parabola:<br />\n<br />\nx = y^2<br />\n<br />\nSolve for y to be able to graph using Graphtoy:<br />\n<br />\ny = ¬± sqrt(x)<br />\n<br />\ny = sqrt(x)<br />\ny = -sqrt(x)<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=sqrt(x)&v1=true&f2(x,t)=-f1(x,t)&v2=true&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\n<br />\nCombining shapes:<br />\n<br />\nWe can combine formulas to combine their shapes. For example, we can make a sine wave follow the shape of a line by adding them together:<br />\n<br />\nDiagonal line:<br />\ny = x + 3<br />\n<br />\nSine wave:<br />\ny = sin(3*x)<br />\n<br />\nDiagonal sine wave:<br />\ny = x + 3 + sin(3*x)<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=x+3&v1=true&f2(x,t)=sin(3*x)&v2=true&f3(x,t)=x%20+%203%20+%20sin(3*x)&v3=true&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\n<br />\nSteps (floor):<br />\n<br />\nWe can do some neat things using functions like floor and ceil. Floor rounds down to the nearest integer. Ceil rounds up to the nearest integer.<br />\n<br />\ny = floor(x)<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=floor(x)&v1=true&f2(x,t)=&v2=false&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nThis looks like steps!<br />\n<br />\n<img src=\"/m/mathshapes/floor.jpg\"><br />\n<br />\nWe can make a spiky sawtooth wave by only giving y the decimal portion of x like this:<br />\ny = x - floor(x)<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=x%20-%20floor(x)&v1=true&f2(x,t)=&v2=false&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nTo get an intuitive understanding of a shape, sometimes it helps to write out some of the values in a table:<br />\n<div id='code'> x     floor(x)     x-floor(x)<br />\n=============================<br />\n0        0            0<br />\n0.2      0            0.2<br />\n0.5      0            0.5<br />\n1        1            0<br />\n1.2      1            0.2<br />\n1.5      1            0.5<br />\n2        2            0<br />\n2.2      2            0.2<br />\n2.5      2            0.5</div>\nThis hopefully makes it easier to see how this ends up looking like a sawtooth.<br />\n<br />\n<br />\nTriangle wave:<br />\n<br />\n<div id='code'>A sawtooth wave looks like this:         /|/|/|/|<br />\nA flipped sawtooth wave looks like this: |\\|\\|\\|\\<br />\nA triangle wave looks like this:         /\\/\\/\\/\\</div>\nI noticed that I might be able to construct a triangle wave by combining a sawtooth wave with a flipped sawtooth wave.<br />\n<br />\nThe naive approach of simply adding them together gives us this:<br />\nSawtooth wave:<br />\ny = x - floor(x)<br />\nFlipped (across the y-axis) sawtooth wave:<br />\ny = -x - floor(-x)<br />\n(Note: when writing this, I accidentally flipped the formula over the x-axis: y = -(x-floor(x)). When I graphed it, I realized my mistake and played around with the -s to get it right. It's normal to play around and make mistakes! Make some terms negative and see what happens to the shape!)<br />\n<br />\nAdded together:<br />\ny = x - floor(x) + -x - floor(-x)<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=x-floor(x)&v1=false&f2(x,t)=-x-floor(-x)&v2=false&f3(x,t)=x-floor(x)-x-floor(-x)&v3=true&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nAh woops! That looks like a straight line. Graphing the sawtooth waves on top of each other reveals why: the diagonal portions cross each other, summing up to a constant value for most values of x.<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=x-floor(x)&v1=true&f2(x,t)=-x-floor(-x)&v2=true&f3(x,t)=x-floor(x)-x-floor(-x)&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nTo get a triangle wave, I need to alternate taking a tooth from each sawtooth wave. I can take a tooth from one wave when floor(x) is even; a tooth from the other wave when floor(x) is odd.<br />\n<br />\nThat sounds pretty crazy! Fortunately, <a href=\"https://en.wikipedia.org/wiki/Modulo_operation\">modular division</a> is an easy way to test whether a number is even or odd.<br />\n<br />\n<div id='code'>        floor(x) % 2<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;also written as:<br />\nx     mod(floor(x), 2)<br />\n==============================<br />\n1         1             (odd)<br />\n1.9       1             (odd)<br />\n2         0             (even)<br />\n2.9       0             (even)<br />\n3         1             (odd)<br />\n4         0             (even)</div>\nOur gadget to determine when floor(x) is odd: mod(floor(x), 2)<br />\nWe can use that to make a complementary gadget to determine when floor(x) is even: 1-mod(floor(x), 2)<br />\n<br />\nSawtooth wave:<br />\ny = x - floor(x)<br />\n<br />\nFlipped (across the y-axis) sawtooth wave:<br />\ny = -x - floor(-x)<br />\n<br />\nUsing our gadgets to zero out every other tooth:<br />\n<br />\n<div id='code'>    zero out even teeth                zero out odd teeth<br />\ny = mod(floor(x), 2) * (x-floor(x)) + (1-mod(floor(x), 2)) * (-x-floor(-x)))</div>\n<a href=\"/m/graphtoy/index.html?f1(x,t)=x-floor(x)&v1=false&f2(x,t)=-x-floor(-x)&v2=false&f3(x,t)=mod(floor(x),2)*(x-floor(x))%20+%20(1-mod(floor(x),2))*(-x-floor(-x))&v3=true&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nHere's what that looks like:<br />\n<br />\n<img src=\"/m/mathshapes/triangle-glitch.jpg\"><br />\n<br />\nNotice that there are some visible glitches. Let's check the math:<br />\n<br />\ny = mod(floor(x), 2) * (x-floor(x)) + (1-mod(floor(x), 2)) * (-x-floor(-x)))<br />\n<br />\nPlug in x = 0:<br />\n<br />\ny = mod(floor(0), 2) * (0-floor(0)) + (1-mod(floor(0), 2)) * (-0-floor(-0)))<br />\ny = 0 * (0-floor(0)) + (1-0) * (-0-floor(-0)))<br />\ny = 0<br />\n<br />\nAh but y is supposed to be 1. It looks like the equation has a bug.<br />\n<br />\nChecking a few more x, y values to build intuition:<br />\n<div id='code'> x   y   y is supposed to be<br />\n============================<br />\n&nbsp;0   0          1<br />\n&nbsp;1   0          0<br />\n&nbsp;2   0          1<br />\n&nbsp;3   0          0<br />\n&nbsp;4   0          1</div>\nIn its current form, our formula is taking neither sawtooth's value when x is a perfect integer (looking at the formula, you can see that it's because (x-floor(x)) and (-x-floor(-x)) are always 0 when x is an integer.<br />\n<br />\nOne fix is to add a term to our formula that has the value 1 for even integers and 0 otherwise.<br />\n<br />\nI played around and came up with this:<br />\n(1-mod(floor(x),2))*(1-ceil(x-floor(x)))<br />\n<br />\nThe first half of this is our even/odd gadget. The second half is an expression that is 1 for integers, 0 otherwise.<br />\n<br />\nChecking its values:<br />\n<div id='code'>                                            (1-mod(floor(x),2)) *<br />\n&nbsp;x   1-mod(floor(x),2)  1-ceil(x-floor(x))  (1-ceil(x-floor(x)))<br />\n=================================================================<br />\n0          1                   1                  1*1 = 1<br />\n0.5        1                   0                  1*0 = 0<br />\n1          0                   1                  0*1 = 0<br />\n1.5        0                   0                  0*0 = 0<br />\n2          1                   1                  1*1 = 1</div>\nFixed equation by adding this gadget:<br />\n<br />\ny = (mod(floor(x),2))*(x-floor(x))+(1-mod(floor(x),2))*(-x-floor(-x)) + (1-mod(floor(x),2))*(1-ceil(x-floor(x)))<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=(mod(floor(x),2))*(x-floor(x))+(1-mod(floor(x),2))*(-x-floor(-x))+(1-mod(floor(x),2))*(1-ceil(x-floor(x)))&v1=true&f2(x,t)=&v2=false&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nHere's what the fixed equation looks like:<br />\n<br />\n<img src=\"/m/mathshapes/triangle.jpg\"><br />\n<br />\nLooks perfect! Our formula is pretty complex, though. It's possible we could come up with a simpler formula by reading this <a href=\"https://en.wikipedia.org/wiki/Triangle_wave\">Wikipedia page</a>.<br />\n<br />\n<br />\nSquare wave:<br />\n<br />\nHere's one way to make a square wave: take an already periodic formula and make it blocky.<br />\n<br />\nAn easy periodic formula is sin(x).<br />\n<br />\ny = sin(x)<br />\n<br />\nInstead of having the period of sin be 2*PI, I can change it to be 2:<br />\n<br />\ny = sin(x*PI)<br />\n<br />\nI can use the \"sign\" function to turn positive values into 1 and negative values into -1:<br />\n<br />\ny = sign(sin(x*PI))<br />\n<br />\nIf I want it to be truly square (1 tall and 1 wide), I'll need to adjust the height and shift it up:<br />\n<br />\ny = sign(sin(x*PI))/2 + 0.5<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=sign(sin(x*PI))/2%20+%20.5&v1=true&f2(x,t)=&v2=false&f3(x,t)=&v3=false&f4(x,t)=&v4=false&f5(x,t)=&v5=false&f6(x,t)=&v6=false&grid=true&coords=0,0,12\">Graphtoy link</a><br />\n<br />\nHere's what that looks like:<br />\n<br />\n<img src=\"/m/mathshapes/square.jpg\"><br />\n<br />\n<br />\nHow did I come up with these formulas and techniques? I remember many of these from school and others I (re)discovered by playing around. You can expand your own catalog by trying out new formulas to see what they look like and taking <a href=\"/p/notes-txt.html\">notes</a>!<br />\n<br />\nHere's a list of interesting things to explore:<br />\nlog(x)<br />\nexp(x)<br />\nabs(x)<br />\npow(x, n)<br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=sqrt(8%5E2-x%5E2)&v1=true&f2(x,t)=-f1(x,t)&v2=true&f3(x,t)=7/2-sqrt(3%5E2-(abs(x)-3.5)%5E2)&v3=true&f4(x,t)=7/2+sqrt(3%5E2-(abs(x)-3.5)%5E2)/2&v4=true&f5(x,t)=3+sqrt(1-(abs(x+sin(4*t)/2)-3)%5E2)*2/3&v5=true&f6(x,t)=-3-sqrt(5%5E2-x%5E2)*(1/4+pow(0.5+0.5*sin(2*PI*t),6)/10)&v6=true&grid=true&coords=0,0,12\">This animation that is built into Graphtoy</a><br />\n<a href=\"/m/graphtoy/index.html?f1(x,t)=sqrt(t-x%5E2)&v1=true&f2(x,t)=-f1(x,t)&v2=true&f3(x,t)=f1(x,t/2)&v3=true&f4(x,t)=-f3(x,t)&v4=true&f5(x,t)=f1(x,%20t/4)&v5=true&f6(x,t)=-f5(x,t)&v6=true&grid=true&coords=0,0,12\">Growing concentric circles</a><br />\n<a href=\"/p/bouncing-ball.html\">Bouncing ball animation</a><br />\n<a href=\"https://iquilezles.org/www/articles/functions/functions.htm\">Inigo Quilez's Useful Little Functions</a> (<a href=\"/m/iq-ulf/functions.htm\">my backup</a>)<br />\n"
    },
    {
         "title" : "Draw Shapes Using Math",
         "date_published" : "2021-03-21T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/draw-shapes.html",
         "url" : "https://memalign.github.io/p/draw-shapes.html",
         "image" : "https://memalign.github.io/m/graphtoy.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/draw-shapes.html'>Draw Shapes Using Math</a>\n</h2>\n</div>\n<img src=\"/m/graphtoy.jpg\">\n<div id='postdate'>Posted on 3/21/2021<br />\nTags: <a href='/tags.html'>Math</a></div>\nComputer graphics is a wonderful real-world use case for a lot of the math we learn in school. For example, take a look at <a href=\"https://www.iquilezles.org\">Inigo Quilez</a>'s video <a href=\"https://www.iquilezles.org/live/index.htm\">tutorials</a>. <a href=\"https://www.youtube.com/watch?v=8--5LwHRhjk\">This one</a> is particularly cool.<br />\n<br />\nI don't have skills like Inigo but I still have fun making 2D shapes using math.<br />\n<br />\nHere are a few fun tools for drawing 2D shapes using math:<br />\n<br />\n- <a href=\"/m/formulagraph/index.html\">FormulaGraph</a><br />\n&nbsp;&nbsp;- ** Added to this list in August 2021 **<br />\n&nbsp;&nbsp;- After originally publishing this list, I built my own formula grapher by combining Relplot and Graphtoy (both mentioned below)<br />\n&nbsp;&nbsp;- Features: interactive graphs, convenient UI, animate with time, available in any web browser, graph formulas (not just functions), graph polar formulas, graph inequalities<br />\n&nbsp;&nbsp;- See the full details <a href=\"/p/formulagraph.html\">here</a><br />\n<br />\n- TI calculators<br />\n&nbsp;&nbsp;- You might have had one of these in high school<br />\n&nbsp;&nbsp;- I had a TI-83 Plus which turned out to be a fun device. Here are some of its neat features:<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- BASIC programming<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Play games in MirageOS (back in my day the most popular game was <a href=\"https://www.ticalc.org/archives/files/fileinfo/148/14876.html\">Phoenix</a> and it looks like people kept <a href=\"https://www.ticalc.org/pub/83plus/asm/games/mirageos/\">innovating</a> since then! They even made a version of <a href=\"https://www.ticalc.org/archives/files/fileinfo/429/42952.html\">Geometry Wars</a>!)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Share programs and games via a cable (they spread through the whole high school this way)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Graph interesting equations and shapes<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- There's a graphing mode which traces a function's shape with an animating circle. An upperclassman graphed some functions together which made it look like this circle was a <a href=\"/p/bouncing-ball.html\">ball bouncing down stairs</a>. This stuck with me and is part of the inspiration for this post!<br />\n&nbsp;&nbsp;- Looking back, I'm glad we got to play with these! Thank you, TI-83 Plus, for my earliest programming and engineering experiences!<br />\n<br />\n- Graphing calculator websites<br />\n&nbsp;&nbsp;- <a href=\"https://www.wolframalpha.com/input/?i=y%3Dx%2C+y%3Dx%5E2\">WolframAlpha</a><br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Very powerful. For example: <a href=\"https://www.wolframalpha.com/input/?i=x%5Ey+%3D+y%5Ex\">graphing x^y = y^x</a>, including symbolically refactoring the equation to solve for y.<br />\n&nbsp;&nbsp;- <a href=\"https://www.meta-calculator.com/?panel-101-equations&data-bounds-xMin=-507.6239316239339&data-bounds-xMax=1540.3760683760684&data-bounds-yMin=-1183.3191489361732&data-bounds-yMax=1632.6808510638268&data-equations-0=%22y%3Dx%22&data-equations-1=%22y%3Dx%5E2%22&data-rand=undefined&data-hideGrid=false\">Meta-Calculator</a><br />\n&nbsp;&nbsp;&nbsp;&nbsp;- OK in a pinch<br />\n&nbsp;&nbsp;- <a href=\"http://fooplot.com\">FooPlot</a><br />\n&nbsp;&nbsp;&nbsp;&nbsp;- <a href=\"https://github.com/dheera/fooplot\">Source code</a><br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Fairly full-featured!<br />\n<br />\n- Graphing calculator apps<br />\n&nbsp;&nbsp;- <a href=\"https://apps.apple.com/us/app/geogebra-graphing-calculator/id1146717204\">GeoGebra Graphing Calculator</a><br />\n&nbsp;&nbsp;&nbsp;&nbsp;- This app is really good! Much like WolframAlpha and Relplot, this app can graph arbitrary equations and inequations like x^y = y^x, 1 = x^2 + y^2, y > x, etc.<br />\n&nbsp;&nbsp;- <a href=\"https://apps.apple.com/us/app/desmos-graphing-calculator/id653517540\">Desmos Graphing Calculator</a><br />\n&nbsp;&nbsp;&nbsp;&nbsp;- This app might be even better. It also supports polar equations (e.g. r = cos(4*theta)).<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Also available as a <a href=\"https://www.desmos.com/calculator\">website</a><br />\n&nbsp;&nbsp;- <a href=\"https://apps.apple.com/us/app/numworks-graphing-calculator/id1456585807\">NumWorks Graphing Calculator</a> (simulates a physical calculator; hard to use)<br />\n<br />\n- <a href=\"https://www.cs.cornell.edu/w8/~andru/relplot/\">Relplot</a><br />\n&nbsp;&nbsp;- Powerful graphing capabilities: arbitrary equations and inequations<br />\n&nbsp;&nbsp;- <a href=\"https://github.com/andrewcmyers/relplot\">Source code</a> (<a href=\"/m/relplot.tar.gz\">my backup</a>)<br />\n&nbsp;&nbsp;- Relplot is written by one of my favorite CS professors, <a href=\"https://www.cs.cornell.edu/andru/\">Andrew Myers</a>!<br />\n&nbsp;&nbsp;- In fact, it's a more sophisticated version of a programming assignment we completed in his Functional Programming course<br />\n&nbsp;&nbsp;- Interesting implementation details:<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Lexes and parses inputted formulas so they can be evaluated<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- <a href=\"https://github.com/andrewcmyers/relplot/blob/master/eqn.grm\">Slightly refactors</a> the formulas to be of the form \"0 = formula\" or \"0 > formula\":<br />\n<div id='code'>Eqn   : Expr EQUALS Expr    (Plus(Expr1, neg(Expr2)))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| Expr LT Expr        (Ltz(Plus(Expr1, neg(Expr2))))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| Expr LE Expr        (Ltz(Plus(Expr1, neg(Expr2))))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| Expr GE Expr        (Ltz(Plus(Expr2, neg(Expr1))))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| Expr GT Expr        (Ltz(Plus(Expr2, neg(Expr1))))</div>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- For example, converts \"1 = x^2 + y^2\" into \"0 = x^2 + y^2 + -(1)\"<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- In this form, all solutions to the formula are \"zeros\"<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Uses <a href=\"https://en.wikipedia.org/wiki/Interval_arithmetic\">interval arithmetic</a> (implemented <a href=\"https://github.com/andrewcmyers/relplot/blob/master/interval.sml\">here</a>) to identify subsections of the graph that contain x, y values for which the formula evaluates to zero<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Like a binary search, recursively searches smaller and smaller subsections of the graph for zeros until the interval size is too small to be visible. At this threshold, it can just draw a tiny line between the corners of the interval.<br />\n<br />\n- <a href=\"https://graphtoy.com/\">Graphtoy</a> (<a href=\"/m/graphtoy/index.html\">my backup</a>)<br />\n&nbsp;&nbsp;- This is another cool piece of work by <a href=\"https://www.iquilezles.org\">Inigo Quilez</a><br />\n&nbsp;&nbsp;- Something special: Graphtoy has a variable for elapsed time (t) which can be used to create animations<br />\n&nbsp;&nbsp;- <a href=\"/m/graphtoy/graphtoy.js\">Source code</a><br />\n&nbsp;&nbsp;- Interesting implementation details:<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Instead of implementing its own parser, Graphtoy turns the formulas into JavaScript snippets<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- See the \"iCompile\" function which tweaks the inputted formula strings to be valid JavaScript and constructs Formula objects which can later be invoked<br />\n"
    },
    {
         "title" : "Similar Songs",
         "date_published" : "2021-03-14T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/similar-songs.html",
         "url" : "https://memalign.github.io/p/similar-songs.html",
         "image" : "https://memalign.github.io/m/whosampled.png",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/similar-songs.html'>Similar Songs</a>\n</h2>\n</div>\n<img src=\"/m/whosampled.png\">\n<div id='postdate'>Posted on 3/14/2021<br />\nTags: <a href='/tags.html'>Leisure</a></div>\nI like listening to music. I like it even more when I discover connections between songs.<br />\n<br />\nIt's cool to find out that a song is a cover of another song or that it contains samples of other songs.<br />\n<br />\n<a href=\"https://whosampled.com\">WhoSampled.com</a> is a useful resource to find these connections. Rap songs in particular often contain a bunch of samples! Try searching for your favorites.<br />\n<br />\n<br />\nHere are some of my favorite connections:<br />\n<br />\n- <a href=\"https://www.youtube.com/watch?v=LDj8kkVwisY\">My Name Is</a> by Eminem<br />\n&nbsp;&nbsp;- Samples <a href=\"https://www.youtube.com/watch?v=xKISdd2mKzU\">I Got The...</a> by Labi Siffre<br />\n<br />\n- <a href=\"https://www.youtube.com/watch?v=9YpvNgCSaCU\">Old Town Road</a> by Lil Nas X<br />\n&nbsp;&nbsp;- Samples <a href=\"https://www.youtube.com/watch?v=XF_ceFugJjQ\">Ghosts IV - 34</a> by NIN<br />\n<br />\n- <a href=\"https://www.youtube.com/watch?v=LOZuxwVk7TU\">Toxic</a> by Britney Spears<br />\n&nbsp;&nbsp;- Samples <a href=\"https://www.youtube.com/watch?v=oGKDBhdxn6c\">Tere Mere Beech Mein</a> by Lata Mangeshkar & S. P. Balasubrahmanyam<br />\n<br />\n- <a href=\"https://www.youtube.com/watch?v=jPW5A_JyXCY\">Sugar</a> by Robin Schulz feat. Francesco Yates<br />\n&nbsp;&nbsp;- Samples <a href=\"https://www.youtube.com/watch?v=6rgStv12dwA\">Suga Suga</a> by Baby Bash feat. Frankie J<br />\n<br />\n- Seth Everman combining <a href=\"https://www.youtube.com/watch?v=Xrbqsk-21wQ\">Moonlight Sonata and Still D.R.E.</a><br />\n<br />\n<br />\nSeparate from direct samples, I started noting down songs that remind me of each other. Maybe the songs share a similar palette, a similar bassline, or similar instruments.<br />\n<br />\n- Shared characteristic: eerie robotic beeps and boops<br />\n&nbsp;&nbsp;- <a href=\"https://www.youtube.com/watch?v=U_qi6Zlo70o\">Pure Imagination</a> by Fiona Apple<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- See also Chipotle's <a href=\"https://vimeo.com/98800121\">Scarecrow</a> video that features the same song<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Note that this song is a cover of Gene Wilder's <a href=\"https://www.youtube.com/watch?v=RZ-uV72pQKI\">original rendition</a> in Willy Wonka & the Chocolate Factory<br />\n&nbsp;&nbsp;- <a href=\"https://www.youtube.com/watch?v=0MJobnhWrk4\">Terry Time</a> from Pixar's Soul by Trent Reznor and Atticus Ross<br />\n&nbsp;&nbsp;- <a href=\"https://www.youtube.com/watch?v=iT2kStWiUVw\">Dr. Ford</a> from Westworld Season 1 Soundtrack by Ramin Djawadi<br />\n<br />\n- Shared characteristic: late 90s alt rock<br />\n&nbsp;&nbsp;- <a href=\"https://www.youtube.com/watch?v=PiBX-ESFDF0\">Sunday Morning</a> by No Doubt<br />\n&nbsp;&nbsp;- <a href=\"https://www.youtube.com/watch?v=dTFg2N97Q98\">Having An Average Weekend</a> (aka the theme song to Kids in the Hall) by Shadowy Men on a Shadowy Planet<br />\n"
    },
    {
         "title" : "Building a Reddit app",
         "date_published" : "2021-02-07T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/reddit.html",
         "url" : "https://memalign.github.io/p/reddit.html",
         "image" : "https://memalign.github.io/m/reddit.png",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/reddit.html'>Building a Reddit app</a>\n</h2>\n</div>\n<img src=\"/m/reddit.png\">\n<div id='postdate'>Posted on 2/7/2021<br />\nTags: <a href='/tags.html'>Programming</a></div>\nVisiting <a href=\"https://en.wikipedia.org/wiki/Reddit\">Reddit</a> can be a nice way to relax. Reddit can be many things: entertaining, mindless, funny, eye-opening, and more.<br />\n<br />\nAfter years of using <a href=\"https://www.reddit.com\">reddit.com</a> and various apps, I wondered whether I could improve my own Reddit browsing experience.<br />\n<br />\nIt turned out I could! I was able to throw together a Reddit reader app by adopting the official Reddit API and reusing some components from my <a href=\"/p/feedly.html\">Feedly RSS reader</a>.<br />\n<br />\nHere are some unique user experiences I built in:<br />\n<br />\n- Automatically hide posts I've already seen<br />\n&nbsp;&nbsp;- I treat Reddit more like a news feed. Any post I scroll past is marked as \"read\" so I won't have to see it again. Even when I refresh later, read posts remain hidden. This differs from most Reddit reader apps, where if you browse and refresh over the course of an hour, you'll end up seeing a long list of posts you've already encountered.<br />\n<br />\n- Combine Best and Top lists<br />\n&nbsp;&nbsp;- Reddit's website and most apps let you pick whether you want to see the \"best\" posts or the \"top\" posts. You can even choose whether to see the \"top\" posts from the past hour, day, week, month, year, or all time. You can manually pick which list you want to browse.<br />\n&nbsp;&nbsp;- Instead of viewing one batch at a time, I combine several of these lists automatically<br />\n&nbsp;&nbsp;- This helps me avoid running out of content on the days I spend a lot of time on Reddit. It also helps me see the best things I missed on days when I didn't visit Reddit.<br />\n&nbsp;&nbsp;- Here's the heuristic I use as I load subsequent pages:<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- When loading from the start, I load the 20 \"best\" posts and the 20 \"top\" posts for the day<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- When I finish that first page, I load the next page of those requests<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- When I finish reading the second page, I load the next page of those requests plus the 20 \"top\" posts for the week. This is where I start to mix in older posts that I might've missed.<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- When I finish the third page, I load the next page of those requests plus the 20 \"top\" posts for the month<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- When I finish the fourth page, I load the next page of those requests plus the 20 \"top\" posts for the year and all time<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- For all subsequent pages, I load the next page of all those requests<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- After 20 minutes of browsing, the next refresh automatically starts over at the first page<br />\n<br />\n- No infinite scrolling<br />\n&nbsp;&nbsp;- With infinite scrolling, it's too hard to find a stopping point. I prefer to manually \"pull to refresh\" to load the next page. I can set boundaries for myself such as \"I'll just read one more page\".<br />\n<br />\n<br />\n<br />\nHere's some quick info to get started adopting the Reddit API yourself:<br />\n<br />\n- Take a look at the official <a href=\"https://www.reddit.com/dev/api\">Reddit API documentation</a><br />\n<br />\n- The requests return JSON payloads which can be parsed easily in most programming languages<br />\n<br />\n- To get familiar with the specific payload formats, I like to make a request, copy its response, and paste it into a <a href=\"https://jsonformatter.org\">JSON reformatter</a> to make it easier to read<br />\n<br />\n- Here's an example simple request you can perform on the command line:<br />\n<div id='code'># Response will be outputted<br />\ncurl https://api.reddit.com/r/aww+funny+jokes/top?limit=20<br />\n<br />\n# Response will be copied to the clipboard (macOS only)<br />\ncurl https://api.reddit.com/r/aww+funny+jokes/top?limit=20 | pbcopy</div>\n- Here's more detail about the \"top\" request:<br />\n<div id='code'>https://api.reddit.com/r/SUBREDDITS/top?limit=LIMIT&amp;t=TIMEFRAME&amp;after=AFTER&amp;count=COUNT<br />\n<br />\nSUBREDDITS = subreddit names separated by &quot;+&quot;<br />\nLIMIT = integer number of posts to receive<br />\nTIMEFRAME = &quot;hour&quot;, &quot;day&quot;, &quot;week&quot;, &quot;month&quot;, &quot;year&quot;, or &quot;all&quot;<br />\nAFTER = include this argument when requesting the next page. Use the &quot;after&quot; value from the response for the previous page.<br />\nCOUNT = number of posts seen on all previous pages (when using a limit of 20: count will be omitted on page 1, count=20 on page 2, count=40 on page 3, etc)<br />\n<br />\nExample:<br />\n<br />\nhttps://api.reddit.com/r/aww+funny+jokes/top?limit=20&amp;t=hour<br />\n(when requesting the first page, omit &quot;after&quot; and &quot;count&quot;)<br />\n<br />\nhttps://api.reddit.com/r/aww+funny+jokes/top?limit=20&amp;t=hour&amp;after=t3_ldwt5j&amp;count=20<br />\n(when requesting the second page, include &quot;after&quot; and &quot;count&quot;)</div>\n- Here's more detail about the \"best\" request:<br />\n<div id='code'>https://api.reddit.com/r/SUBREDDITS/best?limit=LIMIT&amp;after=AFTER&amp;count=COUNT<br />\n<br />\nSUBREDDITS = subreddit names separated by &quot;+&quot;<br />\nLIMIT = integer number of posts to receive<br />\nAFTER = include this argument when requesting the next page. Use the &quot;after&quot; value from the response for the previous page.<br />\nCOUNT = number of posts seen on all previous pages (when using a limit of 20: count will be omitted on page 1, count=20 on page 2, count=40 on page 3, etc)<br />\n<br />\nExample:<br />\n<br />\nhttps://api.reddit.com/r/aww+funny+jokes/best?limit=20<br />\n(when requesting the first page, omit &quot;after&quot; and &quot;count&quot;)<br />\n<br />\nhttps://api.reddit.com/r/aww+funny+jokes/best?limit=20&amp;after=t3_ldwt5j&amp;count=20<br />\n(when requesting the second page, include &quot;after&quot; and &quot;count&quot;)</div>\n"
    },
    {
         "title" : "Counterfeit Monkey",
         "date_published" : "2021-01-09T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/counterfeit-monkey.html",
         "url" : "https://memalign.github.io/p/counterfeit-monkey.html",
         "image" : "https://memalign.github.io/m/cm-map.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/counterfeit-monkey.html'>Counterfeit Monkey</a>\n</h2>\n</div>\n<img src=\"/m/cm-map.jpg\">\n<div id='postdate'>Posted on 1/9/2021<br />\nTags: <a href='/tags.html'>Games</a>, <a href='/tags.html'>Programming</a>, <a href='/tags.html'>Interactive Fiction</a></div>\n<a href=\"https://ifdb.tads.org/viewgame?id=aearuuxv83plclpl\">Counterfeit Monkey</a> is my favorite interactive fiction game. I love its rich world, its delightful mechanics, and its clever puzzles.<br />\n<br />\nYou can play it <a href=\"http://iplayif.com/?story=https%3A%2F%2Fgithub.com%2Fi7%2Fcounterfeit-monkey%2Freleases%2Fdownload%2Fr9%2FCounterfeitMonkey-9.gblorb\">here</a> (<a href=\"/m/counterfeitmonkey/quixe/index.html\">my backup</a>).<br />\n<br />\nBut before you dive in there, I'm hoping that you'll give this a try. I've written a small demo of the first section of the game as mobile-friendly <a href=\"/p/listed-action-if.html\">Listed Action IF</a>:<br />\n<br />\n<a href=\"/m/counterfeitmonkey/index.html\">Counterfeit Monkey demo</a><br />\n<br />\n<br />\nTo learn more about the original game and my demo, please read on!<br />\n<br />\n<br />\nCounterfeit Monkey was written by <a href=\"https://en.wikipedia.org/wiki/Emily_Short\">Emily Short</a>. She's a brilliant author and has made huge contributions to the interactive fiction community. If you're interested in staying up-to-date on IF, I recommend checking out her <a href=\"https://emshort.blog\">website</a> and following her blog.<br />\n<br />\nCounterfeit Monkey is a piece of traditional parser-based IF. Parser-based games create rich and immersive worlds through text. Unfortunately, the user needs to type commands to play which makes them unergonomic for touch-based devices like smartphones and tablets.<br />\n<br />\nI've <a href=\"/p/pacman-dungeon.html\">written</a> <a href=\"/p/dungeon-memalign.html\">recently</a> about bringing text-based games to touch-based devices and those posts even include some small games (playable in your web browser!).<br />\n<br />\nI've found that I'm not alone in exploring more touch-friendly IF games that retain the rich world model of traditional parser-based IF. I think a sub-genre of IF may be forming, one I called <a href=\"/p/listed-action-if.html\">Listed Action IF</a> in a recent post.<br />\n<br />\nI was delighted when I saw that Emily licensed the game's <a href=\"https://github.com/i7/counterfeit-monkey\">source code</a> using the <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">Creative Commons Attribution-ShareAlike 4.0 license</a>, opening up opportunities to extend and transform it.<br />\n<br />\nThe games I've built so far are small and designed from the beginning for the limitations of short lists of actions. Adapting the first section of Counterfeit Monkey to the listed action model is an experiment to see how well a complex and rich game works.<br />\n<br />\nI think it's still really fun!<br />\n<br />\n<br />\nHere are some things I've learned and observed during this exploration:<br />\n<br />\n- This demo is built on the same little game engine I wrote and described in the second half of this post about <a href=\"/p/dungeon-memalign.html\">Dungeon Memalign</a><br />\n<br />\n- When I shared Dungeon Memalign on <a href=\"https://news.ycombinator.com/item?id=25262631\">HackerNews</a>, I got helpful feedback that I've now fixed:<br />\n&nbsp;&nbsp;- The emoji map did not render well on every platform. Not every platform supports every emoji and not every platform has uniform-width emoji. To check platform support of an emoji, I search for it on <a href=\"https://emojipedia.org\">emojipedia.org</a>. To handle non-uniform-width emoji, I put them in a transparent table.<br />\n&nbsp;&nbsp;- The Go actions would be in different positions depending on which directions were valid moves. That made the interface fiddly. To handle this, I now list every direction even when invalid.<br />\n<br />\n- I also noticed that search engines did not get useful text to index because they saw only the beginning of the game. To address this, I added a crawler mode that detects crawlers based on their user agent and gives them the text of a full play-through.<br />\n<br />\n- As Emily herself noted in an interesting <a href=\"https://emshort.blog/2010/06/07/so-do-we-need-this-parser-thing-anyway/\">blog post from 2010</a>, it's easy to list too many actions in this style of game. I've done a few things to try to optimize and shorten the list:<br />\n&nbsp;&nbsp;- Some actions are only relevant once so I remove them from the list, especially \"look\" actions<br />\n&nbsp;&nbsp;- Some actions can hide behind another, such as actions specific to some items being inside Inventory (used in Dungeon Memalign for healing potions)<br />\n&nbsp;&nbsp;- You'll see that I could still have done better in some parts of the demo where the lists of actions get quite long.<br />\n<br />\n- Some puzzles become easier or obvious when a new action appears. I think that's a pro and a con depending on the situation. Fortunately, Counterfeit Monkey's word-manipulation puzzles don't lose much of their challenge.<br />\n&nbsp;&nbsp;- Pro: parser-based games can be needlessly frustrating when trying to guess the right verb to use<br />\n&nbsp;&nbsp;- Con: command exploration is sometimes part of the puzzle, immersiveness, and fun of a parser-based game<br />\n<br />\n- I have new appreciation for how challenging it must have been to create the original game. Just porting a small portion of Emily's existing content was hard work. To have created its novel ideas and puzzles from scratch while also doing all of the implementation is just amazing. I'm reminded of Hunter S. Thompson typing out pages of The Great Gatsby to know what it felt like to write a classic.<br />\n<br />\n<br />\nYou can find the demo's source code <a href=\"https://github.com/memalign/memalign.github.io/tree/master/m/counterfeitmonkey\">here</a>. Since GameSegments.js, NounRepository.js, Memories.js, and Map.js are based on the original game's content and source code, those files are licensed under the <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">Creative Commons Attribution-ShareAlike 4.0 license</a> just like their source material.<br />\n<br />\n"
    },
    {
         "title" : "Listed Action Interactive Fiction",
         "date_published" : "2021-01-09T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/listed-action-if.html",
         "url" : "https://memalign.github.io/p/listed-action-if.html",
         "image" : "https://memalign.github.io/m/listed-actions.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/listed-action-if.html'>Listed Action Interactive Fiction</a>\n</h2>\n</div>\n<img src=\"/m/listed-actions.jpg\">\n<div id='postdate'>Posted on 1/9/2021<br />\nTags: <a href='/tags.html'>Interactive Fiction</a></div>\nAs I so love to do, I've fallen down the <a href=\"/p/rabbit-hole.html\">rabbit hole</a> on a new topic over winter break 2020: the different kinds of interactive fiction.<br />\n<br />\nAfter building <a href=\"/p/dungeon-memalign.html\">my first text adventure game</a> (<a href=\"/m/dungeon/index.html\">play here</a>) with the explicit goal of being mobile-friendly, I did some research and prototyping to understand:<br />\n<br />\n- What have people already figured out about touchscreen-friendly interactive fiction?<br />\n<br />\n- How well does the \"listed action\" approach I took in Dungeon Memalign work for a traditional IF game?<br />\n<br />\n<br />\nExcitingly, there's been some deep discussion and successful exploration in the community!<br />\n<br />\n<br />\nFor context, here's a quick recap of the main types of interactive fiction you'll find today on <a href=\"https://ifdb.tads.org\">IFDB</a>:<br />\n<br />\n- Parser-based IF<br />\n&nbsp;&nbsp;\"Parser-based IF, also known as the 'text adventure' genre, represents one of the oldest and best-known forms of interactive fiction. Some early examples are digital games from the 70s and 80s like Zork and Enchanter. In a parser game, players type natural-language commands into a simulated world, and the game interprets them as actions for the story‚Äôs main character to carry out. Parser games often involve puzzles that the player must solve to move forward in the story.\"<br />\n<br />\n- Choice-based IF<br />\n&nbsp;&nbsp;\"In choice-based interactive fiction, players choose among a number of options to advance the story. These options are presented either as an explicit multiple-choice menu, or as hyperlinks within the story text. Compared to parser IF, choice-based games tend to focus more on navigating branching narratives and multiple endings than on puzzles to solve or secrets to find.\"<br />\n&nbsp;&nbsp;- These games are similar to \"Choose Your Own Adventure\" books<br />\n<br />\n(These definitions are quoted from <a href=\"https://iftechfoundation.org/frequently-asked-questions/\">IFTF's FAQ</a>)<br />\n<br />\n<br />\nGames that have a rich world model without requiring typed commands don't fit neatly into these two categories. Despite the lack of neat label, there are a bunch of cool games that can be played entirely (or almost entirely) by clicking/tapping instead of typing. Note: though I have tried all of these games, I have not played them to completion.<br />\n<br />\n- <a href=\"https://ifdb.tads.org/viewgame?id=41cr9x95gu6tlfeu\">The Impossible Bottle</a> by <a href=\"https://www.linusakesson.net\">Linus √Ökesson</a> (<a href=\"https://linusakesson.net/games/the-impossible-bottle/rel1/play.html\">play here</a>)<br />\n&nbsp;&nbsp;- This game tied for first place in <a href=\"https://ifdb.tads.org/viewcomp?id=zkwmnr8k90q7wb2\">IFComp 2020</a>!<br />\n&nbsp;&nbsp;- Linus writes about the game in depth <a href=\"https://www.linusakesson.net/games/the-impossible-bottle/postscriptum/index.php\">here</a>, including its hybrid interface:<br />\n&nbsp;&nbsp;\"The Impossible Bottle is a hybrid parser/choice game. There's a prompt where you can type commands, but there are also hyperlinks for inserting text at the prompt, and it's possible to complete nearly all of the game using those links. Typing is generally faster, except on touch-screen devices where tapping on links is faster.\"<br />\n&nbsp;&nbsp;- Note: I almost missed the unique interface of this game because the big \"Play On-line\" button on IFDB takes you to the traditional parser-based way to play. The \"play here\" link above (which is less-prominently featured on the IFDB page) takes you to this special way to play.<br />\n<br />\n<br />\n- <a href=\"https://ifdb.tads.org/viewgame?id=h9x354wyakeeanik\">Bigger Than You Think</a> by <a href=\"https://zarfhome.com/\">Andrew Plotkin</a> (<a href=\"https://www.eblong.com/zarf/zweb/btyt/\">play here</a>)<br />\n&nbsp;&nbsp;- At first this game may seem purely choice-based but there is rich world state. Andrew has shared the <a href=\"https://www.eblong.com/zarf/zweb/btyt/btyt-src.html\">source code</a> which is an interesting read!<br />\n<br />\n<br />\n- <a href=\"https://ifdb.tads.org/viewgame?id=wbv84rstru6c91lr\">Shadow Operative</a> by Michael Lauenstein (<a href=\"http://ifarchive.org/if-archive/games/competition2020/Games/Shadow%20Operative/index.html\">play here</a>)<br />\n&nbsp;&nbsp;- This game placed 20th in IFComp 2020<br />\n&nbsp;&nbsp;- Shadow Operative uses a tool called <a href=\"https://vorple-if.com/\">Vorple</a> to bridge <a href=\"http://inform7.com/\">Inform</a> code to tightly integrate with JavaScript in the web browser<br />\n<br />\n<br />\n- <a href=\"https://ifdb.tads.org/viewgame?id=7btsk9iqqku2t8g9\">En Garde</a> by Jack Welch (<a href=\"http://ifarchive.org/if-archive/games/competition2018/En%20Garde/Release/play.html\">play here</a>)<br />\n&nbsp;&nbsp;- This game tied for 14th place in <a href=\"https://ifdb.tads.org/viewcomp?id=qwgk1gfg6s3pky3\">IFComp 2018</a><br />\n&nbsp;&nbsp;- You play this game by pushing a few buttons with different colors that correspond to commands<br />\n<br />\n<br />\n- <a href=\"http://hlabrande.fr/welcome/\">Hugo Labrande</a> has a few games like this, one of which he describes as a <a href=\"http://hlabrande.fr/my-games/commissions/\">\"parser game with hyperlinks to help beginners\"</a>:<br />\n&nbsp;&nbsp;- <a href=\"https://ifdb.tads.org/viewgame?id=nmzjzrhbrhxsv3tx\">Le k√©bab hant√©</a> (<a href=\"http://www.fiction-interactive.fr/fi/hlabrand/kebab-hante/jouer.html\">play here</a>)<br />\n&nbsp;&nbsp;- <a href=\"https://ifdb.tads.org/viewgame?id=c2lri3aknb6dghw2\">Secrets de p√™cheurs</a> (<a href=\"https://ad1s.itch.io/secrets-de-pcheurs\">play here</a>)<br />\n<br />\n<br />\n- <a href=\"https://swords.sleepless.com/\">Swords</a> is a web-based world editor and game engine for Listed Action IF games<br />\n&nbsp;&nbsp;- Play an existing map <a href=\"https://swords.sleepless.com/play/\">here</a><br />\n&nbsp;&nbsp;- Create your own game <a href=\"https://swords.sleepless.com/editor/\">here</a><br />\n&nbsp;&nbsp;- In addition to web-based play, Swords games can be played via Amazon Alexa or Discord chat. I haven't tried this out though.<br />\n<br />\n<br />\nWith this growing list that includes the tied-for-first place 2020 IFComp entry, I'd like to try finding a name for this category.<br />\n<br />\n<a href=\"https://emshort.blog/\">Emily Short</a> wrote about options for leaving the parser behind a decade ago in an insightful post: <a href=\"https://emshort.blog/2010/06/07/so-do-we-need-this-parser-thing-anyway/\">So, Do We Need This Parser Thing Anyway?</a><br />\n<br />\nHere, she describes \"enumerated-choice games with world modeling\" with meaningful discussion of the pros and cons.<br />\n<br />\nThat's a good starting point for a name! Tweaking this label to set it apart from \"choice-based\" IF and using a word more ordinary than \"enumerated,\" I've started calling this sub-genre \"Listed Action Interactive Fiction.\"<br />\n<br />\nThe key characteristics of the Listed Action IF sub-genre seem to be:<br />\n- The game has a rich world model<br />\n- The user interacts with lists of actions and objects<br />\n- The game can be played without typing<br />\n<br />\nThese properties make these games easier for beginners to pick up and more ergonomic to play on your phone or iPad.<br />\n<br />\n<br />\nTo test out how well this UI works in practice for a rich, more traditional IF game, I took a look at the <a href=\"https://github.com/i7/counterfeit-monkey\">source code</a> of my favorite IF game (which also happens to be written by Emily Short!), <a href=\"https://ifdb.tads.org/viewgame?id=aearuuxv83plclpl\">Counterfeit Monkey</a>, and I built a Listed Action demo of the first few puzzles! Emily's game is super fun and brilliant.<br />\n<br />\n<a href=\"/m/counterfeitmonkey/index.html\">Play the Listed Action Counterfeit Monkey demo here.</a><br />\nRead my dedicated post about this demo <a href=\"/p/counterfeit-monkey.html\">here</a>.<br />\n<br />\n(You can also play the full original parser-based game <a href=\"http://iplayif.com/?story=https%3A%2F%2Fgithub.com%2Fi7%2Fcounterfeit-monkey%2Freleases%2Fdownload%2Fr9%2FCounterfeitMonkey-9.gblorb\">here</a> / <a href=\"/m/counterfeitmonkey/quixe/index.html\">my backup</a>)<br />\n<br />\n<br />\nI hope you enjoy it! If you do, I hope you'll consider taking the Listed Action approach the next time you write a game!<br />\n<br />\n<br />\n<img src=\"/m/horizontalseparator.png\"><br />\n<br />\n<br />\nNotes:<br />\n<br />\nHere's the chain of tangents I followed to research this topic. This list includes some links to tools that may help you build your own Listed Action IF game.<br />\n<br />\nThis is all just light research I did as a hobby. I'm by no means an expert and there are many people more qualified to write on this subject. I'm just a person diving in for fun. I'm sharing this in the hopes it'll inspire and interest other people too.<br />\n<br />\n<br />\n- I played Counterfeit Monkey years ago and it renewed my interest in IF<br />\n<br />\n- I made my <a href=\"/p/dungeon-memalign.html\">own game</a> and shared it on <a href=\"https://news.ycombinator.com/item?id=25262631\">HackerNews</a><br />\n&nbsp;&nbsp;- One comment asked whether there are other \"click and log\" games like this. That made me wonder too.<br />\n<br />\n- I learned more about <a href=\"/p/andrew-plotkin.html\">Andrew Plotkin</a> and explored <a href=\"https://zarfhome.com/\">his website</a>. Some cool things he made:<br />\n&nbsp;&nbsp;- <a href=\"https://eblong.com/zarf/glulx/quixe/\">Quixe</a> (used above to link to the original parser-based game, playable in a web browser)<br />\n&nbsp;&nbsp;- His game <a href=\"https://www.eblong.com/zarf/zweb/btyt/\">Bigger Than You Think</a><br />\n&nbsp;&nbsp;- His iOS games, such as <a href=\"https://itunes.apple.com/us/app/hadean-lands-interactive-alchemical/id918958300?mt=8&uo=4&at=11l9WL\">Hadean Lands</a>, that have been tuned to provide useful commands on touchscreen devices<br />\n&nbsp;&nbsp;- <a href=\"https://zarfhome.com/if.html\">His framework</a> for IF on iOS<br />\n<br />\n- I worked on the <a href=\"/p/counterfeit-monkey.html\">Counterfeit Monkey demo</a> to further explore Listed Action IF<br />\n&nbsp;&nbsp;- Take a look at the <a href=\"https://github.com/memalign/memalign.github.io/tree/master/m/counterfeitmonkey\">source code</a> and feel free to fork it to make your own game. See also <a href=\"/p/dungeon-memalign.html\">Dungeon Memalign</a> & <a href=\"/p/pacman-dungeon.html\">PacMan Dungeon</a>.<br />\n<br />\n- I looked at <a href=\"https://ifdb.tads.org/viewcomp?id=zkwmnr8k90q7wb2\">IFComp 2020</a> to see what the current state of the art is<br />\n<br />\n- That listed <a href=\"https://ifdb.tads.org/viewgame?id=41cr9x95gu6tlfeu\">The Impossible Bottle</a> - I actually missed that this was Listed Action IF because I clicked the wrong link and initially only played the pure parser-based version<br />\n<br />\n- It also listed <a href=\"https://ifdb.tads.org/viewgame?id=wbv84rstru6c91lr\">Shadow Operative</a><br />\n<br />\n- Shadow Operative led me to <a href=\"https://vorple-if.com/\">Vorple</a><br />\n<br />\n- That led me to <a href=\"https://ifdb.tads.org/search?sortby=new&newSortBy.x=0&newSortBy.y=0&searchfor=vorple\">audit Vorple games on IFDB</a> to see if any others are Listed Action IF<br />\n<br />\n- The audit led me to <a href=\"http://hlabrande.fr/welcome/\">Hugo Labrande's website</a><br />\n<br />\n- Vorple's website led me to <a href=\"https://borogove.app/\">Borogove</a>, an online IDE for making IF games<br />\n<br />\n- Borogove supports a few programming languages for developing IF. I was familiar with most but I saw a new one: <a href=\"https://www.linusakesson.net/dialog/\">Dialog</a><br />\n<br />\n- Dialog led me to <a href=\"https://www.linusakesson.net/index.php\">Linus √Ökesson's website</a><br />\n<br />\n- That led me to Linus's games <a href=\"https://www.linusakesson.net/games/pas-de-deux/index.php\">Pas De Deux</a> and <a href=\"https://www.linusakesson.net/games/the-impossible-bottle/index.php\">The Impossible Bottle</a> - wait a sec! This is when I noticed that The Impossible Bottle is not standard parser-based IF.<br />\n<br />\n- Then I did some general web searches for:<br />\n&nbsp;&nbsp;- mobile interactive fiction<br />\n&nbsp;&nbsp;- hypertext hybrid interactive fiction<br />\n&nbsp;&nbsp;- etc<br />\n<br />\n- I saw that <a href=\"https://emshort.blog/\">Emily Short</a>'s blog covered these topics<br />\n&nbsp;&nbsp;- This took me to her <a href=\"https://emshort.blog/2010/06/07/so-do-we-need-this-parser-thing-anyway/\">2010 article</a><br />\n&nbsp;&nbsp;- Also this <a href=\"https://emshort.blog/2014/12/16/hybrid-interfaces-texture-contrition-porpentine-spondre-jay-nabonne/\">other post</a><br />\n<br />\n- About a month after originally publishing this post, I saw a <a href=\"https://www.reddit.com/r/textadventures/comments/i0uq4l/discord_text_adventure/\">reddit post</a> about <a href=\"https://swords.sleepless.com\">Swords</a>.<br />\n"
    },
    {
         "title" : "Andrew Plotkin's Zarfhome",
         "date_published" : "2020-12-30T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/andrew-plotkin.html",
         "url" : "https://memalign.github.io/p/andrew-plotkin.html",
         "image" : "https://memalign.github.io/m/play-if-card.png",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/andrew-plotkin.html'>Andrew Plotkin's Zarfhome</a>\n</h2>\n</div>\n<img src=\"/m/play-if-card.png\">\n<div id='postdate'>Posted on 12/30/2020<br />\nTags: <a href='/tags.html'>Leisure</a>, <a href='/tags.html'>Interactive Fiction</a></div>\nMy interest in interactive fiction and simple-yet-vast personal websites intersected this week when I stumbled upon <a href=\"https://en.wikipedia.org/wiki/Andrew_Plotkin\">Andrew Plotkin</a>'s <a href=\"https://eblong.com/zarf/home.html\">homepage</a> (aka Zarfhome).<br />\n<br />\n(My previous adventures have led me to Drew's <a href=\"/p/clamps.html\">clamps</a>, Lawrence's <a href=\"/p/coding-machines.html\">coding machines</a>, and Eric Meyer's heartbreaking posts about his daughter <a href=\"/p/rebecca-meyer.html\">Rebecca</a>.)<br />\n<br />\nAndrew has done some really cool work over the years. His body of work includes foundational tools for <a href=\"https://eblong.com/zarf/glk/index.html\">building</a>/<a href=\"https://eblong.com/zarf/blorb/index.html\">packaging</a> interactive fiction games and an impressive library of <a href=\"https://eblong.com/zarf/if.html\">interactive fiction games</a>.<br />\n<br />\nZarfhome's design aesthetic of black text, blue links, and a white background may not be enticing to everybody browsing the web these days. When I see a site like this, I'm drawn in. This is where the special gems on the internet still exist.<br />\n<br />\nHere are some notable pages to check out:<br />\n<br />\n- The <a href=\"https://eblong.com/zarf/home.html\">homepage</a><br />\n<br />\n- The <a href=\"https://eblong.com/zarf/sitemap.html\">sitemap</a> where he lists decades of projects<br />\n&nbsp;&nbsp;- He even made an interactive-fiction-style <a href=\"https://eblong.com/zarf/cave/index.html\">caves version</a> of the sitemap. What a clever idea!<br />\n<br />\n- A years-out-of-date <a href=\"https://eblong.com/zarf/changes.html\">changes</a> page. When I see this, I think about how much more durable this is than posts on Facebook or Twitter. There's something special about this kind of website that we don't get in today's social media.<br />\n<br />\n- <a href=\"https://blog.zarfhome.com\">Andrew's blog</a><br />\n&nbsp;&nbsp;- This is what led me to the homepage in the first place<br />\n<br />\n<br />\nAs I browsed, I had a few neat surprises:<br />\n<br />\n- Over a decade ago, I downloaded a Python program called <a href=\"https://github.com/erkyrath/boodler\">Boodler</a> to make soundscapes. It turns out Andrew made Boodler!<br />\n<br />\n- I had stumbled upon \"Crazy Uncle Zarf\"'s <a href=\"http://pr-if.org/doc/play-if-card/play-if-card-300dpi.png\">handy interactive fiction reference card</a> when I was getting started playing IF. It turns out Andrew wrote this too!<br />\n<br />\n- Up until now, I hadn't seen other examples of blending richer interactive fiction with a web/mobile-friendly hyperlink interface like I recently experimented with in <a href=\"/p/dungeon-memalign.html\">Dungeon Memalign</a>. I found that Andrew did some work like this back in 2012! His game, <a href=\"https://archiveofourown.org/collections/yuletide2012/works/598023\">Bigger Than You Think</a>, is played by clicking hyperlinks and picking up items.<br />\n<br />\n<br />\nAndrew's decades of work, shared through his site with the world, are truly inspiring. It's so cool that he's shared complete projects, half-baked prototypes, random ideas, and more. Thank you Andrew!<br />\n"
    },
    {
         "title" : "Product Review Writing Prompts",
         "date_published" : "2020-12-27T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/product-reviews.html",
         "url" : "https://memalign.github.io/p/product-reviews.html",
         "image" : "https://memalign.github.io/m/amazon.png",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/product-reviews.html'>Product Review Writing Prompts</a>\n</h2>\n</div>\n<img src=\"/m/amazon.png\">\n<div id='postdate'>Posted on 12/27/2020<br />\nTags: <a href='/tags.html'>Leisure</a>, <a href='/tags.html'>Writing</a></div>\nCirca 2015, I met my friend for dinner at a <a href=\"https://yelp.to/NXgyTFHlzcb\">Vietnamese restaurant</a> in the Mission. We caught up on all things work and life. One small update he shared is that he'd been running an email list for years where he sends out product recommendations with <a href=\"https://affiliate-program.amazon.com\">Amazon affiliate</a> links. He made a modest sum on referral fees paid by Amazon when someone made a purchase.<br />\n<br />\nBack then, I wasn't aware of \"Instagram Influencers\" and it's possible that it wasn't a thing yet. Though I have no aspirations of influencing, every once in a while I'm surprised by a product we're using and I think that it'd be neat to share this with the world. And while I'm sharing, why not tack a referral reference onto the link and see if it goes somewhere?<br />\n<br />\nAnd then, about a month ago, I felt an itch to do some writing.<br />\n<br />\nQuick aside:<br />\nIt's weird: all through school I gravitated toward math, science, and engineering. I dreaded writing assignments and classes heavy on reading. Now that I'm an adult who's been out of school for over a decade, I spend much of my free time reading (not necessarily <a href=\"/p/books.html\">books</a>; mostly articles, blog posts, and discussion about all kinds of topics). And after working as an engineer, discovering that written communication is a vital skill, and then getting years and years of practice, I'm finding joy in expressing my thoughts in writing. This is probably worth a post of its own.<br />\n<br />\nAnyway, I felt an itch to do some writing. I had done some light creative writing as part of my recent text adventure games (<a href=\"/p/dungeon-memalign.html\">Dungeon Memalign</a> and <a href=\"/p/pacman-dungeon.html\">Pac-Man Dungeon</a>) and I wanted more.<br />\n<br />\nHaving never engaged well with writing in school, I wasn't sure where to start. Instead of writing a story, a journal entry, or a new interactive fiction game, I latched onto the product recommendations idea.<br />\n<br />\nWhat resulted are some product reviews I had fun making. Not everyone (anyone?) will enjoy them. Though my wife was supportive, read them, and said they were good, she also pointed out, \"Why would anyone want these? People looking for product reviews want specific information presented concisely.\"<br />\n<br />\nBy the way, I did not sign up for the Amazon affiliate program and these are just vanilla product links. I don't get any monetary benefit if you follow these links. I'm simply getting the satisfaction of sharing some things that I liked using with words that I liked writing.<br />\n<br />\nHere they are:<br />\n<br />\n<img src=\"/m/ants.jpg\"><br />\nAnts erupt from a .5mm space between the wood floor and the white painted trim. They skitter, weaving single-file, looking for any source of nourishment. They discover a bowl of delicious dog food and, by the tang on their mandibles, it's the premium stuff: imported hypoallergenic kibble made with venison and sweet potatoes.<br />\n<br />\nThey obey the queen and the queen commanded, \"FEED ME!\" She will be most pleased.<br />\n<br />\nThis is the scene I stepped onto one Monday morning. I literally stepped onto it two or three times before I even noticed. The uncrushed ants were undeterred despite 10-20 of their flattened peers littering the scent trail.<br />\n<br />\nAnd then I did notice. \"ANTS!\" I exclaimed to my wife as I scrambled to wipe them up with a damp papertowel. And yet they kept coming and coming. I dumped the dog's food in the trash and rinsed ants off the bowl. I traced them back to the source, that tiny sliver of a space where they were coming out of the wall. They can come out of the wall?? Apparently this is how ants work.<br />\n<br />\nLast time we had ants I was less surprised because they were simply coming in under a door. Fortunately, we still had some supplies left over from the last ant-pocalypse we orchestrated.<br />\n<br />\nSpecifically, we had these liquid ant traps:<br />\n<br />\n<a href=\"https://www.amazon.com/TERRO-T300-Liquid-Ant-Baits/dp/B000HJBKMQ/ref=sr_1_9?dchild=1&keywords=Terro+ant+trap&qid=1607316244&s=home-garden&sr=1-\">TERRO T300 Liquid Ant Bait Ant Killer, 6 Bait Stations</a><br />\n<br />\nThese traps worked great: they attract the ants, the ants slurp up the sweet borax-poisoned bait, and the majority of the ants make it back to the nest to share the dose. Within a week, the swarm of ants had dwindled and the nest had succumbed to the borax.<br />\n<br />\nIn the meantime, we ordered outside traps:<br />\n<br />\n<a href=\"https://www.amazon.com/T1812-Outdoor-Liquid-Killer-Stakes/dp/B00GRTNRJ4/ref=sr_1_24?dchild=1&keywords=Terro+ant+trap&qid=1607316244&s=home-garden&sr=1-24\">TERRO T1812 Outdoor Liquid Ant Killer Bait Stakes - 8 Traps</a><br />\n<br />\nI placed these around the house to re-establish the perimeter of our ant-free zone. Hopefully we'll be good for another 6 months.<br />\n<br />\n<br />\n<br />\n<img src=\"/m/icicles.jpg\"><br />\nClose your eyes and imagine with me:<br />\n- It's winter<br />\n- You and your spouse disagree about an appropriate indoor temperature<br />\n- You want to keep the house habitable by humans<br />\n- They just want to prevent the water pipes from freezing and bursting<br />\n- You compromise on a balmy 67¬∫F<br />\n<br />\nThat's just too chilly.<br />\n<br />\nThe good news is that you can create a tiny little sauna for yourself in any enclosed space with this tiny little space heater made by Toyuugo:<br />\n<br />\n<a href=\"https://www.amazon.com/Portable-Electric-Personal-Overheating-Protection/dp/B08HMQ8DWX/ref=sr_1_6?dchild=1&keywords=toyuugo+heater&qid=1607308243&s=home-garden&sr=1-6\">Portable Electric Heater, Space Heater 500W Ceramic Personal Desk Heater, 2s Quick Heat-up, Tip-Over, Overheating Protection & Auto Shut Off for Office Home</a><br />\n<br />\nIt's small but it packs a big punch!<br />\n<br />\nI like to turn this on in my bathroom a minute before I go in and leave it running while I'm in there. I've used it off-and-on for about a year now. It's great :)<br />\n<br />\n<br />\n<br />\n<img src=\"/m/suctioncups.jpg\"><br />\nHave you ever wanted to hang a coat or towel?<br />\n<br />\nAnd you don't want to install a rack of some kind (because you don't have space, a good spot, you don't want to hammer something into the wall, etc)?<br />\n<br />\nAnd you have a glossy surface (possibly glass) nearby which would be a good spot for a hook?<br />\n<br />\nIf you, like me, find yourself in this strangely specific circumstance, I know exactly what will help.<br />\n<br />\n<a href=\"https://www.amazon.com/HOME-SO-Bathroom-Suction-Holder/dp/B01IDG63E4\">HOME SO Suction Cup Hooks for Shower, Bathroom, Kitchen, Glass Door, Mirror, Tile ‚Äì Loofah, Towel, Coat, Bath Robe Hook Holder for Hanging up to 15 lbs ‚Äì Waterproof & Rustproof, Chrome</a><br />\n<br />\nNote that, while these have a shiny chrome finish, they are plastic.<br />\n<br />\nNormally, I don't trust suction cups. I've been burned too many times! You stick them on only to have them detach days later. Often at inconvenient times. I still haven't found a trustworthy car-phone-mount that uses suction cups.<br />\n<br />\nThis product is great. You stick it on the glass and you twist the knob to increase suction. A few days after sticking it on, you twist again in case it unwound at all. I like to give it an extra little twist every few months now. We have four, used every day, and they have never detached after months of use.<br />\n<br />\n<br />\n<img src=\"/m/horizontalseparator.png\"><br />\n<br />\nSo those are my reviews. I have more products I like but I'm shifting my hobby time to something else for now!<br />\n<br />\nHere's what I would write about next:<br />\n<br />\nFor the home:<br />\n- Electric blankets: <a href=\"https://www.qvc.com/Berkshire-Velvet-Soft-Intellisense-Heated-Queen-Blanket.product.H217377.html\">Berkshire Blanket Heated Throw</a><br />\n- <a href=\"https://www.amazon.com/Electric-Heated-Warming-Mattress-Stripe/dp/B001JEPSSA\">Heated mattress pad by SoftHeat/Serta</a><br />\n- Air purifiers by Levoit. <a href=\"https://www.amazon.com/dp/B07CNQQM9N/ref=cm_sw_em_r_mt_dp_kst6FbQBJTZWB\">This big one</a> is great for a large open space.<br />\n- Ring Alarm and cameras<br />\n<br />\nWorking from home:<br />\n- <a href=\"https://shop.lululemon.com/p/mens-sweatpants/Discipline-Pant/_/prod5020219?color=0001\">Lululemon Discipline Pant</a><br />\n&nbsp;&nbsp;- Off-screen comfort<br />\n- <a href=\"https://www.hermanmiller.com/products/seating/office-chairs/aeron-chairs/\">Herman Miller Aeron chair</a><br />\n<br />\nHealth:<br />\n- Lactaid - I should've started using this far earlier than I did!<br />\n- <a href=\"https://www.amazon.com/dp/B078GVDB19/ref=cm_sw_em_r_mt_dp_0Gu6FbHP6EK4W\">Sonicare toothbrush</a><br />\n&nbsp;&nbsp;- Switching from a classic electric toothbrush to this Sonicare felt like finally arriving in the future. I feel this cleans a lot better than older technology.<br />\n<br />\nDog:<br />\n- <a href=\"https://www.chewy.com/zignature-venison-limited-ingredient/dp/128087\">Zignature Limited Ingredient Venison</a> dog food<br />\n&nbsp;&nbsp;- Around 1 year old, our Shiba Inu became allergic to normal dog food. He started rubbing his face raw and biting at his fur to scratch his itchy skin. We learned that many dogs become allergic to common proteins. The solution is to switch to a limited-ingredient food and be careful they don't eat random things. It was a relief when we found this food that is safe and he likes to eat.<br />\n- <a href=\"https://www.chewy.com/comfy-cone-e-collar-dogs-cats-black/dp/134219\">Dog Comfy Cone</a><br />\n&nbsp;&nbsp;- Important to use any time he's having an allergic reaction and trying to scratch/bite himself<br />\n<br />\nOther:<br />\n- My favorite car - switching to a nicer car as an adult transformed driving from a routine bore to something fun!<br />\n- Stickerless <a href=\"https://www.amazon.com/Mini-Cube-Keychains-Speed-Rubiks/dp/B07K43D8B9\">mini speed Rubik's Cube</a> knockoff keychains - there are several brands, make sure to pick one with good reviews<br />\n<br />\n<br />\n"
    },
    {
         "title" : "Dungeon Memalign",
         "date_published" : "2020-11-30T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/dungeon-memalign.html",
         "url" : "https://memalign.github.io/p/dungeon-memalign.html",
         "image" : "https://memalign.github.io/m/dungeon.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/dungeon-memalign.html'>Dungeon Memalign</a>\n</h2>\n</div>\n<img src=\"/m/dungeon.jpg\">\n<div id='postdate'>Posted on 11/30/2020<br />\nTags: <a href='/tags.html'>Games</a>, <a href='/tags.html'>Programming</a>, <a href='/tags.html'>Interactive Fiction</a></div>\n\"You open your eyes and find yourself in dimly lit surroundings. The air is damp and cool. The smell of mildew reminds you of an old basement. In your head, you label this location 'room üëÄüëÉ'.<br />\n<br />\nNearby, you see a small potion.<br />\n<br />\nYou can head east.\"<br />\n<br />\n&nbsp;&nbsp;- <a href=\"/m/dungeon/index.html\">Dungeon Memalign</a><br />\n<br />\n<br />\nI hinted at a new dungeon game in my <a href=\"/p/pacman-dungeon.html\">post about Pac-Man</a>. Well this game is now complete!<br />\n<br />\nThis game, \"Dungeon Memalign,\" puts the player in a maze and a daze. The player solves puzzles and battles their way through ever-stronger monsters. Are you clever and strong enough to win? <a href=\"/m/dungeon/index.html\">Play here!</a><br />\n<br />\nThe game is beatable in ~15 minutes and should work well on phones, tablets, and computers. It'll save your progress if you get interrupted.<br />\n<br />\n<br />\nIn the rest of this post, I'm going to talk about how I wrote this game, the structure of the source code, and ideas for other games that can be built on the same foundations.<br />\n<br />\n<br />\nHow I approached writing this game:<br />\n<br />\n- I talked about my long-time desire to built my own text-based game in a <a href=\"/p/pacman-dungeon.html\">previous post</a>.<br />\n<br />\n- I brainstormed about potential stories and even came up with a fairly rich idea<br />\n<br />\n- I created a local <a href=\"/p/source-control.html\">git repository</a> and I used a <a href=\"/p/notes-txt.html\">notes.txt</a> engineering journal to capture my thoughts and pending task list<br />\n<br />\n- I worked on the foundations: the game engine, the map, and how to structure game-specific logic. More details on this below.<br />\n<br />\n- As I started scoping out the story-specific work, I realized that writing such a sophisticated story and supporting the game mechanics would take more time than I have for a side project. I didn't want this project to drag on for more than a handful of months. If it took longer, I'd have a bigger and more interesting game but I might get bored of it and never finish. Or it would prevent me from developing other ideas I haven't thought of yet.<br />\n<br />\n- I found a way to scope the story down so I could keep it interesting, fun, and achieve my goal of writing a text-based game in a timeframe I was willing to devote to it.<br />\n<br />\n- With the scoped-down story, I worked on designing the game map next<br />\n<br />\n- I used a pixel art app to draw a grid and then I filled in a maze-like set of inter-connected rooms, light puzzles, and enemies of increasing difficulty. At this phase of design, I knew I wanted to have battles but I wasn't sure how they would work or what rewards to give to celebrate victory. <a href=\"/m/dungeon/Resources/map.png\">Here's the map I drew</a> (don't look until you've played the game!).<br />\n<br />\n- Next, I worked on implementing the map itself. I wrote the code to name each room, add items to the rooms, describe each room's contents, and hook the rooms up to each other. Some of this work was tedious/mechanical which turned out to be an easy way to unwind in the evening and build momentum. I could even do some of this work from a mobile device while using an exercise bike (e.g. naming all of the rooms).<br />\n<br />\n- Next, I implemented the game mechanics one-by-one:<br />\n&nbsp;&nbsp;- Locked doors and keys to unlock them<br />\n&nbsp;&nbsp;- Simple battle mechanics where the user one-hit killed every enemy<br />\n&nbsp;&nbsp;- Gear: armor to reduce damage during battle, weapons<br />\n&nbsp;&nbsp;- Complex battle mechanics with attacks, variable damage, and enemies fighting back<br />\n&nbsp;&nbsp;- Rewards for battles<br />\n&nbsp;&nbsp;- Healing items and a healing room<br />\n<br />\n- At every step of the way, the game was playable and it got iteratively richer. I like to work my way up from a simpler system to a more complex system iteratively.<br />\n&nbsp;&nbsp;- I'm reminded of <a href=\"https://en.wikipedia.org/wiki/John_Gall_(author)\">Gall's Law</a>: \"A complex system that works is invariably found to have evolved from a simple system that worked. A complex system designed from scratch never works and cannot be patched up to make it work. You have to start over with a working simple system.\"<br />\n<br />\n- The whole time, I kept a detailed task list in my notes.txt file: enemies I needed to flesh out, details I skipped over, mechanics I still needed to implement, and test coverage I needed to write<br />\n<br />\n- I played through the game a few times, tweaking rewards. I added a weapon upgrade and added more explanation of game items and attacks as a reward.<br />\n<br />\n- I added saving/loading/and starting over. I had a strategy in mind for how I would save game progress from the beginning of the project (because the tools available could change how I maintained game state). Knowing this would be played in a web browser meant I only had some tools available.<br />\n<br />\n- Then I worked through the whole test backlog. Though I often wrote tests as I added new logic, I also accumulated a big list of missing coverage for edge cases and some aspects of gameplay. I love projects where most testing can be automated as unit tests and multi-layer \"unit tests\" (which are actually integration tests written using the unit test harness). More on testing below.<br />\n<br />\n- I played it a bunch and my wife played it too! I fixed any bugs we found.<br />\n<br />\n- And then the game was ready to share :)<br />\n<br />\n<br />\nHow the <a href=\"https://github.com/memalign/memalign.github.io/tree/master/m/dungeon\">code</a> is structured:<br />\n<br />\n- I use \"MA\" as a prefix on class names to create a simple namespace to avoid conflicts with global JavaScript APIs<br />\n<br />\n- <a href=\"https://github.com/memalign/memalign.github.io/tree/master/m/dungeon/Map.js\">Map.js</a><br />\n&nbsp;&nbsp;- Most of the code in this file is game-specific. When writing a new game, most of this code would be deleted and replaced.<br />\n&nbsp;&nbsp;- Defines the enemies (MAEnemy instances)<br />\n&nbsp;&nbsp;- Defines the rooms (MALocation instances)<br />\n&nbsp;&nbsp;- Defines the graph of room-to-room connections<br />\n&nbsp;&nbsp;- Enemies and rooms have properties and methods that the game engine calls to get the appearance, attacks, etc<br />\n&nbsp;&nbsp;- Has logic to generate an emoji representation of the map<br />\n<br />\n- <a href=\"https://github.com/memalign/memalign.github.io/tree/master/m/dungeon/GameEngine.js\">GameEngine.js</a><br />\n&nbsp;&nbsp;- Most of the code in this file is foundational. This should require only small tweaks when it's used in a new game.<br />\n&nbsp;&nbsp;- Many foundational classes are in this file. They could be factored out into their own files.<br />\n&nbsp;&nbsp;- Notable classes:<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- MAGameState: an instance of this class stores all of the current game's state. This instance is passed into game engine methods and modified as the game progresses. This object has a reference to the Map instance, the current location, the user's inventory, and storage used by MAGameSegment subclasses.<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- MAGameEngine: this class is the entry point to all of the game logic. It contains some common methods that most games would need (such as a method to calculate the possible actions the user can take given the current game state). There are only two places in this class that contain game-specific logic: constructor and setupNewGame. The constructor instantiates a hard-coded list of MAGameSegment subclasses (more on these below). The setupNewGame method simply has the name of the game hard-coded.<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- MANoun, MAScenery: classes used to represent items in the game map. These include some methods to guess the right indefinite article and in-sentence representation of the objects.<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- MADirection, MALocation: used to represent map locations and the connections between them<br />\n<br />\n- <a href=\"https://github.com/memalign/memalign.github.io/tree/master/m/dungeon/Utilities.js\">Utilities.js</a><br />\n&nbsp;&nbsp;- Methods used in many different parts of the codebase<br />\n&nbsp;&nbsp;- One example: naturalLanguageStringForArray, accepts an array of MANoun objects and constructs a string like \"a dog and a cat\" or \"a dog, a mouse, and some ants\"<br />\n&nbsp;&nbsp;- Another useful method: fakeRandomInt. All of the \"randomness\" in the game is actually deterministic so I can replay every action taken since the beginning of the game and always get the same result. I use this trick for easy saving/loading of game progress. It also impacts unit testing.<br />\n<br />\n- <a href=\"https://github.com/memalign/memalign.github.io/tree/master/m/dungeon/GameSegments.js\">GameSegments.js</a><br />\n&nbsp;&nbsp;- MAGameSegment is an abstract class that is subclassed to create game-specific GameSegments<br />\n&nbsp;&nbsp;- A GameSegment is a way to organize game logic, such as locked doors & keys to unlock them, using potions to heal, etc<br />\n&nbsp;&nbsp;- The GameEngine asks every GameSegment for actions the user can perform (e.g. \"Use potion\"). The GameSegment is then asked to perform the action that's chosen.<br />\n&nbsp;&nbsp;- GameSegments also get callbacks when other parts of the game will perform or did perform an action in case they have reason to block it or react to it. For example, a GameSegment may want to block \"Go north\" if the door is locked.<br />\n&nbsp;&nbsp;- Game mechanics and room-specific behaviors are implemented as GameSegments.<br />\n<br />\n- <a href=\"https://github.com/memalign/memalign.github.io/tree/master/m/dungeon/GameSegmentBattle.js\">GameSegmentBattle.js</a><br />\n&nbsp;&nbsp;- The battle mechanics of the game are complex enough that I put this game segment in its own file<br />\n<br />\n- <a href=\"https://github.com/memalign/memalign.github.io/tree/master/m/dungeon/UnitTests.js\">UnitTests.js</a><br />\n&nbsp;&nbsp;- This is a simple unit test harness and collection of tests of both foundational and game-specific pieces<br />\n&nbsp;&nbsp;- Run the unit tests by visiting <a href=\"/m/dungeon/unitTests.html\">unitTests.html</a><br />\n&nbsp;&nbsp;- Some of the tests are real \"unit\" tests<br />\n&nbsp;&nbsp;- A lot of the test coverage comes from multi-layer tests which are more accurately called \"integration\" tests. I chose to get a lot of test coverage this way because it was less effort for me to write these instead of granular unit tests for everything.<br />\n&nbsp;&nbsp;- These integration tests essentially play the game and assert that the game ended up in the right state along the way. See \"test_MAGameEngine_beatGame\" for a full play-through (and spoilers!).<br />\n<br />\n<br />\nI'll close this post with some ideas to extend or reuse these pieces:<br />\n<br />\n- Create a game with a linear dungeon where enemies get stronger as you move deeper into it. If you die, you start over at the beginning but you get to keep your experience/attacks/equipment.<br />\n- Create an \"Emojimon\" text-based RPG to collect and battle emoji (similar to Pok√©mon)<br />\n- And one idea I executed on as soon as I had it: <a href=\"/p/pacman-dungeon.html\">Pac-Man Dungeon</a><br />\n<br />\n"
    },
    {
         "title" : "Pac-Man Dungeon",
         "date_published" : "2020-11-24T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/pacman-dungeon.html",
         "url" : "https://memalign.github.io/p/pacman-dungeon.html",
         "image" : "https://memalign.github.io/m/pacman.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/pacman-dungeon.html'>Pac-Man Dungeon</a>\n</h2>\n</div>\n<img src=\"/m/pacman.jpg\">\n<div id='postdate'>Posted on 11/24/2020<br />\nTags: <a href='/tags.html'>Games</a>, <a href='/tags.html'>Programming</a>, <a href='/tags.html'>Interactive Fiction</a></div>\n\"You open your eyes and find yourself in dimly lit surroundings. You are shocked to find that your body has somehow become a smooth yellow sphere. You panic. Your giant wedge-shaped mouth gapes open as you gasp for air.\"<br />\n&nbsp;&nbsp;- <a href=\"/m/pacmandungeon/index.html\">Pac-Man Dungeon</a><br />\n<br />\nText adventure games have a special place in my heart. My first memorable run-in was with <a href=\"https://en.wikipedia.org/wiki/MUD\">MUDs</a>. A friend in my summer school World History class showed me how to telnet into a MUD server one day when we were goofing around in the computer lab (instead of working on our assignment).<br />\n<br />\nMany years passed and I eventually played through a game that was super fun and blew my mind, <a href=\"https://en.wikipedia.org/wiki/Emily_Short\">Emily Short</a>'s <a href=\"https://ifdb.tads.org/viewgame?id=aearuuxv83plclpl\">Counterfeit Monkey</a>. (Her blog is <a href=\"https://emshort.blog\">here</a>.) The game's word-manipulation puzzles opened my eyes to capabilities I didn't realize these games could have.<br />\n<br />\nOn iPhones, iPads, and other devices that spend most of their time without a hardware keyboard, text-based games can be hard to play. In the back of my mind, I've been noodling on how to make these games more touch-friendly.<br />\n<br />\nOne way to build a touch-friendly interactive story is to use a tool like <a href=\"https://twinery.org\">Twine</a>, which lets users perform actions by choosing from a set of choices/hyperlinks.<br />\n<br />\nText-based games can be fun programming projects (check out this previous post on <a href=\"/p/text-adventure.html\">How to Program a Text Adventure</a>). Instead of using Twine, I decided to make a tiny game engine in JavaScript that I could then use to accomplish my long-held goal of writing my own text-based game.<br />\n<br />\nI've been working on a <a href=\"/p/dungeon-memalign.html\">dungeon game</a> for a few months and it's coming along nicely. And then, a few days ago, I got one of my favorite things as a hobbyist programmer: a sudden and powerful urge to take a quick detour on a tangentially related programming project. Following these impulses and bursts of passion have led to some of my most productive coding sessions over the years.<br />\n<br />\nHere's what kicked it off this time (another instance of <a href=\"/p/rabbit-hole.html\">falling down the rabbit hole</a>):<br />\n<br />\n- I was already working on this game engine and its first game<br />\n&nbsp;&nbsp;- To be touch-friendly, all actions are listed as tappable-links<br />\n&nbsp;&nbsp;- To have some simple graphics, I use emoji. An idea I noted <a href=\"/p/emoji-conway.html\">previously</a>.<br />\n<br />\n- I saw an article about <a href=\"http://www.pactxt.com\">PacTxt</a> (\"Pac-Man meets Zork\")<br />\n&nbsp;&nbsp;- (In case that ever disappears, here's my <a href=\"/m/pactxt/index.html\">backup</a>)<br />\n&nbsp;&nbsp;- Use the \"debug\" command to see a map<br />\n<br />\n- I thought it was a really funny idea and it in turn reminded me of a <a href=\"https://www.smbc-comics.com/comic/2012-09-16\">comic</a> (<a href=\"/m/smbc-pacman.gif\">backup</a>) I saw many years ago that frames Pac-Man as hyper-detailed horror<br />\n<br />\n- I find the comic really creative, funny, and interesting. And while the core idea of PacTxt is amusing, the implementation is not fun to play (it's long, tedious, repetitive). I wondered if my own spin on this could combine the two into something more fun.<br />\n<br />\n- I opened a pixel art app (one I wrote for fun earlier in the year on another programming spurt) and I sketched out a <a href=\"/m/pacmandungeon/Resources/map.png\">dungeon map</a> for a Pac-Man level. The first maze I drew would be too big to be fun so I scoped it down to a mini version.<br />\n<br />\n- Then I created a new private git repo for this project (I always try to save my code in <a href=\"/p/source-control.html\">source control</a> -- who knows when it'll come in handy in the future!)<br />\n<br />\n- I copied over the relevant game engine files, started a <a href=\"/p/notes-txt.html\">notes.txt</a> journal for the project, and hacked it together<br />\n<br />\n- Even though this is a tiny tangential project, I ended up solving some problems I'll ultimately need to solve for the bigger dungeon game I'm working on: emoji weren't displaying correctly in Chrome, tweaks to the page layout, better sorting for game actions<br />\n<br />\n<br />\nYou can play my Pac-Man Dungeon game <a href=\"/m/pacmandungeon/index.html\">here</a>.<br />\n<br />\n<br />\nIt's silly, it was fun to make, maybe somebody else will find it amusing, and maybe this will help somebody else to fall down the rabbit hole and come up with more creative ideas.<br />\n<br />\nHere are some quick ideas to extend this:<br />\n- Support a full set of levels (and maybe even have the game glitch out on level 256, just like the original Pac-Man)<br />\n- Support all the different fruit<br />\n- Support larger levels<br />\n- Let the user input an ASCII map that they can then play<br />\n- Support all the different ghosts with their specific chase and scatter behaviors<br />\n- Let the user write code to inspect the game and control Pac-Man to create their own AI to play and win<br />\n<br />\n<br />\nOther notes:<br />\n<br />\n- The game source source code can be found <a href=\"https://github.com/memalign/memalign.github.io/tree/master/m/pacmandungeon\">here</a><br />\n- I wrote a simple <a href=\"https://github.com/memalign/memalign.github.io/blob/master/m/pacmandungeon/UnitTests.js\">unit test harness</a>. Run the tests <a href=\"/m/pacmandungeon/unitTests.html\">here</a>.<br />\n"
    },
    {
         "title" : "The Queen's Gambit",
         "date_published" : "2020-11-21T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/queens-gambit.html",
         "url" : "https://memalign.github.io/p/queens-gambit.html",
         "image" : "https://memalign.github.io/m/queensgambit.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/queens-gambit.html'>The Queen's Gambit</a>\n</h2>\n</div>\n<img src=\"/m/queensgambit.jpg\">\n<div id='postdate'>Posted on 11/21/2020<br />\nTags: <a href='/tags.html'>Leisure</a></div>\nI recently watched <a href=\"https://en.wikipedia.org/wiki/The_Queen%27s_Gambit_(miniseries)\">The Queen's Gambit</a>, a 7-episode miniseries on Netflix. It's based on a <a href=\"https://en.wikipedia.org/wiki/The_Queen%27s_Gambit_(novel)\">novel</a> that I haven't read.<br />\n<br />\nThe story drew me in and, though I originally planned to watch one episode per day, I ended up needing more and more. I watched one on Sunday, one on Monday, two on Tuesday, and the last three on Wednesday.<br />\n<br />\nAs <a href=\"/p/books.html\">often happens</a> when I finish a story, I was excited to see how it ended but I also felt a pensive sadness at the loss of characters I had grown to care for.<br />\n<br />\nI have some thoughts on the story below. If you haven't watched it yet, I recommend that you stop here and go experience it yourself! I hope you like it.<br />\n<br />\n.<br />\n.<br />\n.<br />\n<br />\n<img src=\"/m/bethharmon.jpg\"><br />\n.<br />\n.<br />\n.<br />\n<br />\nI kept thinking about the plot and characters, especially the main character, Beth Harmon. At first, I was a little disappointed that Beth had so many people helping her yet she had not been good or kind to them. They supported her because she was so brilliant that they wanted her to succeed. Part of their support and her success also came from being physically attractive and stylish. This happens in the real world, too, but it's not inspiring.<br />\n<br />\nI eventually found more inspiring takeaways:<br />\n<br />\n- Beth overcame her struggle with addiction thanks to people caring about her<br />\n- Beth found success by following her passions and developing her talents<br />\n- Beth's success required more than raw talent or learning on her own. Friendship and mentors made a huge difference.<br />\n- Beth was able to break free from the trouble in her past when she finally let herself face it directly. She had a breakthrough by realizing her troubles weren't the same as her biological mother's. She also needed to see that other people had cared for her and followed her story from the beginning.<br />\n<br />\nIn the end, the story resonates with me and the series is great entertainment.<br />\n"
    },
    {
         "title" : "Rebecca Meyer",
         "date_published" : "2020-11-04T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/rebecca-meyer.html",
         "url" : "https://memalign.github.io/p/rebecca-meyer.html",
         "image" : "https://memalign.github.io/m/meyerweb.png",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/rebecca-meyer.html'>Rebecca Meyer</a>\n</h2>\n</div>\n<img src=\"/m/meyerweb.png\">\n<div id='postdate'>Posted on 11/4/2020<br />\nTags: <a href='/tags.html'>Other</a></div>\nBrowsing interesting personal websites is often fun (as in <a href=\"/p/clamps.html\">clamps</a> and <a href=\"/p/coding-machines.html\">Coding Machines</a>). But sometimes it can break your heart.<br />\n<br />\nThat's the case with <a href=\"https://meyerweb.com/ui/about.html\">Eric Meyer</a>'s open grieving after losing a child. I found his website when I learned about <a href=\"https://meyerweb.com/eric/thoughts/2014/06/19/rebeccapurple/\">rebeccapurple</a>, a special color added to the CSS specification as a tribute to his daughter. As I read his family's experiences, I found myself crying and feeling an aching pain for these people I've never met.<br />\n<br />\nEric shared his experiences as they happened. You can find them <a href=\"https://meyerweb.com/eric/thoughts/category/personal/rebecca/?order=asc\">here</a>. His family's story is tragic and emotional and wonderfully written.<br />\n<br />\n(I normally try to keep a backup of external sites but I'm not grabbing one here. I want to be respectful of Eric and his family's potential future choices to remove their story.)<br />\n"
    },
    {
         "title" : "Coding Machines",
         "date_published" : "2020-11-03T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/coding-machines.html",
         "url" : "https://memalign.github.io/p/coding-machines.html",
         "image" : "https://memalign.github.io/m/coding-machines/coding_machines.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/coding-machines.html'>Coding Machines</a>\n</h2>\n</div>\n<img src=\"/m/coding-machines/coding_machines.jpg\">\n<div id='postdate'>Posted on 11/3/2020<br />\nTags: <a href='/tags.html'>Leisure</a></div>\nBack when I discovered the website about <a href=\"/p/clamps.html\">clamps</a>, I pored over that and similar personal websites (which sometimes linked me to even more interesting personal websites of their friends). I stumbled on a cool story about debugging, compilers, and viruses written by <a href=\"https://www.teamten.com/lawrence/\">Lawrence Kesteloot</a>.<br />\n<br />\nYou can check it out <a href=\"https://www.teamten.com/lawrence/writings/coding-machines/\">here</a>.<br />\n(My backup of the story is <a href=\"/m/coding-machines/index.html\">here</a>.)<br />\n"
    },
    {
         "title" : "Clamps",
         "date_published" : "2020-11-02T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/clamps.html",
         "url" : "https://memalign.github.io/p/clamps.html",
         "image" : "https://memalign.github.io/m/clamps/clamps.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/clamps.html'>Clamps</a>\n</h2>\n</div>\n<img src=\"/m/clamps/clamps.jpg\">\n<div id='postdate'>Posted on 11/2/2020<br />\nTags: <a href='/tags.html'>Leisure</a></div>\nMany years ago, I stumbled upon some cool personal websites made by software engineers back in the 1990s/early-2000s.<br />\n<br />\nI liked the websites because they shared interesting projects, essays, stories, and pictures. Some of them peppered in personality and humor unique to the author.<br />\n<br />\nIn a way, they inspired me to eventually make this website.<br />\n<br />\nA simple yet intruiging post was about clamps. You can find my backup of the page <a href=\"/m/clamps/index.html\">here</a>.<br />\n<br />\nIt's got some humor (including that poor Pillsbury doughboy) and it opened my eyes to how handy clamps can be around the home and office. (By the way, I also find binder clips and zip ties to be useful fasteners for quick projects/fixes!)<br />\n<br />\nThis is a glimpse into a more fun era of the web.<br />\n<br />\nThe author eventually took the website down and replaced it with a much more professional one. Normally I would give full attribution but since he removed all the content, I decided to scrub his full name and web address from this post and my backup of the page. I'm assuming he intentionally wants to have a less personal presence on the web. (Drew, if you want attribution or want me to remove this post, please let me know via GitHub.)<br />\n"
    },
    {
         "title" : "Emoji Simulator",
         "date_published" : "2020-10-31T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/emoji-conway.html",
         "url" : "https://memalign.github.io/p/emoji-conway.html",
         "image" : "https://memalign.github.io/m/glider.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/emoji-conway.html'>Emoji Simulator</a>\n</h2>\n</div>\n<img src=\"/m/glider.jpg\">\n<div id='postdate'>Posted on 10/31/2020<br />\nTags: <a href='/tags.html'>Games</a></div>\nThe other night, I was trying to fall asleep but I couldn't clear my thoughts. I tried to focus on counting sheep: üêë 1... üêë 2... but then I wondered whether there's something better for an engineer to count. I started thinking about <a href=\"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life\">Conway's Game of Life</a> and began counting gliders.<br />\n<br />\n<div id='code'> o<br />\n&nbsp;&nbsp;o<br />\nooo<br />\n<br />\n&nbsp;&nbsp;&nbsp;o o<br />\n&nbsp;&nbsp;&nbsp;&nbsp;oo<br />\n&nbsp;&nbsp;&nbsp;&nbsp;o<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o o<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oo<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oo<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oo<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ooo</div>\nInstead of calmly drifting to sleep, I kept <a href=\"/p/rabbit-hole.html\">falling down the rabbit hole</a>.<br />\n<br />\nI remembered a cool website for making simulators with rules:<br />\n- Conway's Game of Life: <a href=\"https://ncase.me/sim/?s=conway\">https://ncase.me/sim/?s=conway</a><br />\n- Other simulators: <a href=\"https://ncase.me/sim/\">https://ncase.me/sim/</a><br />\n<br />\n(The author explicitly shared the source code <a href=\"https://github.com/ncase/sim\">here</a>)<br />\n(And I made a backup <a href=\"/m/nicky-sim/?s=conway\">here</a>)<br />\n<br />\nI noodled on that for a while and was inspired by the use of emoji as simple UI elements. It's an easy way to spice up a program/website. I also like how they generalized the rules to make tons of different simulators possible.<br />\n<br />\n(Update: I made a <a href=\"/p/dungeon-memalign.html\">tiny dungeon game</a> using emoji)<br />\n<br />\nI wondered if other people would find this site cool too. To get the idea out of my head for the night, I wrote down a reminder to revisit it in the morning and consider posting about it here.<br />\n<br />\nAnd, somehow, I eventually fell asleep.<br />\n"
    },
    {
         "title" : "Universal Paperclips",
         "date_published" : "2020-09-13T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/universal-paperclips.html",
         "url" : "https://memalign.github.io/p/universal-paperclips.html",
         "image" : "https://memalign.github.io/m/universal-paperclips.png",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/universal-paperclips.html'>Universal Paperclips</a>\n</h2>\n</div>\n<img src=\"/m/universal-paperclips.png\">\n<div id='postdate'>Posted on 9/13/2020<br />\nTags: <a href='/tags.html'>Games</a>, <a href='/tags.html'>Programming</a></div>\n<a href=\"https://www.decisionproblem.com/paperclips/index2.html\">Universal Paperclips</a> (<a href=\"https://en.wikipedia.org/wiki/Universal_Paperclips\">wikipedia article</a>) is an <a href=\"https://en.wikipedia.org/wiki/Incremental_game\">incremental game</a> about an AI created to produce paperclips.<br />\n<br />\nWhen I first played it several years ago, I got sucked in for an entire day. Then I felt compelled to play it again the next day.<br />\n<br />\n<br />\nUniversal Paperclips drew me in for many reasons:<br />\n<br />\n- Its premise and user interface is simple. It's almost entirely text-based.<br />\n<br />\n- The game starts small and builds up levels of complexity, with the next goal being barely within reach<br />\n<br />\n- Optimizing ever-growing numbers of paperclips, dollars, and other resources is satisfying to my engineer-brain<br />\n<br />\n- AI as an existential threat to humanity is an interesting topic to explore<br />\n<br />\n<br />\nThe game popped up in one of my news feeds last week and I started to consider whether I could automate playing the whole game from beginning to end.<br />\n<br />\nBecause it's a web-based game, it's easy to inspect the UI and inject code. Just open your web browser's JavaScript console to paste in code.<br />\n<br />\nHere's how to scrape the number of paperclips:<br />\n<div id='code'>parseInt(document.getElementById(&quot;clips&quot;).textContent.replace(/,/g, &#039;&#039;))</div>\nThough it's possible to inspect the global variables that power the game, I mostly stuck to scraping the user interface even though it's messier. Example messiness: I needed to strip commas from the number of paperclips so \"1,000,000\" would turn into 1000000.<br />\n<br />\nThe project of automating playing the game mirrored playing the game itself. I incrementally refined my strategy and added complexity.<br />\n<br />\nTo automate playing the game:<br />\n<br />\n- I created an event loop which runs every 10ms<br />\n<br />\n- I aimed to maintain a minimal amount of my own state. Every cycle, my script inspects the UI to determine relevant actions to take. I only need to keep state to count the number of elapsed cycles and to monitor whether a few game attributes stopped changing. By keeping minimal state, I was able to easily update my code running on the page mid-game and it could always pick up at the right place.<br />\n<br />\n- I initially started by calling button handler methods directly. I found that the game doesn't always check whether the relevant button should have been enabled so I later started injecting clicks to the buttons themselves.<br />\n<br />\n<br />\nOpportunities for improvement:<br />\n<br />\n- The game sometimes glitches due to how quickly my event loop performs actions. It's possible to over-spend some resources which means my script is accidentally cheating. The script could be updated to perform actions more slowly (and one per cycle) or add its own resource checking to avoid over-spending.<br />\n<br />\n- My script is not playing with an optimal strategy to complete the game quickly. Though I based some of the strategy off of a speed run I found on <a href=\"https://www.youtube.com/watch?v=hDXoonknjS0\">YouTube</a>, there's a lot of opportunity to follow that strategy more closely.<br />\n<br />\n- I sprinkled some limits to prevent actions when they're not relevant (e.g. stop upgrading the investment engine after level 15). It would be helpful to document why these limits are needed. Some could be replaced with smarter logic.<br />\n<br />\n- Updating the script is time-consuming because a test cycle takes hours! Finding a way to reduce the test cycle to take less time than playing through the game in real-time could lead to a lot of other refinement.<br />\n<br />\n<br />\nHere's a script which successfully automatically plays Universal Paperclips from beginning to end:<br />\n<br />\n<div id='code'>// Open this page:<br />\n// https://www.decisionproblem.com/paperclips/index2.html<br />\n//<br />\n// Open JavaScript console and paste this code in<br />\n<br />\nvar dpCycles = 0<br />\n<br />\nfunction incrementCycles() {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;dpCycles++<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (dpCycles % 10000 == 0) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;dpCycles: &quot; + dpCycles)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n}<br />\n<br />\nvar lastUnsoldClips = 0<br />\nvar cyclesWithoutSellingClips = 0<br />\nvar cyclesSinceLastDeposit = 0<br />\nvar lastUnusedClipsCount = 0<br />\nvar cyclesWithoutUnusedClipsCountChange = 0<br />\nfunction performEventCycle() {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;incrementCycles()<br />\n&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Examine game state<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let clips = parseInt(document.getElementById(&quot;clips&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let unsoldClips = parseInt(document.getElementById(&quot;unsoldClips&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let funds = parseFloat(document.getElementById(&quot;funds&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let pricePerClip = parseFloat(document.getElementById(&quot;margin&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let wire = parseInt(document.getElementById(&quot;wire&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let wireCost = parseInt(document.getElementById(&quot;wireCost&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canBuyWire = !document.getElementById(&quot;btnBuyWire&quot;).disabled<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let marketingLevel = parseInt(document.getElementById(&quot;marketingLvl&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canIncreaseMarketingLevel = !document.getElementById(&quot;btnExpandMarketing&quot;).disabled<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let autoClippers = parseInt(document.getElementById(&quot;clipmakerLevel2&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canMakeAutoClipper = !document.getElementById(&quot;btnMakeClipper&quot;).disabled <br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let megaAutoClippers = parseInt(document.getElementById(&quot;megaClipperLevel&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canMakeMegaAutoClipper = !document.getElementById(&quot;btnMakeMegaClipper&quot;).disabled<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let processors = parseInt(document.getElementById(&quot;processors&quot;).textContent)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let memory = parseInt(document.getElementById(&quot;memory&quot;).textContent)<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let processorButton = document.getElementById(&quot;btnAddProc&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canAddProcessor = processorButton &amp;&amp; !processorButton.disabled<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let memoryButton = document.getElementById(&quot;btnAddMem&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canAddMemory = memoryButton &amp;&amp; !memoryButton.disabled<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let operations = parseInt(document.getElementById(&quot;operations&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let hasQuantumComputing = document.getElementById(&quot;qComputing&quot;).style.display != &quot;none&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let needsQuantumChip = document.getElementById(&quot;qCompDisplay&quot;).textContent == &quot;Need Photonic Chips&quot;<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let investmentLevel = parseInt(document.getElementById(&quot;investmentLevel&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canInvest = document.getElementById(&quot;investmentEngine&quot;).style.display != &quot;none&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let investmentTotal = parseInt(document.getElementById(&quot;portValue&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;var quantumChipValues = []<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (hasQuantumComputing) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (var i = 0; i &lt; 10; i++) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quantumChipValues.push(document.getElementById(&quot;qChip&quot;+i).style.opacity)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (lastUnsoldClips &lt; unsoldClips) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cyclesWithoutSellingClips++<br />\n&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cyclesWithoutSellingClips = 0<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;lastUnsoldClips = unsoldClips<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Available research projects<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let projButton_creativity = document.getElementById(&quot;projectButton3&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let projAvail_creativity = projButton_creativity &amp;&amp; !projButton_creativity.disabled<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_creativity = function() { projButton_creativity.click() }<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let businessButtonIDs = [&quot;projectButton7&quot;, &quot;projectButton26&quot;]<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let trustProjectButtonIDs = [&quot;projectButton6&quot;, &quot;projectButton13&quot;, &quot;projectButton14&quot;, &quot;projectButton15&quot;, &quot;projectButton17&quot;, &quot;projectButton19&quot;]<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let quantumProjectButtonIDs = [&quot;projectButton50&quot;, &quot;projectButton51&quot;]<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let postQuantumProjectButtonIDs = [&quot;projectButton1&quot;, &quot;projectButton4&quot;, &quot;projectButton5&quot;, &quot;projectButton8&quot;, &quot;projectButton9&quot;, &quot;projectButton10&quot;, &quot;projectButton10b&quot;, &quot;projectButton11&quot;, &quot;projectButton12&quot;, &quot;projectButton16&quot;, &quot;projectButton18&quot;, &quot;projectButton20&quot;, &quot;projectButton21&quot;, &quot;projectButton22&quot;, &quot;projectButton23&quot;, &quot;projectButton24&quot;, &quot;projectButton25&quot;, &quot;projectButton27&quot;, &quot;projectButton28&quot;, &quot;projectButton29&quot;, &quot;projectButton30&quot;, &quot;projectButton31&quot;, &quot;projectButton34&quot;, &quot;projectButton35&quot;, &quot;projectButton41&quot;, &quot;projectButton43&quot;, &quot;projectButton44&quot;, &quot;projectButton45&quot;, &quot;projectButton46&quot;, &quot;projectButton60&quot;, &quot;projectButton61&quot;, &quot;projectButton62&quot;, &quot;projectButton63&quot;, &quot;projectButton64&quot;, &quot;projectButton65&quot;, &quot;projectButton66&quot;, &quot;projectButton70&quot;, &quot;projectButton100&quot;, &quot;projectButton101&quot;, &quot;projectButton102&quot;, &quot;projectButton110&quot;, &quot;projectButton111&quot;, &quot;projectButton112&quot;, &quot;projectButton118&quot;, &quot;projectButton119&quot;, &quot;projectButton120&quot;, &quot;projectButton121&quot;, &quot;projectButton125&quot;, &quot;projectButton126&quot;, &quot;projectButton127&quot;, &quot;projectButton128&quot;, &quot;projectButton129&quot;, &quot;projectButton130&quot;, &quot;projectButton131&quot;, &quot;projectButton132&quot;, &quot;projectButton133&quot;, &quot;projectButton134&quot;, &quot;projectButton218&quot;]<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// comment out projectButton148 (Reject Drift&#039;s offer to Start Over in a New Universe) to try the alternate ending<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let endGameProjectButtonIDs = [ &quot;projectButton140&quot;, &quot;projectButton141&quot;, &quot;projectButton142&quot;, &quot;projectButton143&quot;, &quot;projectButton144&quot;, &quot;projectButton145&quot;, &quot;projectButton146&quot;, &quot;projectButton148&quot;, &quot;projectButton210&quot;, &quot;projectButton211&quot;, &quot;projectButton212&quot;, &quot;projectButton213&quot;, &quot;projectButton214&quot;, &quot;projectButton215&quot;, &quot;projectButton216&quot; ]<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let moneyProjectButtonIDs = [&quot;projectButton37&quot;, &quot;projectButton38&quot;, &quot;projectButton40&quot;, &quot;projectButton40b&quot;]<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Button handler functions<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_makePaperclip = function() { clipClick(1) }<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_increaseMarketing = buyAds<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_buyWire = buyWire<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_makeAutoClipper = makeClipper<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_makeMegaAutoClipper = makeMegaClipper<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_raisePrice = raisePrice<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_lowerPrice = lowerPrice<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_addProcessor = addProc<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_addMemory = addMem<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_quantumCompute = qComp<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_deposit = investDeposit<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_withdraw = investWithdraw<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// =========================<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Choose actions to perform<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// =========================<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;handler_makePaperclip()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (wireCost &lt; 19 &amp;&amp; canBuyWire) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_buyWire()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// If we&#039;re not selling any paperclips, reduce cost<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if ((clips &lt; 10000 &amp;&amp; pricePerClip &gt; 0.03) ||<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(cyclesWithoutSellingClips &gt; 20 &amp;&amp; pricePerClip &gt; 0.03) ||<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(unsoldClips &gt; 10000000 &amp;&amp; pricePerClip &gt; 0.01)) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_lowerPrice()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cyclesWithoutSellingClips = 0<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// In middle-game, if we&#039;re selling out fast, increase cost<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (clips &gt; 500000 &amp;&amp; unsoldClips &lt; 1000 &amp;&amp; pricePerClip &lt; 8.00) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_raisePrice()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Autoclippers<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (clips &gt; 1000000 &amp;&amp; wire &gt; 0 &amp;&amp; canMakeAutoClipper &amp;&amp; autoClippers &lt; 75) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_makeAutoClipper()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if ((clips &gt; 1000000 &amp;&amp; wire &gt; 0 &amp;&amp; canMakeMegaAutoClipper &amp;&amp; megaAutoClippers &lt; 70) ||<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(clips &gt; 100000000 &amp;&amp; wire &gt; 0 &amp;&amp; canMakeMegaAutoClipper &amp;&amp; megaAutoClippers &lt; 90) ||<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(clips &gt; 20000000000 &amp;&amp; wire &gt; 0 &amp;&amp; canMakeMegaAutoClipper &amp;&amp; megaAutoClippers &lt; 120)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_makeMegaAutoClipper()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Marketing<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (canIncreaseMarketingLevel &amp;&amp; marketingLevel &lt; 14) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_increaseMarketing()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Quantum Computing<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (hasQuantumComputing) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var canCompute = true<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (let qVal of quantumChipValues) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (qVal &lt; 0) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canCompute = false<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (canCompute) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_quantumCompute()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Research projects<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (projAvail_creativity) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_creativity()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;for (let trustButtonID of trustProjectButtonIDs) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let trustButton = document.getElementById(trustButtonID)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (trustButton &amp;&amp; !trustButton.disabled &amp;&amp; trustButton.style.visibility == &quot;visible&quot;) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trustButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;for (let businessButtonID of businessButtonIDs) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let businessButton = document.getElementById(businessButtonID)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (businessButton &amp;&amp; !businessButton.disabled &amp;&amp; businessButton.style.visibility == &quot;visible&quot;) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;for (let buttonID of quantumProjectButtonIDs) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let button = document.getElementById(buttonID)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (button &amp;&amp; !button.disabled &amp;&amp; button.style.visibility == &quot;visible&quot;) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;button.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (operations &gt; 0) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (hasQuantumComputing &amp;&amp; !needsQuantumChip) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (let buttonID of postQuantumProjectButtonIDs) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let button = document.getElementById(buttonID)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (button &amp;&amp; !button.disabled &amp;&amp; button.style.visibility == &quot;visible&quot;) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;button.click()<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Act on only one at a time; the game appears to let you overspend with fast clicks<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;for (let buttonID of endGameProjectButtonIDs) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let button = document.getElementById(buttonID)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (button &amp;&amp; !button.disabled &amp;&amp; button.style.visibility == &quot;visible&quot;) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;button.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Strategic Modeling<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let newTournamentButton = document.getElementById(&quot;btnNewTournament&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let runTournamentButton = document.getElementById(&quot;btnRunTournament&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let hasAutoTourney = document.getElementById(&quot;autoTourneyControl&quot;).style.display != &quot;none&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_newTournament = newTourney<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_runTournament = runTourney<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (operations &gt; 50000 &amp;&amp; newTournamentButton &amp;&amp; !newTournamentButton.disabled &amp;&amp; !hasAutoTourney) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_newTournament()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let stratPickerElement = document.getElementById(&quot;stratPicker&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let hasBeatLastStrategy = Array.apply(null, document.getElementById(&quot;stratPicker&quot;).options).map(x =&gt; x.value).includes(&quot;7&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (hasBeatLastStrategy) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stratPickerElement.value = 7 // BEAT LAST<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stratPickerElement.value = 0 // RANDOM<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (runTournamentButton &amp;&amp; !runTournamentButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_runTournament()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Investments<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Perform these upgrades after handling research projects to avoid starving them<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let upgradeInvestmentEngineButton = document.getElementById(&quot;btnImproveInvestments&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_upgradeInvestmentEngine = function() { upgradeInvestmentEngineButton.click() }<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (investmentLevel &lt; 15 &amp;&amp; upgradeInvestmentEngineButton &amp;&amp; !upgradeInvestmentEngineButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_upgradeInvestmentEngine()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (investmentLevel &gt; 5 &amp;&amp; unsoldClips &gt; 10000000 &amp;&amp; funds &gt; 20000 &amp;&amp; cyclesSinceLastDeposit &gt; 50000) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById(&quot;investStrat&quot;).value = &quot;hi&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_deposit()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cyclesSinceLastDeposit = 0<br />\n&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cyclesSinceLastDeposit++<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Money projects (e.g. Hostile Takeover)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Check whether they are visible moneyProjectButtonIDs; check money in stock market; if &gt; 15M; withdraw and perform project<br />\n&nbsp;&nbsp;&nbsp;&nbsp;for (let moneyButtonID of moneyProjectButtonIDs) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let button = document.getElementById(moneyButtonID)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let buttonIsVisible = button &amp;&amp; button.style.visibility == &quot;visible&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let buttonIsDisabled = button &amp;&amp; button.disabled<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (buttonIsVisible) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (buttonIsDisabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (investmentTotal &gt; 15000000) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_withdraw()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Button may have become enabled; check the button directly<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!button.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;button.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Drone and Solar Farm phase<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let factoryCount = parseInt(document.getElementById(&quot;factoryLevelDisplay&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canMakeFactory = !document.getElementById(&quot;btnMakeFactory&quot;).disabled<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let harvesterDroneCount = parseInt(document.getElementById(&quot;harvesterLevelDisplay&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canMakeHarvesterDrone = !document.getElementById(&quot;btnMakeHarvester&quot;).disabled<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canMakeHarvesterDrone1k = !document.getElementById(&quot;btnHarvesterx1000&quot;).disabled<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let wireDroneCount = parseInt(document.getElementById(&quot;wireDroneLevelDisplay&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canMakeWireDrone = !document.getElementById(&quot;btnMakeWireDrone&quot;).disabled<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canMakeWireDrone1k = !document.getElementById(&quot;btnWireDronex1000&quot;).disabled<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let solarFarmCount = parseInt(document.getElementById(&quot;farmLevel&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canMakeSolarFarm = !document.getElementById(&quot;btnMakeFarm&quot;).disabled<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let batteryTowerCount = parseInt(document.getElementById(&quot;batteryLevel&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let canMakeBatteryTower = !document.getElementById(&quot;btnMakeBattery&quot;).disabled<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let hasAvailableMatter = parseFloat(document.getElementById(&quot;availableMatterDisplay&quot;).textContent.replace(/,/g, &#039;&#039;)) &gt; 0<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let hasAcquiredMatter = parseFloat(document.getElementById(&quot;acquiredMatterDisplay&quot;).textContent.replace(/,/g, &#039;&#039;)) &gt; 0<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let hasWire = parseFloat(document.getElementById(&quot;nanoWire&quot;).textContent.replace(/,/g, &#039;&#039;)) &gt; 0<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// We can end up stuck with a small amount of clips that we can&#039;t spend (e.g. 528.1 thousand)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let unusedClipsCount = parseFloat(document.getElementById(&quot;unusedClipsDisplay&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (unusedClipsCount == lastUnusedClipsCount) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cyclesWithoutUnusedClipsCountChange++<br />\n&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cyclesWithoutUnusedClipsCountChange = 0<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lastUnusedClipsCount = unusedClipsCount<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let hasUnusedClips = unusedClipsCount &gt; 0 &amp;&amp; (cyclesWithoutUnusedClipsCountChange &lt; 1000)<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let projButton_selfCorrectingSupplyChain = document.getElementById(&quot;projectButton102&quot;) <br />\n&nbsp;&nbsp;&nbsp;&nbsp;let selfCorrectingSupplyChainVisible = projButton_selfCorrectingSupplyChain &amp;&amp; projButton_selfCorrectingSupplyChain.style.visibility == &quot;visible&quot;<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_makeFactory = makeFactory<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_makeHarvesterDrone = function() { makeHarvester(1) }<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_makeHarvesterDrone1k = function() { makeHarvester(1000) }<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_makeWireDrone = function() { makeWireDrone(1) }<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_makeWireDrone1k = function() { makeWireDrone(1000) }<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_makeSolarFarm = function() { makeFarm(1) }<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let handler_makeBatteryTower = function() { makeBattery(1) }<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (factoryCount &gt;= 59 &amp;&amp; solarFarmCount &gt; 3538 &amp;&amp; selfCorrectingSupplyChainVisible) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Pause consuming clips so we can activate selfCorrectingSupplyChain<br />\n&nbsp;&nbsp;&nbsp;&nbsp;} else if (hasAvailableMatter || hasAcquiredMatter) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Based on a speed run: https://www.youtube.com/watch?v=hDXoonknjS0<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Values to achieve:<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// [factory, harvester, wire, farm, battery]<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let milestones = [<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1, 30, 30, 11, 1],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[6, 170, 180, 34, 11],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[6, 320, 370, 49, 11],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[8, 400, 490, 60, 21],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[9, 510, 610, 68, 21],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[10, 1000, 1400, 168, 21],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[15, 2000, 2800, 248, 121],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[20, 2500, 3300, 308, 121],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[50, 5500, 6600, 600, 121],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[57, 35500, 36000, 2208, 121],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[70, 77000, 77000, 5508, 1221],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[80, 87000, 87000, 7508, 1221],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[198, 377000, 404000, 29508, 1221],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[211, 1121000, 1133000, 50308, 1221],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1000, 1133000, 1135000, 50308, 1221],<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let currVals = [factoryCount, harvesterDroneCount, wireDroneCount, solarFarmCount, batteryTowerCount]<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (let milestone of milestones) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var done = false<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (let i = 0; i &lt; currVals.length; i++) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let delta = milestone[i] - currVals[i]<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (delta &gt; 0) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (i == 0 &amp;&amp; canMakeFactory) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_makeFactory()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if (i == 1 &amp;&amp; canMakeHarvesterDrone) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (hasAvailableMatter) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (canMakeHarvesterDrone1k &amp;&amp; delta &gt;= 1000) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_makeHarvesterDrone1k()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_makeHarvesterDrone()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if (i == 2 &amp;&amp; canMakeWireDrone) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (hasAcquiredMatter) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (canMakeWireDrone1k &amp;&amp; delta &gt;= 1000) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_makeWireDrone1k()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_makeWireDrone()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if (i == 3 &amp;&amp; canMakeSolarFarm) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_makeSolarFarm()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if (i == 4 &amp;&amp; canMakeBatteryTower) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_makeBatteryTower()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Don&#039;t break so we can increment evenly across the types that need it<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;done = true<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (done) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let hasSpaceExploration = document.getElementById(&quot;spaceDiv&quot;).style.display != &quot;none&quot;<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Swarm computing<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let hasSwarmComputing = document.getElementById(&quot;swarmEngine&quot;).style.display != &quot;none&quot;<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (hasSwarmComputing) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let totalDroneCount = harvesterDroneCount + wireDroneCount<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let swarmComputingSlider = document.getElementById(&quot;slider&quot;)<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var sliderValue = 0 // range is 0 to 200<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (hasSpaceExploration) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sliderValue = processors &gt; 1400 ? 0 : 150<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Heuristic for when we&#039;re still on Earth (prior to space exploration)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!hasAvailableMatter &amp;&amp; !hasAcquiredMatter) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sliderValue = 200<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if (processors &gt; 160) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sliderValue = 0<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if (totalDroneCount &gt; 1000) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sliderValue = 150<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if (totalDroneCount &gt; 700) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sliderValue = 100<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;swarmComputingSlider.value = sliderValue<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let entertainSwarmButton = document.getElementById(&quot;btnEntertainSwarm&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let swarmIsBored = document.getElementById(&quot;swarmStatus&quot;).textContent == &quot;Bored&quot;<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let synchronizeSwarmButton = document.getElementById(&quot;btnSynchSwarm&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let swarmIsDisorganized = document.getElementById(&quot;swarmStatus&quot;).textContent == &quot;Disorganized&quot;<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (entertainSwarmButton &amp;&amp; !entertainSwarmButton.disabled &amp;&amp; swarmIsBored) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entertainSwarmButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if (synchronizeSwarmButton &amp;&amp; !synchronizeSwarmButton.disabled &amp;&amp; swarmIsDisorganized) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;synchronizeSwarmButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Reclaim clips from factories and drones<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (hasSwarmComputing &amp;&amp; !hasSpaceExploration &amp;&amp; !hasAvailableMatter &amp;&amp; !hasAcquiredMatter &amp;&amp; wire == 0) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let handler_disassembleFactories = factoryReboot<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let handler_disassembleHarvesterDrones = harvesterReboot<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let handler_disassembleWireDrones = wireDroneReboot<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (factoryCount &gt; 0) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_disassembleFactories()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (harvesterDroneCount &gt; 0) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_disassembleHarvesterDrones()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (wireDroneCount &gt; 0) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_disassembleWireDrones()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Space Exploration and Probes<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (hasSpaceExploration) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let probesLaunched = parseInt(document.getElementById(&quot;probesLaunchedDisplay&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let probeSpeed = parseInt(document.getElementById(&quot;probeSpeedDisplay&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let probeExploration = parseInt(document.getElementById(&quot;probeNavDisplay&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let probeReplication = parseInt(document.getElementById(&quot;probeRepDisplay&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let probeHazardRemediation = parseInt(document.getElementById(&quot;probeHazDisplay&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let probeFactoryProduction = parseInt(document.getElementById(&quot;probeFacDisplay&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let probeHarvesterDroneProduction = parseInt(document.getElementById(&quot;probeHarvDisplay&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let probeWireDroneProduction = parseInt(document.getElementById(&quot;probeWireDisplay&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let increaseProbeTrustButton = document.getElementById(&quot;btnIncreaseProbeTrust&quot;) <br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!increaseProbeTrustButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increaseProbeTrustButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let increaseProbeMaxTrustButton = document.getElementById(&quot;btnIncreaseMaxTrust&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!increaseProbeMaxTrustButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increaseProbeMaxTrustButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Don&#039;t launch any probes until we have enough hazard remediation and replication for them to survive<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let launchProbeButton = document.getElementById(&quot;btnMakeProbe&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!launchProbeButton.disabled &amp;&amp; probesLaunched &lt; 11000 &amp;&amp; probeHazardRemediation &gt;= 5 &amp;&amp; probeReplication &gt;= 7) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;launchProbeButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let needsToExplore = !hasAcquiredMatter &amp;&amp; !hasUnusedClips &amp;&amp; !hasWire<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let lowerSpeedButton = document.getElementById(&quot;btnLowerProbeSpeed&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let raiseSpeedButton = document.getElementById(&quot;btnRaiseProbeSpeed&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let lowerExplorationButton = document.getElementById(&quot;btnLowerProbeNav&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let raiseExplorationButton = document.getElementById(&quot;btnRaiseProbeNav&quot;)<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let lowerReplicationButton = document.getElementById(&quot;btnLowerProbeRep&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let raiseReplicationButton = document.getElementById(&quot;btnRaiseProbeRep&quot;)<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// When we need to gather more matter, take from replication to explore with speed<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (needsToExplore) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let needsSpeed = probeSpeed &lt; 1<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let needsExploration = probeExploration &lt; 1<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (needsSpeed) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (raiseSpeedButton.disabled &amp;&amp; !lowerReplicationButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lowerReplicationButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!raiseSpeedButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;raiseSpeedButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (needsExploration) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (raiseExplorationButton.disabled &amp;&amp; !lowerReplicationButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lowerReplicationButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!raiseExplorationButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;raiseExplorationButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// reduce exploration and speed so it goes back to replication<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!lowerExplorationButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lowerExplorationButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!lowerSpeedButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lowerSpeedButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// If we&#039;re not exploring, divide our time between different responsibilities:<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// each dpCycle is 1ms, 1000 in a second, 10000 in 10 seconds;  if dpCycles/10 % 10000:<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!needsToExplore) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let timeSlice = Math.floor(dpCycles/10) % 10000<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let buttonToProduce = null<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (timeSlice &lt; 10 &amp;&amp; probeFactoryProduction &lt; 1) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Produce factories<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonToProduce = document.getElementById(&quot;btnRaiseProbeFac&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if (timeSlice &gt;= 10 &amp;&amp; timeSlice &lt; 2010 &amp;&amp; probeWireDroneProduction &lt; 1) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Produce wire drones<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonToProduce = document.getElementById(&quot;btnRaiseProbeWire&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if (timeSlice &gt;= 2010 &amp;&amp; timeSlice &lt; 4010 &amp;&amp; probeHarvesterDroneProduction &lt; 1) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Produce harvester drones<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonToProduce = document.getElementById(&quot;btnRaiseProbeHarv&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (buttonToProduce) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (buttonToProduce.disabled &amp;&amp; !lowerReplicationButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lowerReplicationButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!buttonToProduce.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonToProduce.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Lower relevant buttons to reclaim the probe trust for replication<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let lowerButtonIDs = [&quot;btnLowerProbeFac&quot;, &quot;btnLowerProbeWire&quot;, &quot;btnLowerProbeHarv&quot;]<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (let lowerButtonID of lowerButtonIDs) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let lowerButton = document.getElementById(lowerButtonID)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!lowerButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lowerButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let hasProbeCombat = document.getElementById(&quot;combatButtonDiv&quot;).style.display != &quot;none&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (hasProbeCombat) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let probeCombat = parseInt(document.getElementById(&quot;probeCombatDisplay&quot;).textContent.replace(/,/g, &#039;&#039;))<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let probeCountText = document.getElementById(&quot;probesTotalDisplay&quot;).textContent // &quot;2.2 billion &quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let drifterCountText = document.getElementById(&quot;drifterCount&quot;).textContent<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let numProbes = parseFloat(probeCountText)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let numDrifters = parseFloat(drifterCountText)<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let probeOrderOfMagnitudeStr = probeCountText.replace(/[\\d\\s\\.]+/, &#039;&#039;).trim()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let drifterOrderOfMagnitudeStr = drifterCountText.replace(/[\\d\\s\\.]+/, &#039;&#039;).trim()<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let needsToBattle = (probeOrderOfMagnitudeStr == drifterOrderOfMagnitudeStr) || numDrifters &gt; 10<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let combatRaiseButton = document.getElementById(&quot;btnRaiseProbeCombat&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let combatLowerButton = document.getElementById(&quot;btnLowerProbeCombat&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (needsToBattle) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (probeCombat &lt; 6) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (combatRaiseButton.disabled &amp;&amp; !lowerReplicationButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lowerReplicationButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!combatRaiseButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combatRaiseButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Reduce combat to reclaim probe trust for replication<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!combatLowerButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combatLowerButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let raiseHazardRemediationButton = document.getElementById(&quot;btnRaiseProbeHaz&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (probeHazardRemediation &lt; 5 &amp;&amp; !raiseHazardRemediationButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;raiseHazardRemediationButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else if (!raiseReplicationButton.disabled) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Spend any remaining probe trust on replication<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;raiseReplicationButton.click()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Computational resources<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Some research projects consume trust. Update computational resources after research projects to avoid starving research.<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (canAddProcessor &amp;&amp; processors &lt; 6) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_addProcessor()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;} else if (canAddMemory &amp;&amp; memory &lt; 46) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_addMemory()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;} else if (canAddProcessor &amp;&amp; processors &lt; 25) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_addProcessor()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;} else if (canAddMemory &amp;&amp; memory &lt; 95) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_addMemory()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;} else if (canAddProcessor &amp;&amp; processors &lt; 113) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_addProcessor()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;} else if (canAddMemory &amp;&amp; memory &lt; 146) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_addMemory()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;} else if (canAddProcessor &amp;&amp; processors &lt; 1102) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_addProcessor()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;} else if (canAddMemory &amp;&amp; memory &lt; 503) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_addMemory()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;} else if (canAddProcessor) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler_addProcessor()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n}<br />\n<br />\nfunction runEventLoop() {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;setTimeout(function() {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;performEventCycle()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!pauseAI) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runEventLoop()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}, 1)<br />\n}<br />\n<br />\nvar pauseAI = 0<br />\nrunEventLoop()</div>"
    },
    {
         "title" : "Fall Down the Rabbit Hole",
         "date_published" : "2020-05-15T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/rabbit-hole.html",
         "url" : "https://memalign.github.io/p/rabbit-hole.html",
         "image" : "https://memalign.github.io/m/whiterabbit.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/rabbit-hole.html'>Fall Down the Rabbit Hole</a>\n</h2>\n</div>\n<img src=\"/m/whiterabbit.jpg\">\n<div id='postdate'>Posted on 5/15/2020<br />\nTags: <a href='/tags.html'>Leisure</a></div>\nI enjoy following my interests and making connections that take me on tangents. This is a hobby that's supercharged by the internet.<br />\n<br />\n<br />\nA recent example:<br />\n<br />\nI was in the mood to read a good book so I asked my coworkers for recommendations. While reading the most enticing one, I had the idea to write about <a href=\"/p/books.html\">notable books I've read</a>. While I wrote that, I did a little research into those books on Wikipedia and I discovered that, after Douglas Adams died, a concluding Hitchhiker's Guide book was published that I hadn't heard about. I read <a href=\"https://en.wikipedia.org/wiki/And_Another_Thing..._(novel)\">that book</a> next. I refreshed my memory on his other work and saw that there was a 2016 TV series for <a href=\"https://www.imdb.com/title/tt4047038/\">Dirk Gently's Holistic Detective Agency</a>. I watched the first episode and liked it so I binged its two seasons over the following days. I haven't read the original Dirk Gently books (and my impression is that the TV series is only loosely based on them) so I'm going to read those next. Who knows where those will take me!<br />\n<br />\n<br />\nA similar activity that can also be fun is to realize, deep into a conversation with people, that a chain of tangentially connected ideas led you to the current topic. Then you can work backwards together to figure out how you got there.<br />\n<br />\nFor example:<br />\n<br />\n- What the heck led us to talking about Trader Joe's Everything but the Bagel Sesame Seasoning?<br />\n<br />\n- We were talking about having avocado toast and that seasoning goes great on it<br />\n<br />\n- Before that, we were talking about how your neighbor has an avocado tree<br />\n<br />\n- Before that, we were talking about fruit trees<br />\n<br />\n- Before that, we were talking about how Silicon Valley was largely covered in orchards before the tech boom. It was called the <a href=\"https://en.wikipedia.org/wiki/Santa_Clara_Valley\">Valley of Heart's Delight</a>.<br />\n<br />\n- Before that, I mentioned how the first thing I noticed when I landed in the Bay Area for my first job interview is that it wasn't a frozen wasteland like upstate New York where I had just departed. The second thing I noticed is how many iconic tech companies I saw while driving down 101 from SFO to the South Bay.<br />\n<br />\n- Before that, we were fake complaining about the lack of seasons in the Bay Area... because none of us actually miss winter<br />\n<br />\n- Before that, we were talking about how time is blurring together while we're all sheltering in place<br />\n<br />\n- And now we're back to the beginning of our FaceTime call when I asked how you're doing in these crazy times<br />\n"
    },
    {
         "title" : "Live COVID-19 Dashboard",
         "date_published" : "2020-05-09T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/live-covid19.html",
         "url" : "https://memalign.github.io/p/live-covid19.html",
         "image" : "https://memalign.github.io/m/graph-js.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/live-covid19.html'>Live COVID-19 Dashboard</a>\n</h2>\n</div>\n<img src=\"/m/graph-js.jpg\">\n<div id='postdate'>Posted on 5/9/2020<br />\nTags: <a href='/tags.html'>Programming</a></div>\nAs a followup to <a href=\"/p/graph-js.html\">graphing in Scriptable</a>, I took some time to convert the script into a live web dashboard.<br />\n<br />\nYou can find the live dashboard <a href=\"/m/graph-js/covid19.html?maxStates=24\">here</a>.<br />\n<br />\n<br />\nThe main ways the code needed to change:<br />\n<br />\n- Instead of loading data synchronously, it is now loaded asynchronously via XMLHttpRequest<br />\n<br />\n- The document body is constructed dynamically once data loads (instead of being generated and then loaded into a web view in its complete form)<br />\n<br />\n- canvasJS requires divs to be set up before charts are created. I needed to move div setup to happen inline instead of at the end of the script.<br />\n<br />\n- Instead of generating JavaScript in string form to setup the charts, I set them up directly<br />\n<br />\n&nbsp;&nbsp;Code like this:<br />\n<div id='code'>var result = &quot;&quot;<br />\n...<br />\nresult += &quot;{ x: new Date(&quot;+year+&quot;,&quot;+(month-1)+&quot;,&quot;+day+&quot;), y: &quot; + value + &quot; },\\n&quot;<br />\n...<br />\nreturn result</div>\n&nbsp;&nbsp;Became this:<br />\n<div id='code'>var result = []<br />\n...<br />\nresult.push({ x: new Date(year, month-1, day), y: value })<br />\n...<br />\nreturn result</div>\n- I limit the number of total charts because the full page was consuming too much memory which caused canvasJS to render completely blank charts, charts where some lines were missing, etc.<br />\n<br />\n- I also fixed a bug so lines can be hidden by clicking them in the legend<br />\n"
    },
    {
         "title" : "Create COVID-19 Graphs Using JavaScript",
         "date_published" : "2020-05-08T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/graph-js.html",
         "url" : "https://memalign.github.io/p/graph-js.html",
         "image" : "https://memalign.github.io/m/graph-js.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/graph-js.html'>Create COVID-19 Graphs Using JavaScript</a>\n</h2>\n</div>\n<img src=\"/m/graph-js.jpg\">\n<div id='postdate'>Posted on 5/8/2020<br />\nTags: <a href='/tags.html'>Programming</a></div>\nCOVID-19 has loomed over us for many months. For weeks, I watched the spread using graphs on <a href=\"https://www.politico.com/interactives/2020/coronavirus-testing-by-state-chart-of-new-cases/\">politico.com</a>.<br />\n<br />\n<img src=\"/m/politico-covid19.jpg\"><br />\n<br />\nA few days went by without updates so I investigated recreating the graphs myself. Here‚Äôs my process:<br />\n<br />\n1. I noticed that the website links to its data source. Fortunately, it comes from an open website with a convenient API: <a href=\"https://covidtracking.com/api\">https://covidtracking.com/api</a><br />\n<br />\n2. I knew I could use the <a href=\"https://apps.apple.com/us/app/scriptable/id1405459188\">Scriptable app</a> on iOS to write some JavaScript to process and transform the data<br />\n<br />\n3. Scriptable can draw some native UI but it‚Äôs often too limited. Instead, I chose to generate some HTML it can display in a web view.<br />\n<br />\n4. I did some quick searches for simple ways to graph data on web pages. When I <a href=\"https://www.google.com/search?q=graph+data+html\">searched</a>, one of the top hits was <a href=\"https://canvasjs.com\">canvasJS</a>.<br />\n<br />\n5. I found a <a href=\"https://canvasjs.com/javascript-charts/null-data-chart/\">sample</a> graph that looked similar to what I needed<br />\n<br />\n6. To quickly check that this would work, I created a script in Scriptable to generate the HTML and show a web view, pasting in their example:<br />\n<br />\n<div id='code'>let html = `<br />\n&lt;!DOCTYPE html&gt;<br />\n&lt;html&gt;<br />\n&lt;head&gt;<br />\n&lt;script&gt;<br />\nwindow.onload = function() {<br />\n<br />\nvar chart = new CanvasJS.Chart(&quot;chartContainer&quot;, {<br />\n\tanimationEnabled: true,<br />\n\ttitle: {<br />\n\t\ttext: &quot;Hourly Average CPU Utilization&quot;<br />\n\t},<br />\n\taxisX: {<br />\n\t\ttitle: &quot;Time&quot;<br />\n\t},<br />\n\taxisY: {<br />\n\t\ttitle: &quot;Percentage&quot;,<br />\n\t\tsuffix: &quot;%&quot;<br />\n\t},<br />\n\tdata: [{<br />\n\t\ttype: &quot;line&quot;,<br />\n\t\tname: &quot;CPU Utilization&quot;,<br />\n\t\tconnectNullData: true,<br />\n\t\t//nullDataLineDashType: &quot;solid&quot;,<br />\n\t\txValueType: &quot;dateTime&quot;,<br />\n\t\txValueFormatString: &quot;DD MMM hh:mm TT&quot;,<br />\n\t\tyValueFormatString: &quot;#,##0.##\\&quot;%\\&quot;&quot;,<br />\n\t\tdataPoints: [<br />\n\t\t\t{ x: 1501102673000, y: 22.836 },<br />\n\t\t\t{ x: 1501106273000, y: 23.220 },<br />\n\t\t\t{ x: 1501109873000, y: 23.594 },<br />\n\t\t\t{ x: 1501113473000, y: 24.596 },<br />\n\t\t\t{ x: 1501117073000, y: 31.947 },<br />\n\t\t\t{ x: 1501120673000, y: 31.142 }<br />\n\t\t]<br />\n\t}]<br />\n});<br />\nchart.render();<br />\n<br />\n}<br />\n&lt;/script&gt;<br />\n&lt;/head&gt;<br />\n&lt;body&gt;<br />\n&lt;div id=&quot;chartContainer&quot; style=&quot;height: 300px; width: 100%;&quot;&gt;&lt;/div&gt;<br />\n&lt;script src=&quot;https://canvasjs.com/assets/script/canvasjs.min.js&quot;&gt;&lt;/script&gt;<br />\n&lt;/body&gt;<br />\n&lt;/html&gt;<br />\n`<br />\n<br />\nlet webView = new WebView()<br />\n<br />\nwebView.loadHTML(html)<br />\nwebView.present(true)</div>\n7. That worked! I then figured out how to request data from covidtracking.com ‚Äî conveniently hosted in JSON format. I used console.log to sanity check the result.<br />\n<br />\n<div id='code'>let dailyDataRequest = new Request(&quot;https://covidtracking.com/api/v1/us/daily.json&quot;)<br />\nlet dailyData = await dailyDataRequest.loadJSON()<br />\n<br />\nconsole.log(&quot;Row 0: &quot; + dailyData[0].positive)</div>\n8. From there, I parsed the data, transformed it, and added more charts. I included some charts that the original website didn‚Äôt have that I found interesting.<br />\n<br />\n<div id='code'>// Show graphs that match: https://www.politico.com/interactives/2020/coronavirus-testing-by-state-chart-of-new-cases/<br />\n// Data from: https://covidtracking.com/api<br />\n<br />\n// Examples the charts are based on:<br />\n// https://canvasjs.com/javascript-charts/null-data-chart/<br />\n// https://canvasjs.com/javascript-charts/multi-series-chart/<br />\n// https://canvasjs.com/javascript-charts/stacked-column-chart/<br />\n// https://canvasjs.com/javascript-charts/stacked-bar-chart/<br />\n// https://canvasjs.com/javascript-charts/stacked-bar-100-chart/<br />\n<br />\nlet firstInterestingDate = 20200301<br />\n<br />\nfunction dataPointsFromDailyDataJSON(json, key) {<br />\n&nbsp;&nbsp;// { x: new Date(2017,6,24), y: 31 },<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;var result = &quot;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;for (let row of json) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let value = row[key]<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let date = row[&quot;date&quot;]<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Data is uninteresting before March 1st: 20200301<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (date &lt; firstInterestingDate) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let match = (date+&quot;&quot;).match(/(\\d{4})(\\d{2})(\\d{2})/)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let year = parseInt(match[1])<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let month = parseInt(match[2])<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let day = parseInt(match[3])<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;result += &quot;{ x: new Date(&quot;+year+&quot;,&quot;+(month-1)+&quot;,&quot;+day+&quot;), y: &quot; + value + &quot; },\\n&quot;<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;return result<br />\n}<br />\n<br />\nfunction deltaDataPointsFromDailyDataJSON(json, key) {<br />\n&nbsp;&nbsp;// { x: new Date(2017,6,24), y: 31 },<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;var result = &quot;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;// json is sorted newest to oldest so we need to iterate backwards<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;var index = json.length-1<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;var prevValue = json[index][key]<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;while (index &gt;= 0) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let row = json[index]<br />\n&nbsp;&nbsp;&nbsp;&nbsp;index--<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let value = row[key]<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let date = row[&quot;date&quot;]<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let delta = value - prevValue<br />\n&nbsp;&nbsp;&nbsp;&nbsp;prevValue = value<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Data is uninteresting before March 1st: 20200301<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (date &lt; firstInterestingDate) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let match = (date+&quot;&quot;).match(/(\\d{4})(\\d{2})(\\d{2})/)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let year = parseInt(match[1])<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let month = parseInt(match[2])<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let day = parseInt(match[3])<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;result += &quot;{ x: new Date(&quot;+year+&quot;,&quot;+(month-1)+&quot;,&quot;+day+&quot;), y: &quot; + delta + &quot; },\\n&quot;<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;return result<br />\n}<br />\n<br />\nvar chartCount = 0<br />\n<br />\nfunction chartTestsPositivesDeathsForState(json, state) {<br />\n&nbsp;&nbsp;// Filter the data to the correct state; null means US<br />\n&nbsp;&nbsp;let filteredJson = (state == null) ? json : json.filter(row =&gt; row[&quot;state&quot;] == state)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let currentTotalTests = filteredJson[0][&quot;totalTestResults&quot;]<br />\n&nbsp;&nbsp;let totalTestsDataPoints = dataPointsFromDailyDataJSON(filteredJson, &quot;totalTestResults&quot;)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let currentPositive = filteredJson[0][&quot;positive&quot;]<br />\n&nbsp;&nbsp;let positiveDataPoints = dataPointsFromDailyDataJSON(filteredJson, &quot;positive&quot;)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let currentDeath = filteredJson[0][&quot;death&quot;]<br />\n&nbsp;&nbsp;let deathsDataPoints = dataPointsFromDailyDataJSON(filteredJson, &quot;death&quot;)<br />\n<br />\n&nbsp;&nbsp;let chartName = &quot;chart&quot; + (state == null ? &quot;US&quot; : state) + chartCount++<br />\n<br />\n&nbsp;&nbsp;let chartJS = `<br />\nvar ${chartName} = new CanvasJS.Chart(&quot;${chartName}&quot;, {<br />\n\tanimationEnabled: false,<br />\n\ttitle:{<br />\n\t\ttext: &quot;Covid-19 in ${state == null ? &quot;the United States&quot; : state}&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fontSize: 25,<br />\n\t},<br />\n\taxisX: {<br />\n\t\tvalueFormatString: &quot;MMM DD&quot;<br />\n\t},<br />\n\taxisY: {<br />\n\t\ttitle: &quot;Count&quot;,<br />\n\t\tincludeZero: true,<br />\n\t},<br />\n\tlegend:{<br />\n\t\tcursor: &quot;pointer&quot;,<br />\n\t\tfontSize: 16,<br />\n\t\titemclick: toggleDataSeries<br />\n\t},<br />\n\ttoolTip:{<br />\n\t\tshared: true<br />\n\t},<br />\n\tdata: [{<br />\n\t\tname: &quot;Total Tests (${currentTotalTests.toLocaleString()})&quot;,<br />\n\t\ttype: &quot;line&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lineColor: &quot;gray&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color: &quot;gray&quot;,<br />\n\t\tshowInLegend: true,<br />\n\t\tdataPoints: [<br />\n${totalTestsDataPoints}<br />\n\t\t]<br />\n\t},<br />\n\t{<br />\n\t\tname: &quot;Positive (${currentPositive.toLocaleString()})&quot;,<br />\n\t\ttype: &quot;line&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lineColor: &quot;orange&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color: &quot;orange&quot;,<br />\n\t\tshowInLegend: true,<br />\n\t\tdataPoints: [<br />\n${positiveDataPoints}<br />\n\t\t]<br />\n\t},<br />\n\t{<br />\n\t\tname: &quot;Deaths (${currentDeath.toLocaleString()})&quot;,<br />\n\t\ttype: &quot;line&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lineColor: &quot;red&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color: &quot;red&quot;,<br />\n\t\tshowInLegend: true,<br />\n\t\tdataPoints: [<br />\n${deathsDataPoints}<br />\n\t\t]<br />\n\t}]<br />\n});<br />\n${chartName}.render();<br />\n`<br />\n<br />\n&nbsp;&nbsp;return { chartJS: chartJS, chartName: chartName };<br />\n}<br />\n<br />\n<br />\nfunction chartDeltas(json, state) {<br />\n&nbsp;&nbsp;// Filter the data to the correct state; null means US<br />\n&nbsp;&nbsp;let filteredJson = (state == null) ? json : json.filter(row =&gt; row[&quot;state&quot;] == state)<br />\n<br />\n&nbsp;&nbsp;let currentTestsDeltaToday = filteredJson[0][&quot;totalTestResults&quot;] - filteredJson[1][&quot;totalTestResults&quot;]<br />\n&nbsp;&nbsp;let currentTestsDeltas = deltaDataPointsFromDailyDataJSON(filteredJson, &quot;totalTestResults&quot;)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let positiveDeltaToday = filteredJson[0][&quot;positive&quot;] - filteredJson[1][&quot;positive&quot;]<br />\n&nbsp;&nbsp;let positiveDeltas = deltaDataPointsFromDailyDataJSON(filteredJson, &quot;positive&quot;)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let deathsDeltaToday = filteredJson[0][&quot;death&quot;] - filteredJson[1][&quot;death&quot;]<br />\n&nbsp;&nbsp;let deathsDeltas = deltaDataPointsFromDailyDataJSON(filteredJson, &quot;death&quot;)<br />\n<br />\n&nbsp;&nbsp;let chartName = &quot;chartDeltas&quot; + (state == null ? &quot;US&quot; : state) + chartCount++<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let chartJS = `<br />\nvar ${chartName} = new CanvasJS.Chart(&quot;${chartName}&quot;, {<br />\n\tanimationEnabled: false,<br />\n\ttitle:{<br />\n\t\ttext: &quot;Day-over-Day Change${state == null ? &quot;&quot; : &quot; in &quot; + state}&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fontSize: 25,<br />\n\t},<br />\n\taxisX: {<br />\n\t\tvalueFormatString: &quot;MMM DD&quot;<br />\n\t},<br />\n\taxisY: {<br />\n\t\ttitle: &quot;Count&quot;,<br />\n\t\tincludeZero: true,<br />\n\t},<br />\n\tlegend:{<br />\n\t\tcursor: &quot;pointer&quot;,<br />\n\t\tfontSize: 16,<br />\n\t\titemclick: toggleDataSeries<br />\n\t},<br />\n\ttoolTip:{<br />\n\t\tshared: true<br />\n\t},<br />\n\tdata: [{<br />\n\t\tname: &quot;Total Tests Œî (${currentTestsDeltaToday.toLocaleString()})&quot;,<br />\n\t\ttype: &quot;line&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lineColor: &quot;gray&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color: &quot;gray&quot;,<br />\n\t\tshowInLegend: true,<br />\n\t\tdataPoints: [<br />\n${currentTestsDeltas}<br />\n\t\t]<br />\n\t},<br />\n\t{<br />\n\t\tname: &quot;Positive Œî (${positiveDeltaToday.toLocaleString()})&quot;,<br />\n\t\ttype: &quot;line&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lineColor: &quot;orange&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color: &quot;orange&quot;,<br />\n\t\tshowInLegend: true,<br />\n\t\tdataPoints: [<br />\n${positiveDeltas}<br />\n\t\t]<br />\n\t},<br />\n\t{<br />\n\t\tname: &quot;Deaths Œî (${deathsDeltaToday.toLocaleString()})&quot;,<br />\n\t\ttype: &quot;line&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lineColor: &quot;red&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color: &quot;red&quot;,<br />\n\t\tshowInLegend: true,<br />\n\t\tdataPoints: [<br />\n${deathsDeltas}<br />\n\t\t]<br />\n\t}]<br />\n});<br />\n${chartName}.render();<br />\n`<br />\n<br />\n&nbsp;&nbsp;return { chartJS: chartJS, chartName: chartName };<br />\n}<br />\n<br />\n<br />\nfunction sortedStateNames(json) {<br />\n&nbsp;&nbsp;// For the entry with today&#039;s date, sort the state names from highest positive count to lowest<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let todaysDate = json[0].date<br />\n&nbsp;&nbsp;let todaysData = json.filter(row =&gt; row.date == todaysDate)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;todaysData.sort((a, b) =&gt; b.positive - a.positive)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;return todaysData.map(row =&gt; row.state)<br />\n}<br />\n<br />\n<br />\nfunction statesTestsBarChart(json) {<br />\n&nbsp;&nbsp;let todaysDate = json[0].date<br />\n&nbsp;&nbsp;let todaysData = json.filter(row =&gt; row.date == todaysDate)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;todaysData.sort((a, b) =&gt; b.positive - a.positive)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let positiveDataPoints = todaysData.map(row =&gt; &quot;{ y: &quot;+row.positive+&quot;, label: &#039;&quot;+row.state+&quot;&#039; }&quot;)<br />\n&nbsp;&nbsp;let negativeDataPoints = todaysData.map(row =&gt; &quot;{ y: &quot;+(row.totalTestResults-row.positive)+&quot;, label: &#039;&quot;+row.state+&quot;&#039; }&quot;)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let chartName = &quot;chartTestsBarChart&quot; + chartCount++<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let chartJS = `<br />\nvar ${chartName} = new CanvasJS.Chart(&quot;${chartName}&quot;, {<br />\n\tanimationEnabled: false,<br />\n\ttitle:{<br />\n\t\ttext: &quot;State Testing&quot;,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fontSize: 25,<br />\n\t},<br />\n\taxisX: {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title: &quot;State&quot;,<br />\n\t\tinterval: 1,<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;labelFontSize: 12,<br />\n\t},<br />\n\taxisY:{<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title: &quot;Count&quot;,<br />\n\t},<br />\n\tdata: [{<br />\n\t\ttype: &quot;stackedColumn&quot;,<br />\n\t\tshowInLegend: true,<br />\n\t\tcolor: &quot;orange&quot;,<br />\n\t\tname: &quot;Positive&quot;,<br />\n\t\tdataPoints: [<br />\n${positiveDataPoints.join(&quot;,&quot;)}<br />\n\t\t]<br />\n\t\t},<br />\n\t\t{        <br />\n\t\t\ttype: &quot;stackedColumn&quot;,<br />\n\t\t\tshowInLegend: true,<br />\n\t\t\tname: &quot;Negative&quot;,<br />\n\t\t\tcolor: &quot;gray&quot;,<br />\n\t\t\tdataPoints: [<br />\n${negativeDataPoints.join(&quot;,&quot;)}  <br />\n\t\t\t]<br />\n\t\t},<br />\n\t]<br />\n});<br />\n${chartName}.render();<br />\n`<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;return { chartJS: chartJS, chartName: chartName };<br />\n}<br />\n<br />\n<br />\n<br />\nvar html = `<br />\n&lt;!DOCTYPE HTML&gt;<br />\n&lt;html&gt;<br />\n&lt;head&gt;  <br />\n&lt;script&gt;<br />\nwindow.onload = function () {<br />\n`<br />\n<br />\n<br />\nvar chartNames = []<br />\n<br />\n<br />\n<br />\n// https://covidtracking.com/api/v1/us/daily.json<br />\n<br />\nlet dailyDataRequest = new Request(&quot;https://covidtracking.com/api/v1/us/daily.json&quot;)<br />\nlet dailyData = await dailyDataRequest.loadJSON()<br />\n<br />\n<br />\n// US chart for tests given, positive tests, deaths<br />\n<br />\nlet usChart = chartTestsPositivesDeathsForState(dailyData, null)<br />\n<br />\nhtml += usChart.chartJS<br />\nchartNames.push(usChart.chartName)<br />\n<br />\n<br />\n<br />\n// US Deltas<br />\n<br />\nlet usDeltasChart = chartDeltas(dailyData, null)<br />\nhtml += usDeltasChart.chartJS<br />\nchartNames.push(usDeltasChart.chartName)<br />\n<br />\n<br />\n<br />\n// Per-state tests, positive, deaths charts sorted by most positive<br />\n// https://covidtracking.com/api/v1/states/daily.json<br />\n<br />\nlet stateDataRequest = new Request(&quot;https://covidtracking.com/api/v1/states/daily.json&quot;)<br />\nlet stateData = await stateDataRequest.loadJSON()<br />\n<br />\n<br />\n<br />\n// States tests stacked bar chart<br />\n<br />\nlet testsBarChart = statesTestsBarChart(stateData)<br />\nhtml += testsBarChart.chartJS<br />\nchartNames.push(testsBarChart.chartName)<br />\n<br />\n<br />\n<br />\n// California<br />\nlet caChart = chartTestsPositivesDeathsForState(stateData, &quot;CA&quot;)<br />\n<br />\nhtml += caChart.chartJS<br />\nchartNames.push(caChart.chartName)<br />\n<br />\nlet caDeltasChart = chartDeltas(stateData, &quot;CA&quot;)<br />\nhtml += caDeltasChart.chartJS<br />\nchartNames.push(caDeltasChart.chartName)<br />\n<br />\n<br />\n<br />\n// Sorted state data<br />\n<br />\nlet sortedStates = sortedStateNames(stateData)<br />\n<br />\nfor (let state of sortedStates) {<br />\n&nbsp;&nbsp;let stateChart = chartTestsPositivesDeathsForState(stateData, state)<br />\n&nbsp;&nbsp;html += stateChart.chartJS<br />\n&nbsp;&nbsp;chartNames.push(stateChart.chartName)<br />\n}<br />\n<br />\n<br />\n<br />\n<br />\n<br />\nhtml += `<br />\nfunction toggleDataSeries(e){<br />\n\tif (typeof(e.dataSeries.visible) === &quot;undefined&quot; || e.dataSeries.visible) {<br />\n\t\te.dataSeries.visible = false;<br />\n\t}<br />\n\telse{<br />\n\t\te.dataSeries.visible = true;<br />\n\t}<br />\n\tchart.render();<br />\n}<br />\n<br />\n}<br />\n&lt;/script&gt;<br />\n&lt;/head&gt;<br />\n&lt;body&gt;<br />\n`<br />\n<br />\n<br />\nvar index = 0<br />\nfor (let chartName of chartNames) {<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;var width = &quot;100%&quot; // US data, tests for all states<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;if (index &gt;= 5) { // sorted states<br />\n&nbsp;&nbsp;&nbsp;&nbsp;width = &quot;33%&quot;<br />\n&nbsp;&nbsp;} else if (index &gt;= 3) { // California<br />\n&nbsp;&nbsp;&nbsp;&nbsp;width = &quot;50%&quot;<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &#039;&lt;div id=&quot;&#039;+chartName+&#039;&quot; style=&quot;height: 500px; width: &#039;+width+&#039;; display: inline-block;&quot;&gt;&lt;/div&gt;&#039;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;if (index == 1 || index == 2 || (index % 3) == 1) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;br /&gt;&lt;br /&gt;&quot;<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;index++<br />\n}<br />\n<br />\n<br />\nhtml += `<br />\n&lt;script src=&quot;https://canvasjs.com/assets/script/canvasjs.min.js&quot;&gt;&lt;/script&gt;<br />\n&lt;/body&gt;<br />\n&lt;/html&gt;<br />\n`<br />\n<br />\n<br />\n<br />\nlet webView = new WebView()<br />\n<br />\nwebView.loadHTML(html)<br />\nwebView.present(true)</div>\nResources:<br />\n- <a href=\"/m/graph-js/canvasjs.min.js\">Backup of the canvasJS library</a><br />\n- <a href=\"/m/graph-js/us-daily.json\">Snapshot of US Daily data</a><br />\n- <a href=\"/m/graph-js/states-daily.json\">Snapshot of States Daily data</a><br />\n"
    },
    {
         "title" : "Books",
         "date_published" : "2020-04-19T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/books.html",
         "url" : "https://memalign.github.io/p/books.html",
         "image" : "https://memalign.github.io/m/book.svg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/books.html'>Books</a>\n</h2>\n</div>\n<img src=\"/m/book.svg\">\n<div id='postdate'>Posted on 4/19/2020<br />\nTags: <a href='/tags.html'>Leisure</a></div>\nI know some people who are always reading a book. I‚Äôm not an avid book reader like them.<br />\n<br />\nI enjoy reading, though. When reading, I get attached to the characters and the plot. When I finish a book, I feel melancholy, a mild mourning for my fictional companions.<br />\nI try to pick books that will be fun to read while also sticking with me for years to come.<br />\nIn some ways, I treat TV, movies, and books similarly: I don‚Äôt always need to be consuming something and I try to pick meaningful ones. I like to think about what I watched/read for weeks or months before picking up something else.<br />\n<br />\nHere‚Äôs a list of some books I‚Äôve read. I‚Äôll try to update this periodically.<br />\n<br />\n<br />\n<br />\nNon-Fiction:<br />\n<br />\n- Becoming Steve Jobs<br />\n<br />\n- Black Like Me<br />\n<br />\n- The Checklist Manifesto<br />\n<br />\n- Creative Selection<br />\n<br />\n- Extreme Ownership<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- The lessons in this book directly apply to engineering management and leadership. I highly recommend it.<br />\n<br />\n- Getting to Yes<br />\n<br />\n- The Hard Thing About Hard Things<br />\n<br />\n- Punished by Rewards<br />\n<br />\n- Radical Candor<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- This is another great book for leaders and managers.<br />\n<br />\n- Steve Jobs<br />\n<br />\n- Thinking Fast and Slow<br />\n<br />\n<br />\n<br />\nFiction:<br />\n<br />\n- American Gods<br />\n<br />\n- Atlas Shrugged<br />\n<br />\n- The Bicentennial Man<br />\n<br />\n- Brave New World<br />\n<br />\n- Breakfast of Champions<br />\n<br />\n- Cat‚Äôs Cradle<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- I like Vonnegut‚Äôs writing for its humor, depth, and straightforwardness. He‚Äôs one of the few authors with more than one book on my list.<br />\n<br />\n- The Catcher in the Rye<br />\n<br />\n- Choke<br />\n<br />\n- Dirk Gently's Holistic Detective Agency<br />\n<br />\n- Dune<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- The writing is dense and not usually what I would choose to read. I‚Äôm still glad I read it because it‚Äôs one of the classics which gets a lot of references.<br />\n<br />\n- <a href=\"http://www.galactanet.com/oneoff/theegg_mod.html\">The Egg</a><br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Wonderful short story by Andy Weir<br />\n<br />\n- Ender‚Äôs Game<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- One of my favorite books. It‚Äôs an interesting story which also influences my own thoughts about leadership in the real world.<br />\n<br />\n- Ender‚Äôs Shadow<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- A sort-of-sequel to Ender‚Äôs Game. I enjoyed how it layers extra depth onto a story I already loved.<br />\n<br />\n- Fight Club<br />\n<br />\n- Foundation trilogy<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Foundation<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Foundation and Empire<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Second Foundation<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Asimov is another author with many books on my list. I think about these stories a lot today (in the year 2020) when things feel out of control.<br />\n<br />\n- Girl with the Dragon Tattoo series<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- The Girl with the Dragon Tattoo<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- The Girl Who Played with Fire<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- The Girl Who Kicked the Hornets‚Äô Nest<br />\n<br />\n- The Gods Themselves<br />\n<br />\n- Good Omens<br />\n<br />\n- Harry Potter series<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Harry Potter and the Sorcerer‚Äôs Stone<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Harry Potter and the Chamber of Secrets<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Harry Potter and the Prisoner of Azkaban<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Harry Potter and the Goblet of Fire<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Harry Potter and the Order of the Phoenix<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Harry Potter and the Half-Blood Prince<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Harry Potter and the Deathly Hallows<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- A series core to my childhood and young adulthood. I got the first book as a present from my grandmother for graduating 5th grade.<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n- Hitchhiker‚Äôs Guide to the Galaxy trilogy<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- The Hitchhiker‚Äôs Guide to the Galaxy<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- The Restaurant at the End of the Universe<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Life, the Universe and Everything<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- So Long, and Thanks for All the Fish<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Mostly Harmless<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Young Zaphod Plays it Safe<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- And Another Thing...<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Funny and light while still carrying depth. Some of my favorites.<br />\n<br />\n- Hyperion<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Interesting stories though I wish I had known up-front that there would be no ending to tie off loose ends and plot-lines.<br />\n<br />\n- The Illustrated Man<br />\n<br />\n- John Dies at the End series<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- John Dies at the End<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- This Book is Full of Spiders<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- What the Hell Did I Just Read<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Fun comedy horror from Jason Parkin (aka David Wong), another author with several books on my list.<br />\n<br />\n- <a href=\"https://www.multivax.com/last_question.html\">The Last Question</a><br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Wonderful short story by Isaac Asimov<br />\n<br />\n- Learning to Be Me<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Unsettling and thought-provoking short story by Greg Egan. It could be a Black Mirror episode.<br />\n<br />\n- The Little Prince<br />\n<br />\n- Lord of the Flies<br />\n<br />\n- Lord of the Rings<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- The Hobbit<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- The Fellowship of the Ring<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- The Two Towers<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- The Return of the King<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Dense fantasy classics. I‚Äôm glad I‚Äôve read them but I don‚Äôt love them. I tried to read the Silmarillion but that was way too far in the wrong direction for me (even more dense and way less story).<br />\n<br />\n- The Perks of Being a Wallflower<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Really resonated with my angsty teenager self<br />\n<br />\n- The Red Pony<br />\n<br />\n- Replay<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- One of my favorite books: fun, fast, thought-provoking<br />\n<br />\n- Slaughterhouse-Five<br />\n<br />\n- Snow Crash<br />\n<br />\n- The Terminal Experiment <br />\n<br />\n- Watchmen<br />\n<br />\n- Watership Down<br />\n<br />\n- Zoey Ashe series<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Futuristic Violence and Fancy Suits<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Zoey Punches the Future in the Dick"
    },
    {
         "title" : "notes.txt",
         "date_published" : "2020-04-13T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/notes-txt.html",
         "url" : "https://memalign.github.io/p/notes-txt.html",
         "image" : "https://memalign.github.io/m/ios-notes.png",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/notes-txt.html'>notes.txt</a>\n</h2>\n</div>\n<img src=\"/m/ios-notes.png\">\n<div id='postdate'>Posted on 4/13/2020<br />\nTags: <a href='/tags.html'>Programming</a></div>\nAt a software engineering internship in 2006, my mentor told me that he kept a paper engineering journal that he put notes in every day as he worked on problems. He gave me one, too. I followed that habit during all of my internships.<br />\n<br />\nThen ~4 years later, I started working as a full-time software engineer. A few months into working, I stopped using a paper notebook. I think part of the reason is that I had a better tool: the bug tracker. Pretty much every assignment I got had a corresponding entry in a bug tracking database. I started keeping the notes of my investigations in bug reports directly so there would be a central and shared source of truth. A mentor at this job said \"some of the best engineers\" put frequent clear updates in their bugs.<br />\n<br />\nMy personal projects had always been note-free, though. Unfortunately, I didn't bring the same problem-solving-and-knowledge-capturing discipline to personal projects until ~2016. That's a whole decade after learning the value of an engineering journal at work!<br />\n<br />\nNow, even for informal personal projects, I keep a notes.txt file in the <a href=\"/p/source-control.html\">git repository</a>. <br />\n<br />\nHere's an excerpt from notes.txt for this website (which is a personal side-project of its own):<br />\n<br />\n<div id='code'>12/25/19<br />\n<br />\nI created a user page in github!<br />\n<br />\nI found that I have to publish from the master branch and the root directory of the memalign.github.io project. I also found that an index.html file with just plaintext contents wouldn&#039;t get served for https://memalign.github.io<br />\n<br />\n( I figured this out by googling and finding:<br />\nhttps://github.community/t5/GitHub-Pages/index-html-not-working/td-p/1266 )</div>\n(You can see the full notes.txt for the project <a href=\"/notes.txt\">here</a>.)<br />\n<br />\nI use notes.txt to capture:<br />\n<br />\n- Problems I'm running into<br />\n- Thoughts on what might be happening<br />\n- Potential solutions to explore<br />\n- The solution that worked<br />\n- Useful links and other research<br />\n- Useful commands<br />\n- The full steps required to do something novel (for example: getting a 3rd party open source library to build and install correctly)<br />\n- Features I want to add<br />\n- The bug list<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- For a simple side-project a text bug list embedded in my notes is much easier than a full bug tracker"
    },
    {
         "title" : "Download Video Into Your Brain",
         "date_published" : "2020-04-05T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/speed-up-av.html",
         "url" : "https://memalign.github.io/p/speed-up-av.html",
         "image" : "https://memalign.github.io/m/westworld-pearl.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/speed-up-av.html'>Download Video Into Your Brain</a>\n</h2>\n</div>\n<img src=\"/m/westworld-pearl.jpg\">\n<div id='postdate'>Posted on 4/5/2020<br />\nTags: <a href='/tags.html'>Tools</a>, <a href='/tags.html'>Brain Hacking</a></div>\nA natural extension of <a href=\"/p/tts-download-into-brain.html\">Downloading Text Into Your Brain</a> is to consume audio and video more efficiently.<br />\n<br />\nI do this by speeding up playback to be anywhere between 1.2x and 2x faster. Another useful trick is to skip ahead (past ads, uninteresting segments). I like to skip ahead by 30 seconds and skip back by 10 seconds (to rewind after skipping too far forward).<br />\n<br />\n<br />\nSome examples where I'll use this technique:<br />\n<br />\n- To watch a technical talk that's important but not interesting<br />\n<br />\n- To watch things that are enjoyable but not quite worth their time tradeoff. For me, this applies to YouTube channels that are funny but too slow-paced. And ones that have too much uninteresting filler.<br />\n<br />\n- To listen to podcasts which are also often too slow-paced<br />\n<br />\n- To skip past ads and sponsored content<br />\n<br />\n- To fast-foward through the credits in case there's a post-credits scene<br />\n<br />\n<br />\nNot all content consumption is about efficiency, of course!<br />\n<br />\nSometimes I want to savor every moment. For example, I won't speed up a TV show like <a href=\"https://en.wikipedia.org/wiki/Westworld_(TV_series)\">Westworld</a> which is dense with references, foreshadowing; which is made to be beautiful and thought-provoking.<br />\n<br />\n<br />\nI've built my own tools for doing this which I won't be sharing today. But you don't need my tools to get started! There's a useful bookmarklet called <a href=\"http://www.yuptude.com/\">yuptude</a>. There's more info on that website. In case it goes down some day, here's the raw bookmarklet:<br />\n<div id='code'>javascript:(function()%7Bfunction%20dg(t)%7Breturn%20document.getElementById(t)%7Dfunction%20yte_in()%7Bs=dg(%22yptd-in%22).value%7Dfunction%20yte_off()%7Byti_in.removeEventListener(%22input%22,yte_in),yti_off.removeEventListener(%22click%22,yte_off),yti_pit.removeEventListener(%22click%22,yte_pit),yti_up.removeEventListener(%22click%22,yte_up),yti_dwn.removeEventListener(%22click%22,yte_dwn),ytw.parentNode.removeChild(ytw),yts.parentNode.removeChild(yts),clearInterval(interval),s=1,pitch(1)%7Dfunction%20yte_pit()%7Bp=dg(%22yptd-pin%22).checked%7Dfunction%20yte_up()%7Binputval=document.getElementById(%22yptd-in%22).value,inputval=inputval%3FparseFloat(inputval):1,inputval=3.9%3E=inputval%3Finputval+.1:inputval,s=dg(%22yptd-in%22).value=inputval.toFixed(1)%7Dfunction%20yte_dwn()%7Binputval=dg(%22yptd-in%22).value,inputval=inputval%3FparseFloat(inputval):1,inputval=inputval%3E=.6%3Finputval-.1:inputval,s=dg(%22yptd-in%22).value=inputval.toFixed(1)%7Dfunction%20pitch(t)%7Bfor(var%20e=0;videos.length%3Ee;e++)v=videos%5Be%5D,v%26%26v.readyState%3E=2%26%26(v.playbackRate=t%7C%7Cs%7C%7C1,v.mozPreservesPitch=v.webkitPreservesPitch=v.preservePitch=!p)%7Dvar%20s=1,p=!1,videos=document.querySelectorAll(%22video,audio%22),v,inputval,ytw=document.createElement(%22div%22);ytw.innerHTML=&#039;%3Cstyle%20id=%22yptd-style%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%23yptd%20span,%23yptd-box%7Bfloat:left;padding:0%20.5em;display:block%7D%23yptd%20span%20em,%23yptd-bottom,%23yptd-in%7Bvertical-align:middle%7D%23yptd-pit,%23yptd-pit%20input%7Bfloat:right%7D%23yptd%20a,%23yptd-bar%7Bbackground-color:%23fd0d5d%7D%23yptd%7Bz-index:9999999999;position:fixed;bottom:0;left:6px;font:16px%20Helvetica,Arial,sans-serif;-webkit-text-size-adjust:100%25;-ms-text-size-adjust:100%25%7D%23yptd%20*%7Bmargin:0%7D%23yptd%20a%7Bborder-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px;float:left;margin:0%20.5em%200%200;padding:.25em%201em;font-weight:700;color:%23FFF%7D%23yptd%20a%20em%7Bfont-size:.9em%7D%23yptd%20a:active,%23yptd%20a:focus,%23yptd%20a:hover%7Boutline:0;color:%23fd0d5d;background-color:%23FFF;text-decoration:none%7D%23yptd%20span%7Bborder-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;margin:.5em;width:2.5em;border-bottom:2px%20solid%20rgba(0,0,0,.25);text-decoration:none;color:%23000;background-color:%23FFF;cursor:pointer;text-align:center%7D%23yptd%20span%20em%7Bfont-size:.75em%7D%23yptd%20span:active,%23yptd%20span:focus,%23yptd%20span:hover%7Bcolor:%23fd0d5d%7D%23yptd-bar%7Bborder-radius:3px%203px%200%200;-moz-border-radius:3px%203px%200%200;-webkit-border-radius:3px%203px%200%200;height:2.25em%7D%23yptd-bar:after,%23yptd-bottom:after%7Bcontent:%22%22;display:block;clear:both%7D%23yptd-controls%7Bfloat:right;height:2.25em;border-left:2px%20solid%20rgba(0,0,0,.33)%7D%23yptd-box%7B-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:4em;min-width:4em;height:100%25;background-color:rgba(0,0,0,.15)%7D%23yptd-in%7Bwidth:100%25;height:100%25;border:0;text-align:center;font:14px%20Helvetica,Arial,sans-serif;font-family:Helvetica,Arial,sans-serif;font-size:14px;color:%23FFF;background-color:transparent%7D%23yptd-bottom%7Bpadding:.75em;font-size:.75em;background-color:rgba(0,0,0,.8)%7D%23yptd-pit%7Bposition:relative;padding:.25em%200%7D%23yptd-pit%20label%7Bmargin-right:.5em;color:%23FFF%7D%23yptd-pit%20em%7Bdisplay:none%7D%23yptd-pit:active%20em,%23yptd-pit:focus%20em,%23yptd-pit:hover%20em%7Bdisplay:block;position:absolute;top:-2.5em;left:0;padding:.5em;white-space:pre;font-size:.8em;background-color:%23fd0d5d%7D%20%20%20%20%20%20%20%20%20%20%20%20%3C/style%3E%20%20%20%20%20%20%20%20%3Cdiv%20id=%22yptd%22%3E%20%3Cdiv%20id=%22yptd-bar%22%3E%20%3Cspan%20id=%22yptd-off%22%3E%3Cem%3EOff%3C/em%3E%3C/span%3E%20%3Cdiv%20id=%22yptd-controls%22%3E%20%3Cspan%20id=%22yptd-dwn%22%3E-%3C/span%3E%20%3Cdiv%20id=%22yptd-box%22%3E%20%3Cinput%20id=%22yptd-in%22%20type=%22text%22%20value=%22&#039;+s+&#039;%22%3E%20%3C/div%3E%20%3Cspan%20id=%22yptd-up%22%3E+%3C/span%3E%20%3C/div%3E%20%3C/div%3E%20%3Cdiv%20id=%22yptd-bottom%22%3E%20%3Ca%20href=%22http://yuptude.com%22%3E%3Cem%3Eyuptude%3C/em%3E%3C/a%3E%20%3Cdiv%20id=%22yptd-pit%22%3E%20%3Clabel%20for=%22yptd-pin%22%3E%20Shift%20Pitch%20%3Cem%3E(Firefox%20%26amp;%20Safari%20only)%3C/em%3E%3C/label%3E%20%3Cinput%20type=%22checkbox%22%20name=%22yptd-pin%22%20id=%22yptd-pin%22%20value=%221%22%20&#039;+(p%3F&#039;checked=%22checked%22%20&#039;:%22%20%22)+%22%3E%20%3C/div%3E%20%3C/div%3E%20%3C/div%3E%22,document.body.appendChild(ytw);var%20ytw=dg(%22yptd%22),yts=dg(%22yptd-style%22),yti_in=dg(%22yptd-in%22),yti_off=dg(%22yptd-off%22),yti_pit=dg(%22yptd-pin%22),yti_up=dg(%22yptd-up%22),yti_dwn=dg(%22yptd-dwn%22);yti_in.addEventListener(%22input%22,yte_in),yti_off.addEventListener(%22click%22,yte_off),yti_pit.addEventListener(%22click%22,yte_pit),yti_up.addEventListener(%22click%22,yte_up),yti_dwn.addEventListener(%22click%22,yte_dwn);var%20interval=setInterval(function()%7Bpitch()%7D,100);%7D)()</div>"
    },
    {
         "title" : "Download Text Into Your Brain",
         "date_published" : "2020-03-28T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/tts-download-into-brain.html",
         "url" : "https://memalign.github.io/p/tts-download-into-brain.html",
         "image" : "https://memalign.github.io/m/matrix-kung-fu.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/tts-download-into-brain.html'>Download Text Into Your Brain</a>\n</h2>\n</div>\n<img src=\"/m/matrix-kung-fu.jpg\">\n<div id='postdate'>Posted on 3/28/2020<br />\nTags: <a href='/tags.html'>Programming</a>, <a href='/tags.html'>Tools</a>, <a href='/tags.html'>Brain Hacking</a></div>\nIn the internet age, there's so much interesting information to absorb: academic papers, blog posts, articles, books, reddit posts, text messages, emails, etc.<br />\n<br />\nA lot of this content is in text form so I'm reading all the time.<br />\n<br />\nA while ago, I discovered that the iPhone has a built-in <a href=\"https://en.wikipedia.org/wiki/Speech_synthesis\">text-to-speech (TTS)</a> accessibility feature that can speak text the user highlights. At the time of writing, you can turn this on in Settings->Accessibility->Spoken Content->Speak Selection. This will cause a Speak button to appear when you select text. You can crank up the speed of the speech too.<br />\n<br />\nI started using this feature to listen to paragraphs while doing things that occupy eyes and hands: driving, washing dishes, exercising. I quickly got used to listening to this sped up Siri voice.<br />\n<br />\nI was blown away by how much more quickly I could read this way. When I'm reading with my eyes, I'll often get temporarily stuck trying to understand specific wording or fine details. I realized that this is unnecessarily slowing me down. When listening, I'm forced to keep a quick and steady pace. For wording I would've gotten stuck on, I either figure it out from context or move on.<br />\n<br />\nUsing this technique feels like downloading information directly into your brain.<br />\n<br />\nManually selecting text can become onerous so I've built some tools that help me more easily read websites and eBooks this way.<br />\n<br />\nI'm using a combination of the <a href=\"https://apps.apple.com/us/app/shortcuts/id1462947752\">Shortcuts app</a> and the <a href=\"https://apps.apple.com/us/app/scriptable/id1405459188\">Scriptable app</a>.<br />\n<br />\nThe Shortcuts app provides easy ways to access system functionality, including speaking text and getting text from a website.<br />\n<br />\nScriptable lets the user write programs in JavaScript that call into iOS APIs and make use of Shortcuts.<br />\n<br />\n<br />\nTo use these yourself:<br />\n<br />\n1. Install the apps<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- <a href=\"https://apps.apple.com/us/app/shortcuts/id1462947752\">Shortcuts</a><br />\n&nbsp;&nbsp;&nbsp;&nbsp;- <a href=\"https://apps.apple.com/us/app/scriptable/id1405459188\">Scriptable</a><br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n2. Install/recreate these Shortcuts:<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- <a href=\"https://www.icloud.com/shortcuts/992821652da741e2a3993a2dce37f4b2\">Get Website Text</a><br />\n<img src=\"/m/get-website-text.png\"><br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- <a href=\"https://www.icloud.com/shortcuts/a3f88b742ada4a9f835e8a734bdfb907\">SpeakText</a><br />\n<img src=\"/m/speaktext.png\"><br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- <a href=\"https://www.icloud.com/shortcuts/80a6e542803448329e110094bfee2146\">Dictate</a><br />\n<img src=\"/m/dictate.png\"><br />\n<br />\n3. In Scriptable, create a new script called Speak Web Content. Paste in this code:<br />\n<br />\n<div id='code'>// Made by @memalign - 1/1/19<br />\n// Copyright 2019<br />\n// Run from a share sheet to speak shared text<br />\n// I call over to a shortcut because the Speech support in Scriptable doesn&#039;t let me configure the speaking speed<br />\n// Needs to be run in the app (instead of in the extension) so x-callback-url works<br />\n<br />\n<br />\n// let urls = [ &quot;https://support.apple.com/guide/shortcuts/use-x-callback-url-apdcd7f20a6f/ios&quot; ]<br />\nlet urls = args.urls<br />\n<br />\n<br />\nfor (url of urls) {<br />\n&nbsp;&nbsp;console.log(url)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;// Without this alert, Scriptable got confused and would abort when the callback URL returned focus to Scriptable from Shortcuts<br />\n&nbsp;&nbsp;let alert = new Alert()<br />\n&nbsp;&nbsp;alert.title = &quot;Speak Web Content&quot;<br />\n&nbsp;&nbsp;alert.message = &quot;Speak content for &quot; + url + &quot; ?&quot;<br />\n&nbsp;&nbsp;alert.addAction(&quot;Speak it!&quot;)<br />\n&nbsp;&nbsp;alert.addAction(&quot;Cancel&quot;)<br />\n&nbsp;&nbsp;if (await alert.present() == 1) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;break<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;// Get Website Text: https://www.icloud.com/shortcuts/992821652da741e2a3993a2dce37f4b2<br />\n&nbsp;&nbsp;let callbackURL = new CallbackURL(&quot;shortcuts://x-callback-url/run-shortcut&quot;)<br />\n&nbsp;&nbsp;callbackURL.addParameter(&quot;name&quot;, &quot;Get Website Text&quot;)<br />\n&nbsp;&nbsp;callbackURL.addParameter(&quot;input&quot;, &quot;text&quot;)<br />\n&nbsp;&nbsp;callbackURL.addParameter(&quot;text&quot;, url)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;console.log(&quot;callbackurl: &quot; + callbackURL.getURL())<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let result = await callbackURL.open()<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;console.log(&quot;result: &quot; + result.result)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;await showWebViewWithText(result.result)<br />\n&nbsp;&nbsp;<br />\n}<br />\n<br />\n<br />\nasync function showWebViewWithText(text) {<br />\n&nbsp;&nbsp;let webView = new WebView()<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let html = &quot;&lt;table&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let lines = text.split(&quot;\\n&quot;)<br />\n&nbsp;&nbsp;let count = 0<br />\n&nbsp;&nbsp;for (line of lines) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;tr&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;td&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;input type=&#039;checkbox&#039; id=&#039;line&quot;+count+&quot;&#039; value=&#039;&quot;+htmlEncode(line)+&quot;&#039; checked&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;/td&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;td&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;input type=&#039;button&#039; value=&#039;uncheck above&#039; onclick=&#039;uncheckAbove(&quot;+count+&quot;)&#039;&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;br /&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;input type=&#039;button&#039; value=&#039;uncheck below&#039; onclick=&#039;uncheckBelow(&quot;+count+&quot;)&#039;&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;/td&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;td&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += htmlEncode(line)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;/td&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;/tr&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;count++<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;/table&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += `<br />\n&nbsp;&nbsp;&lt;script&gt;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;document.body.style.zoom = 4.0<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;function uncheckAbove(index) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;for (let i = 0; i &lt;= index; i++) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById(&quot;line&quot;+i).checked = false;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;function uncheckBelow(index) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;for (let i = index; i &lt; ${count}; i++) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById(&quot;line&quot;+i).checked = false;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;function getSelectedText() {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let text = &quot;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;for (let i = 0; i &lt; ${count}; i++) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let checkbox = document.getElementById(&quot;line&quot;+i)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (checkbox.checked) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text += &quot;\\\\n&quot; + checkbox.value<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;return text<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&lt;/script&gt;<br />\n&nbsp;&nbsp;`<br />\n&nbsp;&nbsp;<br />\n<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;await webView.loadHTML(html)<br />\n&nbsp;&nbsp;await webView.present()<br />\n&nbsp;&nbsp;let selectedText = await webView.evaluateJavaScript(&quot;getSelectedText()&quot;)<br />\n&nbsp;&nbsp;console.log(&quot;selected text:\\n&quot; + selectedText)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;speakText(selectedText)<br />\n}<br />\n<br />\n<br />\nfunction speakText(text) {<br />\n&nbsp;&nbsp;// SpeakText: https://www.icloud.com/shortcuts/a3f88b742ada4a9f835e8a734bdfb907<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let callbackURL = new CallbackURL(&quot;shortcuts://x-callback-url/run-shortcut&quot;)<br />\n&nbsp;&nbsp;callbackURL.addParameter(&quot;name&quot;, &quot;SpeakText&quot;)<br />\n&nbsp;&nbsp;callbackURL.addParameter(&quot;input&quot;, &quot;text&quot;)<br />\n&nbsp;&nbsp;callbackURL.addParameter(&quot;text&quot;, text)<br />\n&nbsp;&nbsp;console.log(&quot;callbackurl: &quot; + callbackURL.getURL())<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;callbackURL.open()<br />\n}<br />\n<br />\n// HTML encoding utilities<br />\n// Main logic from https://ourcodeworld.com/articles/read/188/encode-and-decode-html-entities-using-pure-javascript<br />\n<br />\nfunction htmlEncode(str) {<br />\n&nbsp;&nbsp;var buf = [];<br />\n\t\t\t<br />\n&nbsp;&nbsp;for (var i=str.length-1;i&gt;=0;i--) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;buf.unshift([&#039;&amp;#&#039;, str[i].charCodeAt(), &#039;;&#039;].join(&#039;&#039;));<br />\n&nbsp;&nbsp;}<br />\n\t\t\t<br />\n&nbsp;&nbsp;return buf.join(&#039;&#039;);<br />\n}<br />\n<br />\nfunction htmlDecode(str) {<br />\n&nbsp;&nbsp;return str.replace(/&amp;#(\\d+);/g, function(match, dec) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;return String.fromCharCode(dec);<br />\n&nbsp;&nbsp;});<br />\n}</div>\n4. Configure the script settings:<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Always Run in App = on<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Share Sheet Inputs = URLs<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n5. To use this script:<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- View a website in Safari<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Tap the Share button<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Tap \"Run Script\"<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Tap \"Speak Web Content\"<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Accept prompts asking for permission<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Uncheck any text that you don't want the script to read. Usually an article is in the middle of a webpage so it's useful to uncheck the top portion and bottom portion of a webpage which include menus, ads, user comments, or related article links.<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Tap Close<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- The content will now be spoken!<br />\n<br />\n6. In Scriptable, create a new script called Read eBook. Paste in this code:<br />\n<br />\n<div id='code'>// Made by @memalign - 1/1/19<br />\n// Copyright 2019<br />\n<br />\n// First, convert eBook to text using http://www.convertfiles.com/convert/ebook/EPUB-to-TXT.html<br />\n// Then, using Files, save the result to Scriptable&#039;s space<br />\n<br />\n<br />\nlet fm = FileManager.iCloud()<br />\n<br />\nlet fullBookPath = fm.documentsDirectory() + &quot;/your-book-filename.txt&quot;<br />\n<br />\n<br />\n// File format:<br />\n// currentLineNumber\\n   - integer, offset into full book<br />\nlet inProgressPath = fullBookPath + &quot;.inProgress.txt&quot;<br />\n<br />\nfm.downloadFileFromiCloud(inProgressPath)<br />\nif (!fm.fileExists(inProgressPath)) {<br />\n&nbsp;&nbsp;console.log(&quot;Creating in progress copy&quot;)<br />\n&nbsp;&nbsp;fm.writeString(inProgressPath, &quot;0\\n&quot;)<br />\n}<br />\n<br />\n<br />\nlet lines = fm.readString(fullBookPath).split(&quot;\\n&quot;)<br />\nlet lineOffset = 0<br />\n<br />\nlet fullBookLineCount = lines.length<br />\n<br />\nconst DEFAULT_APPROX_WORDS_PER_CHUNK = 1200<br />\n<br />\nlet wordsPerChunk = DEFAULT_APPROX_WORDS_PER_CHUNK<br />\n<br />\nlet handsFreeMode = false<br />\n<br />\ndo {<br />\n<br />\n&nbsp;&nbsp;let progress = fm.readString(inProgressPath)<br />\n&nbsp;&nbsp;if (!progress) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;break<br />\n&nbsp;&nbsp;} else {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;lineOffset = parseInt((progress.split(&quot;\\n&quot;))[0])<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;// Pick enough lines to have enough words<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let lineCount = findNumLinesToAchieveWordCount(lines, lineOffset, wordsPerChunk)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;console.log(&quot;Showing chunk of &quot; + lineCount + &quot; lines with &quot; + (lines.length-lineCount) + &quot; remaining&quot;)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let chunkStr = stringForNumLines(lines, lineOffset, lineCount)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;// console.log(chunkStr)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let action = &quot;read&quot;<br />\n<br />\n<br />\n&nbsp;&nbsp;if (handsFreeMode) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let voiceCommand = await getDictatedText()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let shouldStop = voiceCommand.match(/stop/i)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (shouldStop) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;action = &quot;stop&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;} else {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let actionAndWPC = await showWebViewWithText(chunkStr, lineOffset, fullBookLineCount, wordsPerChunk)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;action = actionAndWPC[0]<br />\n&nbsp;&nbsp;&nbsp;&nbsp;wordsPerChunk = actionAndWPC[1]<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;if (action === &quot;stop&quot;) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;break<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;if (action === &quot;start over&quot;) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let alert = new Alert()<br />\n&nbsp;&nbsp;&nbsp;&nbsp;alert.title = &quot;Start Over&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;alert.message = &quot;Are you sure you want to forget all progress? This cannot be undone.&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;alert.addDestructiveAction(&quot;Start Over&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;alert.addAction(&quot;Cancel&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (await alert.present() == 0) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;Starting over!&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fm.remove(inProgressPath)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;break<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;if (action === &quot;hands free&quot;) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;action = &quot;read&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;handsFreeMode = true<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;if (action === &quot;read&quot;) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;await speakText(chunkStr)<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;if (action === &quot;previous&quot;) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;lineOffset -= findNumLinesToGoBack(lines, lineOffset, wordsPerChunk)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;lineCount = 0<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;updateInProgressFile(lineOffset+lineCount, fullBookLineCount, inProgressPath)<br />\n<br />\n} while (true)<br />\n<br />\n<br />\n<br />\nfunction updateInProgressFile(newLineOffset, fullBookLineCount, inProgressPath) {<br />\n&nbsp;&nbsp;if (newLineOffset &gt;= fullBookLineCount) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;No more lines remain!&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;fm.remove(inProgressPath)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;return<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;// Write to a temp file<br />\n&nbsp;&nbsp;let tempFile = fm.documentsDirectory() + &quot;/temp-book.txt&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;fm.writeString(tempFile, newLineOffset+&quot;\\n&quot;)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;console.log(&quot;Replacing &quot; + inProgressPath)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;// Move the temp file to final path<br />\n&nbsp;&nbsp;fm.remove(inProgressPath) // seems to be required since move errors if the destination file exists (contradicting the docs)<br />\n&nbsp;&nbsp;fm.move(tempFile, inProgressPath)<br />\n}<br />\n<br />\nasync function showWebViewWithText(text, lineOffset, totalLineCount, wordsPerChunk) {<br />\n&nbsp;&nbsp;let webView = new WebView()<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let html = &quot;&lt;html&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;body&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += `<br />\n&nbsp;&nbsp;&lt;script&gt;<br />\n&nbsp;&nbsp;document.body.style.zoom = 4.0<br />\n&nbsp;&nbsp;&lt;/script&gt;<br />\n&nbsp;&nbsp;`<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;center&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;table&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;tr&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;td&gt;&lt;input type=&#039;button&#039; value=&#039;stop&#039; onclick=&#039;setAction(\\&quot;stop\\&quot;)&#039;&gt;&lt;/td&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;td&gt;&lt;input type=&#039;button&#039; value=&#039;skip&#039; onclick=&#039;setAction(\\&quot;skip\\&quot;)&#039;&gt;&lt;/td&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;td&gt;&lt;input type=&#039;button&#039; value=&#039;read&#039; onclick=&#039;setAction(\\&quot;read\\&quot;)&#039;&gt;&lt;/td&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;td&gt;&lt;input type=&#039;button&#039; value=&#039;hands free&#039; onclick=&#039;setAction(\\&quot;hands free\\&quot;)&#039;&gt;&lt;/td&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;/tr&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;/table&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;table&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;tr&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;td&gt;&lt;input type=&#039;text&#039; size=&#039;5&#039; style=&#039;text-align:center;&#039; id=&#039;desiredAction&#039; value=&#039;read&#039;&gt;&lt;/td&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;td&gt;&lt;input type=&#039;text&#039; size=&#039;5&#039; style=&#039;text-align:center;&#039; id=&#039;wordsPerChunk&#039; value=&#039;&quot;+wordsPerChunk+&quot;&#039;&gt; words&lt;/td&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;/tr&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;/table&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;br /&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let linesRead = lineOffset<br />\n&nbsp;&nbsp;html += &quot;Progress: &quot; + linesRead + &quot;/&quot; + totalLineCount + &quot; = &quot; + (100*linesRead/totalLineCount).toFixed(1) + &quot;%&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;/center&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;table&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let lines = text.split(&quot;\\n&quot;)<br />\n&nbsp;&nbsp;let count = 0<br />\n&nbsp;&nbsp;for (line of lines) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;tr&gt;&quot;<br />\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;td&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += htmlEncode(line)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;/td&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;html += &quot;&lt;/tr&gt;&quot;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;count++<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;/table&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;br /&gt;&lt;br /&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;center&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;table&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;tr&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;td&gt;&lt;input type=&#039;button&#039; value=&#039;previous&#039; onclick=&#039;setAction(\\&quot;previous\\&quot;)&#039;&gt;&lt;/td&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;td&gt;&lt;input type=&#039;button&#039; value=&#039;start over&#039; onclick=&#039;setAction(\\&quot;start over\\&quot;)&#039;&gt;&lt;/td&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;/tr&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;/table&gt;&quot;<br />\n&nbsp;&nbsp;html += &quot;&lt;/center&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += `<br />\n&nbsp;&nbsp;&lt;script&gt;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;function setAction(str) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById(&quot;desiredAction&quot;).value = str<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;function getDesiredAction() {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let actionInput = document.getElementById(&quot;desiredAction&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;return actionInput.value<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;function getWordsPerChunk() {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let wpcInput = document.getElementById(&quot;wordsPerChunk&quot;)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;return wpcInput.value<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&lt;/script&gt;<br />\n&nbsp;&nbsp;`<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;html += &quot;&lt;/body&gt;&lt;/html&gt;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;await webView.loadHTML(html)<br />\n&nbsp;&nbsp;await webView.present()<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let selectedAction = await webView.evaluateJavaScript(&quot;getDesiredAction()&quot;)<br />\n&nbsp;&nbsp;console.log(&quot;action:\\n&quot; + selectedAction)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let wpc = await webView.evaluateJavaScript(&quot;getWordsPerChunk()&quot;)<br />\n&nbsp;&nbsp;console.log(&quot;wpc: &quot; + wpc)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;return [selectedAction, wpc]<br />\n}<br />\n<br />\n<br />\n<br />\nfunction stringForNumLines(lines, lineOffset, numLines) {<br />\n&nbsp;&nbsp;let str = &quot;&quot;<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;for (let i = 0; i &lt; numLines; i++) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;str += &quot;\\n&quot; + lines[i+lineOffset];<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;return str<br />\n}<br />\n<br />\n<br />\nfunction findNumLinesToAchieveWordCount(lines, lineOffset, desiredWordCount) {<br />\n&nbsp;&nbsp;let lineCount = 0<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let accumWC = 0<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;for (let i = lineOffset; i &lt; lines.length; i++) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let line = lines[i]<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let lineWC = line.split(&quot; &quot;).length<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// Don&#039;t far exceed word count<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (i &gt; 0 &amp;&amp; lineWC &gt; 2*desiredWordCount) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;lineCount++<br />\n&nbsp;&nbsp;&nbsp;&nbsp;accumWC += lineWC<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (accumWC &gt;= desiredWordCount) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;return lineCount<br />\n}<br />\n<br />\n<br />\n// Instead of making a custom reversed version of findNumLinesToAchieveWordCount, this is a more complex method that should work with any future implementation of that method<br />\nfunction findNumLinesToGoBack(lines, lineOffset, wordsPerChunk) {<br />\n&nbsp;&nbsp;let numToGoBack = 0<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;for (numToGoBack = 0; numToGoBack &lt;= lineOffset; numToGoBack++) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let numLinesWeWouldPick = findNumLinesToAchieveWordCount(lines, lineOffset-numToGoBack, wordsPerChunk)<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// if our offset were lineOffset-numToGoBack<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// we would show numLinesWeWouldPick lines<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// if (lineOffset-numToGoBack) + numLinesWeWouldPick is equal to our current offset then that&#039;s the previous offset we had<br />\n&nbsp;&nbsp;&nbsp;&nbsp;// if that sum is less than our current offset then it would be going back too far<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;let testOffset = (lineOffset-numToGoBack) + numLinesWeWouldPick<br />\n&nbsp;&nbsp;&nbsp;&nbsp;<br />\n&nbsp;&nbsp;&nbsp;&nbsp;if (testOffset &lt;= lineOffset) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br />\n&nbsp;&nbsp;&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;}<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;console.log(&quot;Going back by &quot; + numToGoBack + &quot; lines&quot;)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;return numToGoBack<br />\n}<br />\n<br />\n<br />\n// I call over to a shortcut because the Speech support in Scriptable doesn&#039;t let me configure the speaking speed<br />\n// https://www.icloud.com/shortcuts/a3f88b742ada4a9f835e8a734bdfb907<br />\nasync function speakText(text) {<br />\n&nbsp;&nbsp;let callbackURL = new CallbackURL(&quot;shortcuts://x-callback-url/run-shortcut&quot;)<br />\n&nbsp;&nbsp;callbackURL.addParameter(&quot;name&quot;, &quot;SpeakText&quot;)<br />\n&nbsp;&nbsp;callbackURL.addParameter(&quot;input&quot;, &quot;text&quot;)<br />\n&nbsp;&nbsp;callbackURL.addParameter(&quot;text&quot;, text)<br />\n&nbsp;&nbsp;console.log(&quot;callbackurl: &quot; + callbackURL.getURL())<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let result = await callbackURL.open()<br />\n&nbsp;&nbsp;console.log(&quot;speakText result: &quot; + result)<br />\n}<br />\n<br />\n// I call over to a shortcut because the Dictation support in Scriptable requires touch interaction<br />\n// https://www.icloud.com/shortcuts/80a6e542803448329e110094bfee2146<br />\nasync function getDictatedText() {<br />\n&nbsp;&nbsp;let callbackURL = new CallbackURL(&quot;shortcuts://x-callback-url/run-shortcut&quot;)<br />\n&nbsp;&nbsp;callbackURL.addParameter(&quot;name&quot;, &quot;Dictate&quot;)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;console.log(&quot;callbackurl: &quot; + callbackURL.getURL())<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;let result = await callbackURL.open()<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;console.log(&quot;dictated text: &quot; + result.result)<br />\n&nbsp;&nbsp;<br />\n&nbsp;&nbsp;return result.result<br />\n}<br />\n<br />\n<br />\n// HTML encoding utilities<br />\n// Main logic from https://ourcodeworld.com/articles/read/188/encode-and-decode-html-entities-using-pure-javascript<br />\n<br />\nfunction htmlEncode(str) {<br />\n&nbsp;&nbsp;var buf = [];<br />\n\t\t\t<br />\n&nbsp;&nbsp;for (var i=str.length-1;i&gt;=0;i--) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;buf.unshift([&#039;&amp;#&#039;, str[i].charCodeAt(), &#039;;&#039;].join(&#039;&#039;));<br />\n&nbsp;&nbsp;}<br />\n\t\t\t<br />\n&nbsp;&nbsp;return buf.join(&#039;&#039;);<br />\n}<br />\n<br />\nfunction htmlDecode(str) {<br />\n&nbsp;&nbsp;return str.replace(/&amp;#(\\d+);/g, function(match, dec) {<br />\n&nbsp;&nbsp;&nbsp;&nbsp;return String.fromCharCode(dec);<br />\n&nbsp;&nbsp;});<br />\n}</div>\n7. You'll need to save a long text file (using a converted eBook works great) into Scriptable's directory using the Files app. Then, you'll need to replace \"your-book-filename.txt\" with the appropriate filename.<br />\n<br />\n8. Run the script<br />\n<br />\n9. Tap a mode (stop, skip, read, hands free) or keep the default (read) and then tap Close<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- stop: stop the script<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- skip: skip this page without reading it aloud<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- read: read this page, advance to the next one, and reprompt<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- hands free: read this page, then give the user a chance to say \"continue\" or \"stop\". If the user says \"continue\" the next page will automatically be read aloud. If the user says \"stop\", the script will stop running. This is especially useful when driving or washing dishes!<br />\n<br />\n<br />\nHopefully somebody will find these tools useful or inspiring!<br />\n"
    },
    {
         "title" : "Source Control",
         "date_published" : "2020-03-27T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/source-control.html",
         "url" : "https://memalign.github.io/p/source-control.html",
         "image" : "https://memalign.github.io/m/2560px-Git-logo-black.svg.png",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/source-control.html'>Source Control</a>\n</h2>\n</div>\n<img src=\"/m/2560px-Git-logo-black.svg.png\">\n<div id='postdate'>Posted on 3/27/2020<br />\nTags: <a href='/tags.html'>Programming</a></div>\nIt's smart to have backups of important information. The best way to have backups for programming projects is <a href=\"https://en.wikipedia.org/wiki/Version_control\">source control</a>.<br />\n<br />\nI've used source control (<a href=\"https://en.wikipedia.org/wiki/Git\">git</a>, specifically) for personal programming projects, professional software development, journals, and websites. It works well for anything text-based.<br />\n<br />\nSource control is super useful because it tracks incremental history of changes. That makes it easy to hone in on when a change (good or bad) was made with some context of why. That's useful when tracking down a nasty bug! It's also useful when researching why specific design decisions were made.<br />\n<br />\n<br />\nSome helpful options to get started with source control:<br />\n<br />\n- Use <a href=\"https://github.com\">https://github.com</a> to create and host repositories for free<br />\n<br />\n- Another free option is <a href=\"https://bitbucket.org/product\">Bitbucket</a><br />\n<br />\n- Create your own local git repository that lives directly on your computer. Learn more <a href=\"https://git-scm.com/book/en/v2/Appendix-C%3A-Git-Commands-Getting-and-Creating-Projects\">here</a>.<br />\n<br />\n<br />\nBecause code can often be reused, I recommend using git for nearly all the code you ever write. It's even useful to have a git repository that's just for small utilities or toying around. Use a local git repository if you want to keep it private.<br />\n<br />\nYou can find my own public GitHub repositories <a href=\"https://github.com/memalign/\">here</a>."
    },
    {
         "title" : "Personal Projects",
         "date_published" : "2020-03-26T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/personal-projects.html",
         "url" : "https://memalign.github.io/p/personal-projects.html",
         "image" : "https://memalign.github.io/m/sitegenerator.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/personal-projects.html'>Personal Projects</a>\n</h2>\n</div>\n<img src=\"/m/sitegenerator.jpg\">\n<div id='postdate'>Posted on 3/26/2020<br />\nTags: <a href='/tags.html'>Other</a></div>\nI used to get in my own head about personal projects.<br />\n<br />\nI didn't want to waste time working on something that wouldn't have a big impact on other people or wouldn't make money.<br />\n<br />\nI eventually worked on a tool for myself, mostly just for fun, and I realized that my hobbies don't need to be productive or impactful. An enjoyable hobby is a fulfilling part of life.<br />\n<br />\nThis website is a hobby that I think will be fun yet not impactful. Maybe somebody will see a post some day and think, \"that's neat\". That's more than enough for me :)<br />\n<br />\n(Programming the <a href=\"https://github.com/memalign/memalign.github.io/blob/master/SiteGenerator/SiteGenerator.js\">site generator</a> has already been lots of fun)"
    },
    {
         "title" : "How to Program a Text Adventure",
         "date_published" : "2020-03-25T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/text-adventure.html",
         "url" : "https://memalign.github.io/p/text-adventure.html",
         "image" : "https://memalign.github.io/m/text-adventure.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/text-adventure.html'>How to Program a Text Adventure</a>\n</h2>\n</div>\n<img src=\"/m/text-adventure.jpg\">\n<div id='postdate'>Posted on 3/25/2020<br />\nTags: <a href='/tags.html'>Programming</a>, <a href='/tags.html'>Interactive Fiction</a></div>\nText adventures, also known as <a href=\"https://en.wikipedia.org/wiki/Interactive_fiction\">interactive fiction</a>, are fun text-only computer games that give me a lot of nostalgia.<br />\n<br />\nI recently read a cool website that shows how to incrementally write your own text adventure:<br />\n<br />\n<a href=\"https://helderman.github.io/htpataic/htpataic01.html\">https://helderman.github.io/htpataic/htpataic01.html</a><br />\n<br />\n(An older version can be found <a href=\"http://home.hccnet.nl/r.helderman/adventures/htpataic01.html\">here</a>)<br />\n<br />\n<br />\nI like this website because:<br />\n<br />\n- It's written simply and clearly<br />\n<br />\n- It exposes the reader to a bunch of useful concepts in a practical context<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Text adventures<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- C programming<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Simple data structures<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Text parsing<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- AWK and Domain-specific languages<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- make files<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Generating a graph using Graphviz<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Automated testing<br />\n<br />\n- It serves as a launching point for learning these topics in depth<br />\n<br />\n- It demonstrates how to incrementally build a more complicated program from a simple one that works<br />\n<br />\n- The subject is fun<br />\n<br />\n<br />\nThis tutorial can serve as a great example for other types of online textbooks."
    },
    {
         "title" : "RSS and Feedly",
         "date_published" : "2020-03-22T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/feedly.html",
         "url" : "https://memalign.github.io/p/feedly.html",
         "image" : "https://memalign.github.io/m/feedly.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/feedly.html'>RSS and Feedly</a>\n</h2>\n</div>\n<img src=\"/m/feedly.jpg\">\n<div id='postdate'>Posted on 3/22/2020<br />\nTags: <a href='/tags.html'>Programming</a></div>\nI like to read news feeds to learn, find entertainment, and stay up-to-date on various topics.<br />\n<br />\nRSS feeds and Atom feeds are a great way to subscribe to news feeds. I used to use Google Reader and, after that service shut down, I moved to Feedly.<br />\n<br />\nFeedly is really cool! Especially for developers.<br />\n<br />\nOver winter break in 2019, I decided to build an app for myself to read news feeds (mainly so I could write smart filters to remove uninteresting entries). I did some cursory research into Feedly's developer support and I was pleasantly surprised by how easy the Feedly API is to adopt! Even though every website's RSS or Atom feed can have weird quirks, Feedly solves all of those problems for us. It's straightforward and quick to use the Feedly API to build a simple RSS reader.<br />\n<br />\n<br />\nHere's how I adopted the Feedly API (and how you can too):<br />\n<br />\n1. Become a Feedly user. Create an account using their website or app.<br />\n<br />\n2. Subscribe to some RSS feeds using their app<br />\n<br />\n3. Decide to build a custom news reader app to read these feeds<br />\n<br />\n4. Look at their developer documentation with an eye toward ease of adoption and whether all needed functionality exists<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Documentation is found here: <a href=\"https://developer.feedly.com/\">https://developer.feedly.com/</a><br />\n<br />\n5. Note the primitives needed to build an app:<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Get a list of news feeds with unread entries: <a href=\"https://developer.feedly.com/v3/markers/\">https://developer.feedly.com/v3/markers/</a><br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Get information about a feed (I use this to get its icon): <a href=\"https://developer.feedly.com/v3/collections/\">https://developer.feedly.com/v3/collections/</a><br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Get a list of news entries (including their content) for a given feed: <a href=\"https://developer.feedly.com/v3/streams/\">https://developer.feedly.com/v3/streams/</a><br />\n<br />\n6. Get access to their API. It's easy to start prototyping for your own use with a developer access token: <a href=\"https://developer.feedly.com/v3/developer/\">https://developer.feedly.com/v3/developer/</a><br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Your developer access token can then be included in HTTP requests instead of a real OAuth token.<br />\n<br />\n7. Use <a href=\"https://en.wikipedia.org/wiki/CURL\">curl</a> to quickly prove that the developer access token works and the APIs return expected results<br />\n&nbsp;&nbsp;&nbsp;&nbsp;- Here's an example command:<br />\n<div id='code'>curl -H &#039;Authorization: OAuth YOUR_DEV_TOKEN&#039; https://cloud.feedly.com/v3/markers/counts</div>\n8. Think about how to organize your code into classes. Some useful classes might be: FeedlyDataSource, NewsFeed, NewsEntry.<br />\n<br />\n9. Use your platform's built-in APIs for making HTTP requests, parsing JSON, displaying a list of NewsEntrys to the user.<br />\n<br />\n10. As you build your app, add unit tests for parsing responses. One tip: save some curl results to files and inject those files into tests so your tests can work offline. Save to file like this:<br />\n<div id='code'>curl -H &#039;Authorization: OAuth YOUR_DEV_TOKEN&#039; https://cloud.feedly.com/v3/markers/counts &gt; /path/to/test_data_files/markersCountsResponse.txt</div>\nIf you need any help, please @ me on <a href=\"http://twitter.com/memalign\">Twitter</a>.<br />\n<br />\n<br />\nBonus:<br />\n<br />\n- You can subscribe to YouTube channels in Feedly<br />\n- I like to subscribe to HackerNews in Feedly instead of reading it on the website: <a href=\"https://news.ycombinator.com/rss\">https://news.ycombinator.com/rss</a>"
    },
    {
         "title" : "Welcome",
         "date_published" : "2019-12-26T00:00:00-08:00",
         "id" : "https://memalign.github.io/p/this-website.html",
         "url" : "https://memalign.github.io/p/this-website.html",
         "image" : "https://memalign.github.io/m/shiba.jpg",
         "author" : {
            "name" : "memalign"
         },
         "content_html" : "\n<div id='header'>\n<h2>\n<a href='https://memalign.github.io/p/this-website.html'>Welcome</a>\n</h2>\n</div>\n<img src=\"/m/shiba.jpg\">\n<div id='postdate'>Posted on 12/26/2019<br />\nTags: <a href='/tags.html'>Other</a></div>\nWelcome to memalign.github.io!<br />\n<br />\nI made this website so I have a place to post ideas and projects.<br />\n<br />\nI'm creating my own website instead of posting on Facebook or Twitter with the hope that it'll be more durable and discoverable long-term.<br />\n<br />\nI also hope that this website will be simpler than maintaining some kind of blog.<br />\n<br />\n<br />\nAbout me:<br />\n- I live in California. I moved here for a software engineering job after graduating college<br />\n- I'm married to a beautiful and intelligent woman who works as an attorney<br />\n- We have a Shiba Inu who brings us a lot of joy<br />\n"
    }
  ]
}
