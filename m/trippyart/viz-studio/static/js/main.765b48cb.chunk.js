(this["webpackJsonpviz-studio"]=this["webpackJsonpviz-studio"]||[]).push([[0],{26:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SketchCell}));var _Users_jason_workspace_viz_studio_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_p5__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30),_slider_scss__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(48),_slider_scss__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_slider_scss__WEBPACK_IMPORTED_MODULE_3__),_play_button_scss__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(49),_play_button_scss__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_play_button_scss__WEBPACK_IMPORTED_MODULE_4__),_cell_scss__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(50),_cell_scss__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_cell_scss__WEBPACK_IMPORTED_MODULE_5__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);function SketchCell(_ref){var _p5Ref$current3,_ref$start=_ref.start,start=void 0===_ref$start?0:_ref$start,_ref$duration=_ref.duration,duration=void 0===_ref$duration?30:_ref$duration,_ref$frameRate=_ref.frameRate,frameRate=void 0===_ref$frameRate?60:_ref$frameRate,_ref$rate=_ref.rate,rate=void 0===_ref$rate?1:_ref$rate,_ref$width=_ref.width,width=void 0===_ref$width?710:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?400:_ref$height,_ref$playButtonSize=_ref.playButtonSize,playButtonSize=void 0===_ref$playButtonSize?30:_ref$playButtonSize,_ref$autoPlay=_ref.autoPlay,autoPlay=void 0===_ref$autoPlay||_ref$autoPlay,_ref$loop=_ref.loop,loop=void 0!==_ref$loop&&_ref$loop,_ref$webgl=_ref.webgl,webgl=void 0!==_ref$webgl&&_ref$webgl,_ref$code=_ref.code,code=void 0===_ref$code?function(e,t){return{setup:function(){},draw:function(e){}}}:_ref$code,_ref$codeString=_ref.codeString,codeString=void 0===_ref$codeString?"":_ref$codeString,_ref$freshState=_ref.freshState,freshState=void 0!==_ref$freshState&&_ref$freshState,p5Ref=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),showRecordButton=!1,canvasRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),cellRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),timeSliderRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),saveVideoRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),recorderRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),videoChunks=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]),streamRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),sketchState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)({t:0,start:start,duration:duration,rate:rate,width:width,height:height,loop:loop,autoPlay:autoPlay,codeString:codeString,prevCodeString:codeString,frameRate:frameRate,webgl:webgl,__state:{},__once:{}}),s=sketchState.current;Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){var e,t,n,r;(s.start=start,s.duration=duration,s.rate=rate,s.width=width,s.height=height,s.loop=loop,s.autoPlay=autoPlay,s.codeString=codeString,s.frameRate=frameRate,s.webgl=webgl,s.__once=s.__once||{},p5Ref.current)&&(s.__state=null!==(e=null===(t=p5Ref.current)||void 0===t?void 0:t.__state)&&void 0!==e?e:{},s.__once=null!==(n=null===(r=p5Ref.current)||void 0===r?void 0:r.__once)&&void 0!==n?n:{})}),[start,duration,rate,width,height,loop,autoPlay,s,codeString,frameRate,webgl,freshState,null===(_p5Ref$current3=p5Ref.current)||void 0===_p5Ref$current3?void 0:_p5Ref$current3.__state]);var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(autoPlay),_useState2=Object(_Users_jason_workspace_viz_studio_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),shouldPlay=_useState2[0],setPlay=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),_useState4=Object(_Users_jason_workspace_viz_studio_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),shouldRecord=_useState4[0],setRecord=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),_useState6=Object(_Users_jason_workspace_viz_studio_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState5,2),isRecording=_useState6[0],setRecording=_useState6[1],record=function(){setRecord(!0),videoChunks.current=[]},stopRecording=function(){setRecord(!1)};function exportVideo(e){var t=new Blob(videoChunks.current),n=document.createElement("video");n.id="recorded",n.controls=!0;var r=document.createElement("source");r.src=URL.createObjectURL(t),r.type=t.type,n.appendChild(r),document.body.appendChild(n),n.play()}Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){null!==streamRef.current&&null==recorderRef.current&&(recorderRef.current=new MediaRecorder(streamRef.current,{audioBitsPerSecond:0,videoBitsPerSecond:25e5,mimeType:"video/webm"}),recorderRef.current.ondataavailable=function(e){e.data.size&&(console.log("Got chunk",e.data),videoChunks.current.push(e.data))},recorderRef.current.onstop=exportVideo)}),[]);var Sketch=function Sketch(p){var timeSlider,time;p.__state=s.__state;var execCodeString=function execCodeString(code){return eval("\n      const __vars = {};\n      for (let m in p) {\n        __vars[m] = p[m];\n      }\n      ".concat(code,"\n      const entries = [];\n      for (let m in p) {\n        if (typeof p[m] === 'function' && !__vars[m]) {\n          entries.push([m, p[m]]);\n        }\n      }\n      Object.fromEntries(entries);"))},c=s.codeString?function(){try{var e=execCodeString(s.codeString);return s.prevCodeString=s.codeString,e}catch(t){return console.error("Failed to compile.",t),execCodeString(s.prevCodeString)}}():code(p,s),getFriendlyTime=function(){return p.floor(s.start+s.t)},getFriendlyDuration=function(){return p.floor(s.start+s.duration)},formatTimeAndDuration=function(){return"".concat(getFriendlyTime()," / ").concat(getFriendlyDuration())},updateTime=function(e){timeSlider.value(e),time.html(formatTimeAndDuration())},stop=function(){setPlay(!1),isRecording&&(setRecording(!1),recorderRef.current.stop()),updateTime(0)};p.preload=function(){},p.setup=function(){s.webgl?p.createCanvas(width,height,p.WEBGL):p.createCanvas(width,height);if(p.randomSeed(1337),p.frameRate(s.frameRate),p.textSize(15),p.noStroke(),(timeSlider=p.createSlider(0,s.duration,s.t,.01)).style("width","".concat(width-playButtonSize-8,"px")),timeSlider.style("margin-left","".concat(playButtonSize,"px")),timeSlider.addClass("e-range"),timeSlider.parent(timeSliderRef.current),(time=p.createSpan(formatTimeAndDuration())).addClass("seek-time"),time.parent(timeSliderRef.current),c&&c.setup)try{c.setup()}catch(e){console.error("Failed to execute setup.",e)}},p.draw=function(){p.textSize(18),shouldRecord&&!isRecording?(updateTime(0),setRecording(!0),setPlay(!0),recorderRef.current.start(1e3)):!shouldRecord&&isRecording&&(recorderRef.current.stop(),setRecording(!1)),timeSlider.value()!==s.t&&(s.t=timeSlider.value(),updateTime(s.t));var e=shouldPlay?(s.t+s.rate)%s.duration:s.t;if(c&&c.draw)try{c.draw(s.start+s.t,s.start+e)}catch(t){p.noLoop(),console.error("Failed to execute draw.",t)}shouldPlay&&(s.t=e,updateTime(s.t),!loop&&s.t+s.rate>=s.duration&&stop())}},myRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),rerender=function(){null!=myRef.current&&(null!=p5Ref.current&&p5Ref.current.remove(),p5Ref.current=new _p5__WEBPACK_IMPORTED_MODULE_2__.a(Sketch,myRef.current))};return Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(rerender,[Sketch]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{ref:cellRef,className:"cell",children:[showRecordButton&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("button",{ref:saveVideoRef,onClick:function(){isRecording?stopRecording():record()},children:isRecording?"Recording...":"Record"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"sketch",ref:myRef}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{ref:timeSliderRef,className:"time-slider"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("button",{className:"play-button".concat(shouldPlay?" paused":""),onClick:function(){setPlay(!shouldPlay)}})]})}},30:function(e,t,n){"use strict";var r=n(2),a=n.n(r),i=a.a.prototype.plot2D=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=a.strokeWeight,o=void 0===i?3:i,s=a.preVertex,_=void 0===s?function(e,t){}:s;this.strokeWeight(o),this.noFill(),this.beginShape(),_(0,e);var c=n(e),l=r(e);this.curveVertex(c,l),this.endShape();for(var d=1/(t-e),u=e;u<=t;u++){this.beginShape(),_((u-e)*d,u);var p=n(u-1),h=r(u-1);this.curveVertex(p,h),this.curveVertex(p,h);var f=n(u),m=r(u);this.curveVertex(f,m),this.curveVertex(f,m),this.endShape()}this.beginShape(),_(1,t),c=n(t),l=r(t),this.curveVertex(c,l),this.curveVertex(c,l),this.endShape(),this.strokeWeight(1)},o=n(27),s=n.n(o),_=a.a.prototype.latex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.createSpan();return r.style("font-size","".concat(this.textSize(),"px")),r.position(t,n),s.a.render(e,r.elt),r},c=(a.a.prototype.staticText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.latex("\\text{".concat(e,"}"),t,n)},a.a.prototype.isWebGL=function(){return this._renderer.drawingContext instanceof WebGLRenderingContext}),l=a.a.prototype.cache=function(e,t){return this.__state||(this.__state={}),this.__state[e]=t,this.__state[e]},d=a.a.prototype.fromCache=function(e){return this.__state[e]},u=a.a.prototype.removeFromCache=function(e){delete this.__state[e]},p=a.a.prototype.clearCache=function(e){this.__state={}},h=a.a.prototype.cachedSlider=function(e,t,n,r){var a,i;this.__state||(this.__state={});var o=this.createSlider(t,n,null!==(a=null===(i=this.fromCache(e))||void 0===i?void 0:i.value())&&void 0!==a?a:r);return o.addClass("e-range"),o.style("width","80px"),o.style("margin-top","8px"),o.style("background","blue"),this.cache(e,o)},f=a.a.prototype.once=function(e,t){this.__once||(this.__once={}),this.__once[e]||(this.__once[e]=t())},m=a.a.prototype.fromOnce=function(e){return(this.__once||{})[e]};a.a.prototype.plot2D=i,a.a.prototype.latex=_,a.a.prototype.isWebGL=c,a.a.prototype.cache=l,a.a.prototype.fromCache=d,a.a.prototype.removeFromCache=u,a.a.prototype.clearCache=p,a.a.prototype.cachedSlider=h,a.a.prototype.once=f,a.a.prototype.fromOnce=m;t.a=a.a},36:function(e,t,n){},37:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},57:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(24),o=n.n(i),s=(n(36),n(7)),_=(n(37),n(3)),c=n(25),l=n.n(c),d=(n(45),n(46),n(47),n(26)),u=n(12),p=n(31),h=(n(57),"// Player Settings\ns.start = 153;\ns.duration = 378 + 5 * 225;\ns.rate = 1;\ns.frameRate = 60;\ns.webgl = false;\n\n// Setup the P5.js Sketch\nlet particles = [];\np.setup = () => {\n  // Convenience functions like `latex` are available.\n  p.staticText(\"The curve is defined by:\", 16, 16);\n  // Demonstrate our system of equations\n  p.latex(\n    `\\\\begin{cases}\n    ${x1Latex}\\\\\\\\\n    ${y1Latex}\n    \\\\end{cases}`,\n    16, 48\n  );\n\n  // This is where things that don't need to happen each frame should be called.\n  for(let i = 0;i<width/10;i++){\n    particles.push(new Particle());\n  }\n};\n\np.draw = (t, nextT) => {\n  // WebGL origin is the center.\n  if (p.isWebGL()) {\n    p.translate(- p.width / 2, - p.height / 2)\n  }\n  // Draw the background each frame\n  p.background('#0f0f0f');\n  // Plot our function based on the current time.\n  plot(t);\n  \n  // Update our particles\n  for(let i = 0;i<particles.length;i++) {\n    // Draw particles\n    particles[i].drawParticle();\n    // Move them according to the current time\n    particles[i].moveParticle(t);\n    // Draw connecting lines\n    particles[i].joinParticles(particles.slice(i));\n  }\n};\n\n// Change the color and stroke according to fraction of drawn plot.\nconst fadingGradient = (fraction, _) => {\n    p.stroke(\n        p.lerpColor(\n            p.color('#277DA1'),\n            p.color('#F76C5E'),\n            fraction,\n        )\n    );\n    p.strokeWeight(fraction * 3);\n};\n\n// Plot our functions!\nconst plot = (t, tail = 100) => {\n  p.translate(s.width / 2, -s.height / 2.25);\n  let start = Math.max(0, t - tail);\n  let end = t;\n  p.plot2D(start, end, x1, y1, {preVertex:  fadingGradient});\n  p.translate(-s.width / 2, s.height / 2.25);\n};\n\n// The LATEX for our additive cos function.\nconst x1Latex = \"x = \\\\sum_{i=1}^{3} sin(\\\\frac{t}{10i})\";\n// The x-location of the tip of the plot at a given time.\nconst x1 = (t, scale = Math.min(s.width, s.height) / 10) => {\n  // Additive sine function\n  return scale * (p.sin(t/10) + p.sin(t/20) + p.sin(t/30));\n};\n\n// The LATEX for our additive sin function.\nconst y1Latex = \"y = \\\\sum_{i=1}^{3} cos(\\\\frac{t}{10i})\";\n// The y-location of the tip of the plot at a given time.\nconst y1 = (t, scale = Math.min(s.width, s.height) / 10) => {\n  // Additive cosine function\n  const yLoc = scale * (p.cos(t / 10) + p.cos(t / 20) + p.cos(t / 30));\n  // Flip the axis so we're drawing from the bottom left.\n  return s.height - yLoc;\n};\n\n// Adapted \"Simulated Particles\" from p5.js docs\n// Should be functionally identical, but is parametrized by `t`.\n// https://p5js.org/examples/simulate-particles.html\nclass Particle {\n  // setting the co-ordinates, radius and the\n  // speed of a particle in both the co-ordinates axes.\n  constructor(){\n    this.x = this.originX = p.random(0,width);\n    this.y = this.originY = p.random(0,height);\n    this.r = p.random(width / 1000, width / 200);\n    this.xSpeed = p.random(-width / 500, width / 500);\n    this.ySpeed = p.random(-height / 500, height / 500);\n  }\n\n  // Creation of a particle.\n  drawParticle() {\n    p.noStroke();\n    p.fill('rgba(200,169,169,0.5)');\n    p.circle(this.x,this.y,this.r);\n  }\n  \n  // Make particles bounce of the sides\n  bounce (rawVal, max) {\n    const val = p.abs(rawVal);\n    let bounces = p.floor(val / max);\n    let remainder = val % max;\n    if (bounces % 2 == 1) {\n        remainder = (max - remainder);\n    }\n    return remainder;\n  }\n\n  // setting the particle in motion.\n  moveParticle(t) {\n    this.x = this.bounce(this.originX + this.xSpeed * t, width);\n    this.y = this.bounce(this.originY + this.ySpeed * t, height);\n  }\n\n  // this function creates the connections(lines)\n  // between particles which are less than a certain distance apart\n  joinParticles(particles) {\n    particles.forEach(element =>{\n      let dis = p.dist(this.x,this.y,element.x,element.y);\n      if (dis < Math.min(width, height) / 10) {\n        p.stroke('rgba(255,255,255,0.04)');\n        p.line(this.x,this.y,element.x,element.y);\n      }\n    });\n  }\n}\n"),f=n(4);function m(e){for(var t=0,n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}function v(e){var t=e.height,n=e.width,a=void 0===n?700:n,i=e.updateOnChange,o=void 0!==i&&i,c=Object(r.useState)(!1),v=Object(s.a)(c,2),b=(v[0],v[1]),g=Object(r.useState)(4/7),O=Object(s.a)(g,2),E=O[0],R=O[1],y=Object(r.useState)(t>400),x=Object(s.a)(y,2),P=x[0],S=x[1],w=a>1e3,M=Object(r.useState)(""),D=Object(s.a)(M,2),C=D[0],j=D[1],T=Object(r.useRef)(!1),k=Object(_.e)(),L=Object(_.d)(),A=w?a:t,B=P?E:1,U=Object(r.useRef)(Math.floor(B*A)),W=Object(r.useState)(U.current),I=Object(s.a)(W,2),$=(I[0],I[1]);function z(e){var t;if(e.length)if("new"!==e.toLowerCase())if("pendulum"!==e.toLowerCase())if("mandelbrot"!==e.toLowerCase())try{var n=(t=e,decodeURIComponent(escape(window.atob(t))));j(n)}catch(r){console.error("Unable to parse program, falling back to template."),k.hash="",j(h)}else j("s.start = 940;\ns.duration = 2200 - s.start;\ns.webgl = true;\n\n// the 'varying's are shared between both vertex & fragment shaders\nlet varying = 'precision highp float; varying vec2 vPos;';\n\n// the vertex shader is called for each vertex\nlet vs =\n  varying +\n  'attribute vec3 aPosition;' +\n  'void main() { vPos = (gl_Position = vec4(aPosition,1.0)).xy; }';\n\n// the fragment shader is called for each pixel\nlet fs =\n  varying +\n  'uniform vec2 p;' +\n  'uniform float r;' +\n  'const int I = 500;' +\n  'void main() {' +\n  '  vec2 c = p + vPos * r, z = c;' +\n  '  float n = 0.0;' +\n  '  for (int i = I; i > 0; i --) {' +\n  '    if(z.x*z.x+z.y*z.y > 4.0) {' +\n  '      n = float(i)/float(I);' +\n  '      break;' +\n  '    }' +\n  '    z = vec2(z.x*z.x-z.y*z.y, 2.0*z.x*z.y) + c;' +\n  '  }' +\n  '  gl_FragColor = vec4(0.5-cos(n*12.0)/1.0,0.5-cos(n*13.0)/2.0,0.5-cos(n*23.0)/2.0,1.0);' +\n  '}';\n\nlet mandel;\np.setup = () => {\n  p.staticText(\"Mandelbrot\", 8, 8);\n\n  \n  mandel = p.createShader(vs, fs);\n  p.shader(mandel);\n  p.noStroke();\n\n  // 'p' is the center point of the Mandelbrot image\n  mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\n};\n\np.draw = (t, nextT) => {\n  p.background(0);\n  p.translate(-s.width / 2, -s.height / 2);\n    mandel.setUniform('r', 1.5 * p.exp(-6.5 * (1 + p.sin(t / 200))));\n      p.quad(-1, -1, 1, -1, 1, 1, -1, 1);\n};");else j("// Adapted (look, feel, and parameterized by time) from:\n// Daniel Shiffman\n// https://thecodingtrain.com/CodingChallenges/093-double-pendulum.html\n\nlet size = Math.min(height, width);\n\nlet r1 = size / 7;\nlet r2 = r1;\nlet m1 = r1 / 7;\nlet m2 = m1;\nlet g = size / 500;\n\nlet px2 = -1;\nlet py2 = -1;\nlet cx, cy;\n\nlet buffer;\nlet frames = [];\n\ns.duration = 1000;\n\nconst calculateFrames = () => {\n  let a1 = p.PI / 2;\n  let a2 = p.PI / 2;\n  let a1_v = 0;\n  let a2_v = 0;\n  cx = p.width / 2;\n  cy = p.height / 4;\n  \n  frames = [];\n  for (var i = 0; i <= s.duration; i++) {\n    let num1 = -g * (2 * m1 + m2) * p.sin(a1);\n    let num2 = -m2 * g * p.sin(a1 - 2 * a2);\n    let num3 = -2 * p.sin(a1 - a2) * m2;\n    let num4 = a2_v * a2_v * r2 + a1_v * a1_v * r1 * p.cos(a1 - a2);\n    let den = r1 * (2 * m1 + m2 - m2 * p.cos(2 * a1 - 2 * a2));\n    let a1_a = (num1 + num2 + num3 * num4) / den;\n  \n    num1 = 2 * p.sin(a1 - a2);\n    num2 = (a1_v * a1_v * r1 * (m1 + m2));\n    num3 = g * (m1 + m2) * p.cos(a1);\n    num4 = a2_v * a2_v * r2 * m2 * p.cos(a1 - a2);\n    den = r2 * (2 * m1 + m2 - m2 * p.cos(2 * a1 - 2 * a2));\n    let a2_a = (num1 * (num2 + num3 + num4)) / den;\n  \n    let x1 = r1 * p.sin(a1);\n    let y1 = r1 * p.cos(a1);\n  \n    let x2 = x1 + r2 * p.sin(a2);\n    let y2 = y1 + r2 * p.cos(a2);\n    \n    frames.push({x1, x2, y1, y2, px2, py2});\n    \n    a1_v += a1_a;\n    a2_v += a2_a;\n    a1 += a1_v;\n    a2 += a2_v;\n  \n    px2 = x2;\n    py2 = y2;\n  }\n};\n\nlet sliderR1, sliderR2, sliderM1, sliderM2;\nlet txt;\n\np.setup = () => {\n  p.staticText(\"Radius 1\", 10, 10);\n  p.staticText(\"Radius 2\", 10, 30);\n  p.staticText(\"Mass 1\", 10, 50);\n  p.staticText(\"Mass 2\", 10, 70);\n  sliderR1 = p.cachedSlider('sliderR1', 10, 200, r1).position(90, 10);\n  sliderR2 = p.cachedSlider('sliderR2', 10, 200, r2).position(90, 30);\n  sliderM1 = p.cachedSlider('sliderM1', 2, 100, m1).position(90, 50);\n  sliderM2 = p.cachedSlider('sliderM2', 2, 100, m2).position(90, 70);\n  \n  calculateFrames();\n}\n\np.draw = (t) => {\n  p.background(0);\n\n  if (r1 != sliderR1.value() || r2 != sliderR2.value() || m1 != sliderM1.value() || m2 != sliderM2.value()) {\n    r1 = sliderR1.value();\n    r2 = sliderR2.value();\n    m1 = sliderM1.value();\n    m2 = sliderM2.value();\n    calculateFrames();\n  }\n\n  const fadingGradient = (_, value, minVal = 0.2, length = s.duration / 5) => {\n    let fraction = Math.max(minVal, 1 - ((t-value) / length));\n    p.stroke(\n        p.lerpColor(\n            p.color('#277DA1'),\n            p.color('#F76C5E'),\n            fraction,\n        )\n    );\n    p.strokeWeight(fraction * 3);\n  };\n  \n  const {x1, x2, y1, y2, px2, py2} = frames[p.floor(t)];\n  \n  p.translate(cx, cy);\n  p.stroke('white');\n  p.strokeWeight(2);\n\n  p.line(0, 0, x1, y1);\n  p.fill(0);\n  p.ellipse(x1, y1, m1, m1);\n\n  p.line(x1, y1, x2, y2);\n  p.fill(0);\n  p.ellipse(x2, y2, m2, m2);\n  \n  if (t >= 1) {\n    p.plot2D(1, p.floor(t), (i) => frames[i].x2, (i) => frames[i].y2, {strokeWeight: 2, preVertex: fadingGradient})\n  }\n}\n");else j("// Untitled\ns.duration = 1000;\np.setup = () => {\n\n};\n\np.draw = () => {\n  p.background(0);\n};\n");else j(h)}Object(r.useEffect)((function(){z(k.pathname.substr(1)),L.listen((function(e){T.current||(b(!0),z(e.pathname.substr(1)),b(!1))}))}),[]);var K=function(e){if(m(C)!==m(e)){j(e),T.current=!0;var t=(n=e,window.btoa(unescape(encodeURIComponent(n))));L.push(t),z(t),T.current=!1}var n};Object(r.useEffect)((function(){$(E*A)}),[A,E]);var F=w?t:B*t,V=w?B*a:a,q=w?t:t-F,G=w?a-V:a;return Object(f.jsx)("div",{children:C&&Object(f.jsxs)(p.a,{split:w?"vertical":"horizontal",size:w?V:F,onChange:Object(u.debounce)((function(e){R(e/A),$(E*A)}),300),allowResize:!0,onResizerDoubleClick:function(){return S(!P)},children:[Object(f.jsx)(d.a,{width:V,height:F,codeString:C,rate:1,loop:!0,freshState:!0}),P&&Object(f.jsx)(l.a,{style:{width:"".concat(G,"px")},height:"".concat(q,"px"),mode:"jsx",theme:"monokai",name:"UNIQUE_ID_OF_DIV",onChange:o?Object(u.debounce)(K,300):void 0,onBlur:o?void 0:function(e,t){return K(t.getValue())},value:C,defaultValue:C,editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,tabSize:2,printMargin:!1}})]})})}var b=function(){var e=function(){var e=Object(r.useState)([0,0]),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(r.useLayoutEffect)((function(){function e(){a([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)("header",{className:"App-header",children:n&&Object(f.jsx)(v,{height:a,width:n,updateOnChange:!0})})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))},O=n(17);o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(O.a,{hashType:"noslash",children:Object(f.jsx)(b,{})})}),document.getElementById("root")),g()}},[[60,1,2]]]);
//# sourceMappingURL=main.765b48cb.chunk.js.map